(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Mr,ge,hc,Cn,ja,fc,mc,pc,Zi,gi,bi,gc,Tr={},bc=[],md=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Pr=Array.isArray;function Vt(r,t){for(var n in t)r[n]=t[n];return r}function ea(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function mt(r,t,n){var s,i,a,o={};for(a in t)a=="key"?s=t[a]:a=="ref"?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?Mr.call(arguments,2):n),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)o[a]===void 0&&(o[a]=r.defaultProps[a]);return xr(r,o,s,i,null)}function xr(r,t,n,s,i){var a={type:r,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++hc,__i:-1,__u:0};return i==null&&ge.vnode!=null&&ge.vnode(a),a}function vc(){return{current:null}}function G(r){return r.children}function qt(r,t){this.props=r,this.context=t}function Hn(r,t){if(t==null)return r.__?Hn(r.__,r.__i+1):null;for(var n;t<r.__k.length;t++)if((n=r.__k[t])!=null&&n.__e!=null)return n.__e;return typeof r.type=="function"?Hn(r):null}function yc(r){var t,n;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((n=r.__k[t])!=null&&n.__e!=null){r.__e=r.__c.base=n.__e;break}return yc(r)}}function vi(r){(!r.__d&&(r.__d=!0)&&Cn.push(r)&&!ms.__r++||ja!=ge.debounceRendering)&&((ja=ge.debounceRendering)||fc)(ms)}function ms(){for(var r,t,n,s,i,a,o,c=1;Cn.length;)Cn.length>c&&Cn.sort(mc),r=Cn.shift(),c=Cn.length,r.__d&&(n=void 0,i=(s=(t=r).__v).__e,a=[],o=[],t.__P&&((n=Vt({},s)).__v=s.__v+1,ge.vnode&&ge.vnode(n),ta(t.__P,n,s,t.__n,t.__P.namespaceURI,32&s.__u?[i]:null,a,i??Hn(s),!!(32&s.__u),o),n.__v=s.__v,n.__.__k[n.__i]=n,xc(a,n,o),n.__e!=i&&yc(n)));ms.__r=0}function wc(r,t,n,s,i,a,o,c,l,d,u){var h,m,f,p,b,y,w,x=s&&s.__k||bc,k=t.length;for(l=pd(n,t,x,l,k),h=0;h<k;h++)(f=n.__k[h])!=null&&(m=f.__i==-1?Tr:x[f.__i]||Tr,f.__i=h,y=ta(r,f,m,i,a,o,c,l,d,u),p=f.__e,f.ref&&m.ref!=f.ref&&(m.ref&&na(m.ref,null,f),u.push(f.ref,f.__c||p,f)),b==null&&p!=null&&(b=p),(w=!!(4&f.__u))||m.__k===f.__k?l=_c(f,l,r,w):typeof f.type=="function"&&y!==void 0?l=y:p&&(l=p.nextSibling),f.__u&=-7);return n.__e=b,l}function pd(r,t,n,s,i){var a,o,c,l,d,u=n.length,h=u,m=0;for(r.__k=new Array(i),a=0;a<i;a++)(o=t[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=a+m,(o=r.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?xr(null,o,null,null,null):Pr(o)?xr(G,{children:o},null,null,null):o.constructor==null&&o.__b>0?xr(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=r,o.__b=r.__b+1,c=null,(d=o.__i=gd(o,n,l,h))!=-1&&(h--,(c=n[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(i>u?m--:i<u&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=l&&(d==l-1?m--:d==l+1?m++:(d>l?m--:m++,o.__u|=4))):r.__k[a]=null;if(h)for(a=0;a<u;a++)(c=n[a])!=null&&(2&c.__u)==0&&(c.__e==s&&(s=Hn(c)),Nc(c,c));return s}function _c(r,t,n,s){var i,a;if(typeof r.type=="function"){for(i=r.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=r,t=_c(i[a],t,n,s));return t}r.__e!=t&&(s&&(t&&r.type&&!t.parentNode&&(t=Hn(r)),n.insertBefore(r.__e,t||null)),t=r.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Qt(r,t){return t=t||[],r==null||typeof r=="boolean"||(Pr(r)?r.some(function(n){Qt(n,t)}):t.push(r)),t}function gd(r,t,n,s){var i,a,o,c=r.key,l=r.type,d=t[n],u=d!=null&&(2&d.__u)==0;if(d===null&&r.key==null||u&&c==d.key&&l==d.type)return n;if(s>(u?1:0)){for(i=n-1,a=n+1;i>=0||a<t.length;)if((d=t[o=i>=0?i--:a++])!=null&&(2&d.__u)==0&&c==d.key&&l==d.type)return o}return-1}function za(r,t,n){t[0]=="-"?r.setProperty(t,n??""):r[t]=n==null?"":typeof n!="number"||md.test(t)?n:n+"px"}function $r(r,t,n,s,i){var a,o;e:if(t=="style")if(typeof n=="string")r.style.cssText=n;else{if(typeof s=="string"&&(r.style.cssText=s=""),s)for(t in s)n&&t in n||za(r.style,t,"");if(n)for(t in n)s&&n[t]==s[t]||za(r.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(pc,"$1")),o=t.toLowerCase(),t=o in r||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),r.l||(r.l={}),r.l[t+a]=n,n?s?n.u=s.u:(n.u=Zi,r.addEventListener(t,a?bi:gi,a)):r.removeEventListener(t,a?bi:gi,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in r)try{r[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?r.removeAttribute(t):r.setAttribute(t,t=="popover"&&n==1?"":n))}}function Fa(r){return function(t){if(this.l){var n=this.l[t.type+r];if(t.t==null)t.t=Zi++;else if(t.t<n.u)return;return n(ge.event?ge.event(t):t)}}}function ta(r,t,n,s,i,a,o,c,l,d){var u,h,m,f,p,b,y,w,x,k,v,C,I,A,S,_,R,M=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),a=[c=t.__e=n.__e]),(u=ge.__b)&&u(t);e:if(typeof M=="function")try{if(w=t.props,x="prototype"in M&&M.prototype.render,k=(u=M.contextType)&&s[u.__c],v=u?k?k.props.value:u.__:s,n.__c?y=(h=t.__c=n.__c).__=h.__E:(x?t.__c=h=new M(w,v):(t.__c=h=new qt(w,v),h.constructor=M,h.render=vd),k&&k.sub(h),h.props=w,h.state||(h.state={}),h.context=v,h.__n=s,m=h.__d=!0,h.__h=[],h._sb=[]),x&&h.__s==null&&(h.__s=h.state),x&&M.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Vt({},h.__s)),Vt(h.__s,M.getDerivedStateFromProps(w,h.__s))),f=h.props,p=h.state,h.__v=t,m)x&&M.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),x&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x&&M.getDerivedStateFromProps==null&&w!==f&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,v),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,v)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(j){j&&(j.__=t)}),C=0;C<h._sb.length;C++)h.__h.push(h._sb[C]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,v),x&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(f,p,b)})}if(h.context=v,h.props=w,h.__P=r,h.__e=!1,I=ge.__r,A=0,x){for(h.state=h.__s,h.__d=!1,I&&I(t),u=h.render(h.props,h.state,h.context),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[]}else do h.__d=!1,I&&I(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++A<25);h.state=h.__s,h.getChildContext!=null&&(s=Vt(Vt({},s),h.getChildContext())),x&&!m&&h.getSnapshotBeforeUpdate!=null&&(b=h.getSnapshotBeforeUpdate(f,p)),_=u,u!=null&&u.type===G&&u.key==null&&(_=Cc(u.props.children)),c=wc(r,Pr(_)?_:[_],t,n,s,i,a,o,c,l,d),h.base=t.__e,t.__u&=-161,h.__h.length&&o.push(h),y&&(h.__E=h.__=null)}catch(j){if(t.__v=null,l||a!=null)if(j.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,t.__e=c}else{for(R=a.length;R--;)ea(a[R]);yi(t)}else t.__e=n.__e,t.__k=n.__k,j.then||yi(t);ge.__e(j,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=bd(n.__e,t,n,s,i,a,o,l,d);return(u=ge.diffed)&&u(t),128&t.__u?void 0:c}function yi(r){r&&r.__c&&(r.__c.__e=!0),r&&r.__k&&r.__k.forEach(yi)}function xc(r,t,n){for(var s=0;s<n.length;s++)na(n[s],n[++s],n[++s]);ge.__c&&ge.__c(t,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(a){a.call(i)})}catch(a){ge.__e(a,i.__v)}})}function Cc(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:Pr(r)?r.map(Cc):Vt({},r)}function bd(r,t,n,s,i,a,o,c,l){var d,u,h,m,f,p,b,y=n.props,w=t.props,x=t.type;if(x=="svg"?i="http://www.w3.org/2000/svg":x=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((f=a[d])&&"setAttribute"in f==!!x&&(x?f.localName==x:f.nodeType==3)){r=f,a[d]=null;break}}if(r==null){if(x==null)return document.createTextNode(w);r=document.createElementNS(i,x,w.is&&w),c&&(ge.__m&&ge.__m(t,a),c=!1),a=null}if(x==null)y===w||c&&r.data==w||(r.data=w);else{if(a=a&&Mr.call(r.childNodes),y=n.props||Tr,!c&&a!=null)for(y={},d=0;d<r.attributes.length;d++)y[(f=r.attributes[d]).name]=f.value;for(d in y)if(f=y[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=f;else if(!(d in w)){if(d=="value"&&"defaultValue"in w||d=="checked"&&"defaultChecked"in w)continue;$r(r,d,null,f,i)}}for(d in w)f=w[d],d=="children"?m=f:d=="dangerouslySetInnerHTML"?u=f:d=="value"?p=f:d=="checked"?b=f:c&&typeof f!="function"||y[d]===f||$r(r,d,f,y[d],i);if(u)c||h&&(u.__html==h.__html||u.__html==r.innerHTML)||(r.innerHTML=u.__html),t.__k=[];else if(h&&(r.innerHTML=""),wc(t.type=="template"?r.content:r,Pr(m)?m:[m],t,n,s,x=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:n.__k&&Hn(n,0),c,l),a!=null)for(d=a.length;d--;)ea(a[d]);c||(d="value",x=="progress"&&p==null?r.removeAttribute("value"):p!=null&&(p!==r[d]||x=="progress"&&!p||x=="option"&&p!=y[d])&&$r(r,d,p,y[d],i),d="checked",b!=null&&b!=r[d]&&$r(r,d,b,y[d],i))}return r}function na(r,t,n){try{if(typeof r=="function"){var s=typeof r.__u=="function";s&&r.__u(),s&&t==null||(r.__u=r(t))}else r.current=t}catch(i){ge.__e(i,n)}}function Nc(r,t,n){var s,i;if(ge.unmount&&ge.unmount(r),(s=r.ref)&&(s.current&&s.current!=r.__e||na(s,null,t)),(s=r.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){ge.__e(a,t)}s.base=s.__P=null}if(s=r.__k)for(i=0;i<s.length;i++)s[i]&&Nc(s[i],t,n||typeof r.type!="function");n||ea(r.__e),r.__c=r.__=r.__e=void 0}function vd(r,t,n){return this.constructor(r,n)}function Wn(r,t,n){var s,i,a,o;t==document&&(t=document.documentElement),ge.__&&ge.__(r,t),i=(s=typeof n=="function")?null:n&&n.__k||t.__k,a=[],o=[],ta(t,r=(!s&&n||t).__k=mt(G,null,[r]),i||Tr,Tr,t.namespaceURI,!s&&n?[n]:i?null:t.firstChild?Mr.call(t.childNodes):null,a,!s&&n?n:i?i.__e:t.firstChild,s,o),xc(a,r,o)}function kc(r,t){Wn(r,t,kc)}function wi(r,t,n){var s,i,a,o,c=Vt({},r.props);for(a in r.type&&r.type.defaultProps&&(o=r.type.defaultProps),t)a=="key"?s=t[a]:a=="ref"?i=t[a]:c[a]=t[a]===void 0&&o!=null?o[a]:t[a];return arguments.length>2&&(c.children=arguments.length>3?Mr.call(arguments,2):n),xr(r.type,c,s||r.key,i||r.ref,null)}function gn(r){function t(n){var s,i;return this.getChildContext||(s=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(a){this.props.value!=a.value&&s.forEach(function(o){o.__e=!0,vi(o)})},this.sub=function(a){s.add(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s&&s.delete(a),o&&o.call(a)}}),n.children}return t.__c="__cC"+gc++,t.__=r,t.Provider=t.__l=(t.Consumer=function(n,s){return n.children(s)}).contextType=t,t}Mr=bc.slice,ge={__e:function(r,t,n,s){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(r)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(r,s||{}),o=i.__d),o)return i.__E=i}catch(c){r=c}throw r}},hc=0,qt.prototype.setState=function(r,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Vt({},this.state),typeof r=="function"&&(r=r(Vt({},n),this.props)),r&&Vt(n,r),r!=null&&this.__v&&(t&&this._sb.push(t),vi(this))},qt.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),vi(this))},qt.prototype.render=G,Cn=[],fc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mc=function(r,t){return r.__v.__b-t.__v.__b},ms.__r=0,pc=/(PointerCapture)$|Capture$/i,Zi=0,gi=Fa(!1),bi=Fa(!0),gc=0;var yd=0;function e(r,t,n,s,i,a){t||(t={});var o,c,l=t;if("ref"in l)for(c in l={},t)c=="ref"?o=t[c]:l[c]=t[c];var d={type:r,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--yd,__i:-1,__u:0,__source:i,__self:a};if(typeof r=="function"&&(o=r.defaultProps))for(c in o)l[c]===void 0&&(l[c]=o[c]);return ge.vnode&&ge.vnode(d),d}var tn,ze,Ps,Ba,Vn=0,Sc=[],Ge=ge,Ua=Ge.__b,$a=Ge.__r,qa=Ge.diffed,Ha=Ge.__c,Wa=Ge.unmount,Va=Ge.__;function In(r,t){Ge.__h&&Ge.__h(ze,r,Vn||t),Vn=0;var n=ze.__H||(ze.__H={__:[],__h:[]});return r>=n.__.length&&n.__.push({}),n.__[r]}function g(r){return Vn=1,Kn(Tc,r)}function Kn(r,t,n){var s=In(tn++,2);if(s.t=r,!s.__c&&(s.__=[n?n(t):Tc(void 0,t),function(c){var l=s.__N?s.__N[0]:s.__[0],d=s.t(l,c);l!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=ze,!ze.__f)){var i=function(c,l,d){if(!s.__c.__H)return!0;var u=s.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,c,l,d);var h=s.__c.props!==c;return u.forEach(function(m){if(m.__N){var f=m.__[0];m.__=m.__N,m.__N=void 0,f!==m.__[0]&&(h=!0)}}),a&&a.call(this,c,l,d)||h};ze.__f=!0;var a=ze.shouldComponentUpdate,o=ze.componentWillUpdate;ze.componentWillUpdate=function(c,l,d){if(this.__e){var u=a;a=void 0,i(c,l,d),a=u}o&&o.call(this,c,l,d)},ze.shouldComponentUpdate=i}return s.__N||s.__}function ee(r,t){var n=In(tn++,3);!Ge.__s&&ia(n.__H,t)&&(n.__=r,n.u=t,ze.__H.__h.push(n))}function rn(r,t){var n=In(tn++,4);!Ge.__s&&ia(n.__H,t)&&(n.__=r,n.u=t,ze.__h.push(n))}function Ye(r){return Vn=5,Be(function(){return{current:r}},[])}function Cs(r,t,n){Vn=6,rn(function(){if(typeof r=="function"){var s=r(t());return function(){r(null),s&&typeof s=="function"&&s()}}if(r)return r.current=t(),function(){return r.current=null}},n==null?n:n.concat(r))}function Be(r,t){var n=In(tn++,7);return ia(n.__H,t)&&(n.__=r(),n.__H=t,n.__h=r),n.__}function Rn(r,t){return Vn=8,Be(function(){return r},t)}function sn(r){var t=ze.context[r.__c],n=In(tn++,9);return n.c=r,t?(n.__==null&&(n.__=!0,t.sub(ze)),t.props.value):r.__}function ra(r,t){Ge.useDebugValue&&Ge.useDebugValue(t?t(r):r)}function wd(r){var t=In(tn++,10),n=g();return t.__=r,ze.componentDidCatch||(ze.componentDidCatch=function(s,i){t.__&&t.__(s,i),n[1](s)}),[n[0],function(){n[1](void 0)}]}function sa(){var r=In(tn++,11);if(!r.__){for(var t=ze.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);r.__="P"+n[0]+"-"+n[1]++}return r.__}function _d(){for(var r;r=Sc.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(rs),r.__H.__h.forEach(_i),r.__H.__h=[]}catch(t){r.__H.__h=[],Ge.__e(t,r.__v)}}Ge.__b=function(r){ze=null,Ua&&Ua(r)},Ge.__=function(r,t){r&&t.__k&&t.__k.__m&&(r.__m=t.__k.__m),Va&&Va(r,t)},Ge.__r=function(r){$a&&$a(r),tn=0;var t=(ze=r.__c).__H;t&&(Ps===ze?(t.__h=[],ze.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(rs),t.__h.forEach(_i),t.__h=[],tn=0)),Ps=ze},Ge.diffed=function(r){qa&&qa(r);var t=r.__c;t&&t.__H&&(t.__H.__h.length&&(Sc.push(t)!==1&&Ba===Ge.requestAnimationFrame||((Ba=Ge.requestAnimationFrame)||xd)(_d)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ps=ze=null},Ge.__c=function(r,t){t.some(function(n){try{n.__h.forEach(rs),n.__h=n.__h.filter(function(s){return!s.__||_i(s)})}catch(s){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Ge.__e(s,n.__v)}}),Ha&&Ha(r,t)},Ge.unmount=function(r){Wa&&Wa(r);var t,n=r.__c;n&&n.__H&&(n.__H.__.forEach(function(s){try{rs(s)}catch(i){t=i}}),n.__H=void 0,t&&Ge.__e(t,n.__v))};var Ga=typeof requestAnimationFrame=="function";function xd(r){var t,n=function(){clearTimeout(s),Ga&&cancelAnimationFrame(t),setTimeout(r)},s=setTimeout(n,35);Ga&&(t=requestAnimationFrame(n))}function rs(r){var t=ze,n=r.__c;typeof n=="function"&&(r.__c=void 0,n()),ze=t}function _i(r){var t=ze;r.__c=r.__(),ze=t}function ia(r,t){return!r||r.length!==t.length||t.some(function(n,s){return n!==r[s]})}function Tc(r,t){return typeof t=="function"?t(r):t}let Bn,yr;function Cd(r){return!yr||(typeof yr=="string"?r.startsWith(yr):yr.test(r))}function Nd(r,t){let n="";if(Bn=void 0,t&&t.type==="click"){if(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button!==0)return r;const s=t.composedPath().find(a=>a.nodeName=="A"&&a.href),i=s&&s.getAttribute("href");if(!s||s.origin!=location.origin||/^#/.test(i)||!/^(_?self)?$/i.test(s.target)||!Cd(i))return r;Bn=!0,t.preventDefault(),n=s.href.replace(location.origin,"")}else t&&t.url?(Bn=!t.replace,n=t.url):n=location.pathname+location.search;return Bn===!0?history.pushState(null,"",n):Bn===!1&&history.replaceState(null,"",n),n}const kd=(r,t,n={})=>{r=r.split("/").filter(Boolean),t=(t||"").split("/").filter(Boolean),n.params||(n.params={});for(let s=0,i,a;s<Math.max(r.length,t.length);s++){let[,o,c,l]=(t[s]||"").match(/^(:?)(.*?)([+*?]?)$/);if(i=r[s],!(!o&&c==i)){if(!o&&i&&l=="*"){n.rest="/"+r.slice(s).map(decodeURIComponent).join("/");break}if(!o||!i&&l!="?"&&l!="*")return;if(a=l=="+"||l=="*",a?i=r.slice(s).map(decodeURIComponent).join("/")||void 0:i&&(i=decodeURIComponent(i)),n.params[c]=i,c in n||(n[c]=i),a)break}}return n};function Ir(r){const[t,n]=Kn(Nd,r.url||location.pathname+location.search);r.scope&&(yr=r.scope);const s=Bn===!0,i=Be(()=>{const a=new URL(t,location.origin),o=a.pathname.replace(/\/+$/g,"")||"/";return{url:t,path:o,query:Object.fromEntries(a.searchParams),route:(c,l)=>n({url:c,replace:l}),wasPush:s}},[t]);return rn(()=>(addEventListener("click",n),addEventListener("popstate",n),()=>{removeEventListener("click",n),removeEventListener("popstate",n)}),[]),mt(Ir.ctx.Provider,{value:i},r.children)}const Sd=Promise.resolve();function Ec(r){const[t,n]=Kn(_=>_+1,0),{url:s,query:i,wasPush:a,path:o}=_t();if(!s)throw new Error("preact-iso's <Router> must be used within a <LocationProvider>, see: https://github.com/preactjs/preact-iso#locationprovider");const{rest:c=o,params:l={}}=sn(Qa),d=Ye(!1),u=Ye(o),h=Ye(0),m=Ye(),f=Ye(),p=Ye(),b=Ye(!1),y=Ye();y.current=!1;let w,x,k;Qt(r.children).some(_=>{if(kd(c,_.props.path,k={..._.props,path:c,query:i,params:l,rest:""}))return w=wi(_,k);_.props.default&&(x=wi(_,k))});let v=w||x;const C=m.current&&m.current.__u&qr&&m.current.__u&Hr,I=m.current&&m.current.__h,A=Be(()=>{f.current=m.current,m.current=mt(Qa.Provider,{value:k},v);const _=f.current&&f.current.props.children;return!_||!v||v.type!==_.type||v.props.component!==_.props.component?(this.__v&&this.__v.__k&&this.__v.__k.reverse(),h.current++,!0):!1},[s,JSON.stringify(k)]);C?(m.current.__u|=qr,m.current.__u|=Hr):I&&(m.current.__h=!0);const S=f.current;return f.current=null,this.__c=(_,R)=>{y.current=!0,f.current=S,r.onLoadStart&&r.onLoadStart(s),d.current=!0;let M=h.current;_.then(()=>{M===h.current&&(f.current=null,m.current&&(R.__h&&(m.current.__h=R.__h),R.__u&Hr&&(m.current.__u|=Hr),R.__u&qr&&(m.current.__u|=qr)),Sd.then(n))})},rn(()=>{const _=this.__v&&this.__v.__e;if(y.current){!b.current&&!p.current&&(p.current=_);return}!b.current&&p.current&&(p.current!==_&&p.current.remove(),p.current=null),b.current=!0,u.current!==o&&(a&&scrollTo(0,0),r.onRouteChange&&r.onRouteChange(s),u.current=o),r.onLoadEnd&&d.current&&r.onLoadEnd(s),d.current=!1},[o,a,t]),A?[mt(Is,{r:m}),mt(Is,{r:f})]:mt(Is,{r:m})}const qr=32,Hr=128,Is=({r})=>r.current;Ec.Provider=Ir;Ir.ctx=gn({});const Qa=gn({}),ke=r=>mt(r.component,r),_t=()=>sn(Ir.ctx),Ka=ge.__b;ge.__b=r=>{r.type&&r.type._forwarded&&r.ref&&(r.props.ref=r.ref,r.ref=null),Ka&&Ka(r)};const Ya=ge.__e;ge.__e=(r,t,n)=>{if(r&&r.then){let s=t;for(;s=s.__;)if(s.__c&&s.__c.__c)return t.__e==null&&(t.__c.__z=[n.__e],t.__e=n.__e,t.__k=n.__k),t.__k||(t.__k=[]),s.__c.__c(r,t)}Ya&&Ya(r,t,n)};const Ac="/assets/logo-gUhwRCmO.png";function Td(){return e("footer",{className:"footer sm:footer-horizontal bg-neutral text-neutral-content items-center p-4",children:[e("aside",{className:"grid-flow-col items-center",children:[e("img",{src:Ac,alt:"My Logo",class:"w-8 h-8"}),e("p",{children:["Copyright Â© ",new Date().getFullYear()," - All right reserved"]})]}),e("nav",{className:"grid-flow-col gap-4 md:place-self-center md:justify-self-end",children:[e("a",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:e("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),e("a",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:e("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),e("a",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:e("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Oc,setPrototypeOf:Ja,isFrozen:Ed,getPrototypeOf:Ad,getOwnPropertyDescriptor:Od}=Object;let{freeze:yt,seal:zt,create:xi}=Object,{apply:Ci,construct:Ni}=typeof Reflect<"u"&&Reflect;yt||(yt=function(t){return t});zt||(zt=function(t){return t});Ci||(Ci=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];return t.apply(n,i)});Ni||(Ni=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return new t(...s)});const Wr=wt(Array.prototype.forEach),Dd=wt(Array.prototype.lastIndexOf),Xa=wt(Array.prototype.pop),or=wt(Array.prototype.push),Ld=wt(Array.prototype.splice),ss=wt(String.prototype.toLowerCase),Rs=wt(String.prototype.toString),js=wt(String.prototype.match),cr=wt(String.prototype.replace),Md=wt(String.prototype.indexOf),Pd=wt(String.prototype.trim),Ft=wt(Object.prototype.hasOwnProperty),bt=wt(RegExp.prototype.test),lr=Id(TypeError);function wt(r){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return Ci(r,t,s)}}function Id(r){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Ni(r,n)}}function Ne(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ss;Ja&&Ja(r,null);let s=t.length;for(;s--;){let i=t[s];if(typeof i=="string"){const a=n(i);a!==i&&(Ed(t)||(t[s]=a),i=a)}r[i]=!0}return r}function Rd(r){for(let t=0;t<r.length;t++)Ft(r,t)||(r[t]=null);return r}function en(r){const t=xi(null);for(const[n,s]of Oc(r))Ft(r,n)&&(Array.isArray(s)?t[n]=Rd(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=en(s):t[n]=s);return t}function dr(r,t){for(;r!==null;){const s=Od(r,t);if(s){if(s.get)return wt(s.get);if(typeof s.value=="function")return wt(s.value)}r=Ad(r)}function n(){return null}return n}const Za=yt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zs=yt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fs=yt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jd=yt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bs=yt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zd=yt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),eo=yt(["#text"]),to=yt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Us=yt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),no=yt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vr=yt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Fd=zt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Bd=zt(/<%[\w\W]*|[\w\W]*%>/gm),Ud=zt(/\$\{[\w\W]*/gm),$d=zt(/^data-[\-\w.\u00B7-\uFFFF]+$/),qd=zt(/^aria-[\-\w]+$/),Dc=zt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hd=zt(/^(?:\w+script|data):/i),Wd=zt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Lc=zt(/^html$/i),Vd=zt(/^[a-z][.\w]*(-[.\w]+)+$/i);var ro=Object.freeze({__proto__:null,ARIA_ATTR:qd,ATTR_WHITESPACE:Wd,CUSTOM_ELEMENT:Vd,DATA_ATTR:$d,DOCTYPE_NAME:Lc,ERB_EXPR:Bd,IS_ALLOWED_URI:Dc,IS_SCRIPT_OR_DATA:Hd,MUSTACHE_EXPR:Fd,TMPLIT_EXPR:Ud});const ur={element:1,text:3,progressingInstruction:7,comment:8,document:9},Gd=function(){return typeof window>"u"?null:window},Qd=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(s=n.getAttribute(i));const a="dompurify"+(s?"#"+s:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},so=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Mc(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gd();const t=ae=>Mc(ae);if(t.version="3.3.0",t.removed=[],!r||!r.document||r.document.nodeType!==ur.document||!r.Element)return t.isSupported=!1,t;let{document:n}=r;const s=n,i=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:c,Element:l,NodeFilter:d,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:f}=r,p=l.prototype,b=dr(p,"cloneNode"),y=dr(p,"remove"),w=dr(p,"nextSibling"),x=dr(p,"childNodes"),k=dr(p,"parentNode");if(typeof o=="function"){const ae=n.createElement("template");ae.content&&ae.content.ownerDocument&&(n=ae.content.ownerDocument)}let v,C="";const{implementation:I,createNodeIterator:A,createDocumentFragment:S,getElementsByTagName:_}=n,{importNode:R}=s;let M=so();t.isSupported=typeof Oc=="function"&&typeof k=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:j,ERB_EXPR:W,TMPLIT_EXPR:Q,DATA_ATTR:te,ARIA_ATTR:Y,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:oe}=ro;let{IS_ALLOWED_URI:F}=ro,J=null;const ue=Ne({},[...Za,...zs,...Fs,...Bs,...eo]);let se=null;const xe=Ne({},[...to,...Us,...no,...Vr]);let ce=Object.seal(xi(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,B=null;const E=Object.seal(xi(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let K=!0,be=!0,ye=!1,Pe=!0,Oe=!1,Xe=!0,P=!1,Z=!1,Ae=!1,Je=!1,Nt=!1,xt=!1,He=!0,he=!1;const Ce="user-content-";let Me=!0,Ie=!1,We={},Ve=null;const Fe=Ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ne=null;const Re=Ne({},["audio","video","img","source","image","track"]);let Ot=null;const kt=Ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lt="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml";let Ht=ot,on=!1,vn=null;const yn=Ne({},[lt,pt,ot],Rs);let cn=Ne({},["mi","mo","mn","ms","mtext"]),ln=Ne({},["annotation-xml"]);const er=Ne({},["title","style","font","a","script"]);let Xt=null;const wn=["application/xhtml+xml","text/html"],tr="text/html";let Ue=null,Dt=null;const nr=n.createElement("form"),O=function(N){return N instanceof RegExp||N instanceof Function},Lt=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Dt&&Dt===N)){if((!N||typeof N!="object")&&(N={}),N=en(N),Xt=wn.indexOf(N.PARSER_MEDIA_TYPE)===-1?tr:N.PARSER_MEDIA_TYPE,Ue=Xt==="application/xhtml+xml"?Rs:ss,J=Ft(N,"ALLOWED_TAGS")?Ne({},N.ALLOWED_TAGS,Ue):ue,se=Ft(N,"ALLOWED_ATTR")?Ne({},N.ALLOWED_ATTR,Ue):xe,vn=Ft(N,"ALLOWED_NAMESPACES")?Ne({},N.ALLOWED_NAMESPACES,Rs):yn,Ot=Ft(N,"ADD_URI_SAFE_ATTR")?Ne(en(kt),N.ADD_URI_SAFE_ATTR,Ue):kt,ne=Ft(N,"ADD_DATA_URI_TAGS")?Ne(en(Re),N.ADD_DATA_URI_TAGS,Ue):Re,Ve=Ft(N,"FORBID_CONTENTS")?Ne({},N.FORBID_CONTENTS,Ue):Fe,U=Ft(N,"FORBID_TAGS")?Ne({},N.FORBID_TAGS,Ue):en({}),B=Ft(N,"FORBID_ATTR")?Ne({},N.FORBID_ATTR,Ue):en({}),We=Ft(N,"USE_PROFILES")?N.USE_PROFILES:!1,K=N.ALLOW_ARIA_ATTR!==!1,be=N.ALLOW_DATA_ATTR!==!1,ye=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Oe=N.SAFE_FOR_TEMPLATES||!1,Xe=N.SAFE_FOR_XML!==!1,P=N.WHOLE_DOCUMENT||!1,Je=N.RETURN_DOM||!1,Nt=N.RETURN_DOM_FRAGMENT||!1,xt=N.RETURN_TRUSTED_TYPE||!1,Ae=N.FORCE_BODY||!1,He=N.SANITIZE_DOM!==!1,he=N.SANITIZE_NAMED_PROPS||!1,Me=N.KEEP_CONTENT!==!1,Ie=N.IN_PLACE||!1,F=N.ALLOWED_URI_REGEXP||Dc,Ht=N.NAMESPACE||ot,cn=N.MATHML_TEXT_INTEGRATION_POINTS||cn,ln=N.HTML_INTEGRATION_POINTS||ln,ce=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&O(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&O(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(be=!1),Nt&&(Je=!0),We&&(J=Ne({},eo),se=[],We.html===!0&&(Ne(J,Za),Ne(se,to)),We.svg===!0&&(Ne(J,zs),Ne(se,Us),Ne(se,Vr)),We.svgFilters===!0&&(Ne(J,Fs),Ne(se,Us),Ne(se,Vr)),We.mathMl===!0&&(Ne(J,Bs),Ne(se,no),Ne(se,Vr))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?E.tagCheck=N.ADD_TAGS:(J===ue&&(J=en(J)),Ne(J,N.ADD_TAGS,Ue))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?E.attributeCheck=N.ADD_ATTR:(se===xe&&(se=en(se)),Ne(se,N.ADD_ATTR,Ue))),N.ADD_URI_SAFE_ATTR&&Ne(Ot,N.ADD_URI_SAFE_ATTR,Ue),N.FORBID_CONTENTS&&(Ve===Fe&&(Ve=en(Ve)),Ne(Ve,N.FORBID_CONTENTS,Ue)),Me&&(J["#text"]=!0),P&&Ne(J,["html","head","body"]),J.table&&(Ne(J,["tbody"]),delete U.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw lr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=N.TRUSTED_TYPES_POLICY,C=v.createHTML("")}else v===void 0&&(v=Qd(f,i)),v!==null&&typeof C=="string"&&(C=v.createHTML(""));yt&&yt(N),Dt=N}},dt=Ne({},[...zs,...Fs,...jd]),Ee=Ne({},[...Bs,...zd]),$=function(N){let H=k(N);(!H||!H.tagName)&&(H={namespaceURI:Ht,tagName:"template"});const re=ss(N.tagName),je=ss(H.tagName);return vn[N.namespaceURI]?N.namespaceURI===pt?H.namespaceURI===ot?re==="svg":H.namespaceURI===lt?re==="svg"&&(je==="annotation-xml"||cn[je]):!!dt[re]:N.namespaceURI===lt?H.namespaceURI===ot?re==="math":H.namespaceURI===pt?re==="math"&&ln[je]:!!Ee[re]:N.namespaceURI===ot?H.namespaceURI===pt&&!ln[je]||H.namespaceURI===lt&&!cn[je]?!1:!Ee[re]&&(er[re]||!dt[re]):!!(Xt==="application/xhtml+xml"&&vn[N.namespaceURI]):!1},De=function(N){or(t.removed,{element:N});try{k(N).removeChild(N)}catch{y(N)}},ve=function(N,H){try{or(t.removed,{attribute:H.getAttributeNode(N),from:H})}catch{or(t.removed,{attribute:null,from:H})}if(H.removeAttribute(N),N==="is")if(Je||Nt)try{De(H)}catch{}else try{H.setAttribute(N,"")}catch{}},Qe=function(N){let H=null,re=null;if(Ae)N="<remove></remove>"+N;else{const Ke=js(N,/^[\r\n\t ]+/);re=Ke&&Ke[0]}Xt==="application/xhtml+xml"&&Ht===ot&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const je=v?v.createHTML(N):N;if(Ht===ot)try{H=new m().parseFromString(je,Xt)}catch{}if(!H||!H.documentElement){H=I.createDocument(Ht,"template",null);try{H.documentElement.innerHTML=on?C:je}catch{}}const it=H.body||H.documentElement;return N&&re&&it.insertBefore(n.createTextNode(re),it.childNodes[0]||null),Ht===ot?_.call(H,P?"html":"body")[0]:P?H.documentElement:it},ut=function(N){return A.call(N.ownerDocument||N,N,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},st=function(N){return N instanceof h&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof u)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},rr=function(N){return typeof c=="function"&&N instanceof c};function Mt(ae,N,H){Wr(ae,re=>{re.call(t,N,H,Dt)})}const ie=function(N){let H=null;if(Mt(M.beforeSanitizeElements,N,null),st(N))return De(N),!0;const re=Ue(N.nodeName);if(Mt(M.uponSanitizeElement,N,{tagName:re,allowedTags:J}),Xe&&N.hasChildNodes()&&!rr(N.firstElementChild)&&bt(/<[/\w!]/g,N.innerHTML)&&bt(/<[/\w!]/g,N.textContent)||N.nodeType===ur.progressingInstruction||Xe&&N.nodeType===ur.comment&&bt(/<[/\w]/g,N.data))return De(N),!0;if(!(E.tagCheck instanceof Function&&E.tagCheck(re))&&(!J[re]||U[re])){if(!U[re]&&sr(re)&&(ce.tagNameCheck instanceof RegExp&&bt(ce.tagNameCheck,re)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(re)))return!1;if(Me&&!Ve[re]){const je=k(N)||N.parentNode,it=x(N)||N.childNodes;if(it&&je){const Ke=it.length;for(let ht=Ke-1;ht>=0;--ht){const Pt=b(it[ht],!0);Pt.__removalCount=(N.__removalCount||0)+1,je.insertBefore(Pt,w(N))}}}return De(N),!0}return N instanceof l&&!$(N)||(re==="noscript"||re==="noembed"||re==="noframes")&&bt(/<\/no(script|embed|frames)/i,N.innerHTML)?(De(N),!0):(Oe&&N.nodeType===ur.text&&(H=N.textContent,Wr([j,W,Q],je=>{H=cr(H,je," ")}),N.textContent!==H&&(or(t.removed,{element:N.cloneNode()}),N.textContent=H)),Mt(M.afterSanitizeElements,N,null),!1)},jr=function(N,H,re){if(He&&(H==="id"||H==="name")&&(re in n||re in nr))return!1;if(!(be&&!B[H]&&bt(te,H))){if(!(K&&bt(Y,H))){if(!(E.attributeCheck instanceof Function&&E.attributeCheck(H,N))){if(!se[H]||B[H]){if(!(sr(N)&&(ce.tagNameCheck instanceof RegExp&&bt(ce.tagNameCheck,N)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(N))&&(ce.attributeNameCheck instanceof RegExp&&bt(ce.attributeNameCheck,H)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(H,N))||H==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&bt(ce.tagNameCheck,re)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(re))))return!1}else if(!Ot[H]){if(!bt(F,cr(re,q,""))){if(!((H==="src"||H==="xlink:href"||H==="href")&&N!=="script"&&Md(re,"data:")===0&&ne[N])){if(!(ye&&!bt(X,cr(re,q,"")))){if(re)return!1}}}}}}}return!0},sr=function(N){return N!=="annotation-xml"&&js(N,oe)},zr=function(N){Mt(M.beforeSanitizeAttributes,N,null);const{attributes:H}=N;if(!H||st(N))return;const re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se,forceKeepAttr:void 0};let je=H.length;for(;je--;){const it=H[je],{name:Ke,namespaceURI:ht,value:Pt}=it,Wt=Ue(Ke),ir=Pt;let nt=Ke==="value"?ir:Pd(ir);if(re.attrName=Wt,re.attrValue=nt,re.keepAttr=!0,re.forceKeepAttr=void 0,Mt(M.uponSanitizeAttribute,N,re),nt=re.attrValue,he&&(Wt==="id"||Wt==="name")&&(ve(Ke,N),nt=Ce+nt),Xe&&bt(/((--!?|])>)|<\/(style|title|textarea)/i,nt)){ve(Ke,N);continue}if(Wt==="attributename"&&js(nt,"href")){ve(Ke,N);continue}if(re.forceKeepAttr)continue;if(!re.keepAttr){ve(Ke,N);continue}if(!Pe&&bt(/\/>/i,nt)){ve(Ke,N);continue}Oe&&Wr([j,W,Q],Br=>{nt=cr(nt,Br," ")});const ar=Ue(N.nodeName);if(!jr(ar,Wt,nt)){ve(Ke,N);continue}if(v&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!ht)switch(f.getAttributeType(ar,Wt)){case"TrustedHTML":{nt=v.createHTML(nt);break}case"TrustedScriptURL":{nt=v.createScriptURL(nt);break}}if(nt!==ir)try{ht?N.setAttributeNS(ht,Ke,nt):N.setAttribute(Ke,nt),st(N)?De(N):Xa(t.removed)}catch{ve(Ke,N)}}Mt(M.afterSanitizeAttributes,N,null)},Fr=function ae(N){let H=null;const re=ut(N);for(Mt(M.beforeSanitizeShadowDOM,N,null);H=re.nextNode();)Mt(M.uponSanitizeShadowNode,H,null),ie(H),zr(H),H.content instanceof a&&ae(H.content);Mt(M.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(ae){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=null,re=null,je=null,it=null;if(on=!ae,on&&(ae="<!-->"),typeof ae!="string"&&!rr(ae))if(typeof ae.toString=="function"){if(ae=ae.toString(),typeof ae!="string")throw lr("dirty is not a string, aborting")}else throw lr("toString is not a function");if(!t.isSupported)return ae;if(Z||Lt(N),t.removed=[],typeof ae=="string"&&(Ie=!1),Ie){if(ae.nodeName){const Pt=Ue(ae.nodeName);if(!J[Pt]||U[Pt])throw lr("root node is forbidden and cannot be sanitized in-place")}}else if(ae instanceof c)H=Qe("<!---->"),re=H.ownerDocument.importNode(ae,!0),re.nodeType===ur.element&&re.nodeName==="BODY"||re.nodeName==="HTML"?H=re:H.appendChild(re);else{if(!Je&&!Oe&&!P&&ae.indexOf("<")===-1)return v&&xt?v.createHTML(ae):ae;if(H=Qe(ae),!H)return Je?null:xt?C:""}H&&Ae&&De(H.firstChild);const Ke=ut(Ie?ae:H);for(;je=Ke.nextNode();)ie(je),zr(je),je.content instanceof a&&Fr(je.content);if(Ie)return ae;if(Je){if(Nt)for(it=S.call(H.ownerDocument);H.firstChild;)it.appendChild(H.firstChild);else it=H;return(se.shadowroot||se.shadowrootmode)&&(it=R.call(s,it,!0)),it}let ht=P?H.outerHTML:H.innerHTML;return P&&J["!doctype"]&&H.ownerDocument&&H.ownerDocument.doctype&&H.ownerDocument.doctype.name&&bt(Lc,H.ownerDocument.doctype.name)&&(ht="<!DOCTYPE "+H.ownerDocument.doctype.name+`>
`+ht),Oe&&Wr([j,W,Q],Pt=>{ht=cr(ht,Pt," ")}),v&&xt?v.createHTML(ht):ht},t.setConfig=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Lt(ae),Z=!0},t.clearConfig=function(){Dt=null,Z=!1},t.isValidAttribute=function(ae,N,H){Dt||Lt({});const re=Ue(ae),je=Ue(N);return jr(re,je,H)},t.addHook=function(ae,N){typeof N=="function"&&or(M[ae],N)},t.removeHook=function(ae,N){if(N!==void 0){const H=Dd(M[ae],N);return H===-1?void 0:Ld(M[ae],H,1)[0]}return Xa(M[ae])},t.removeHooks=function(ae){M[ae]=[]},t.removeAllHooks=function(){M=so()},t}var aa=Mc();const Kd={ALLOWED_TAGS:["span","mark"],ALLOWED_ATTR:["class"]};function Yd(r){return aa.sanitize(r,Kd)}function Cr(r,t){if(!t.trim())return r;const s=t.toLowerCase().split(/\s+/).filter(a=>a.length>0).map(a=>a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));let i=r;for(let a=s.length-1;a>=0;a--){const o=s[a],c=new RegExp(`(${o})`,"gi");i=i.replace(c,'<span class="bg-info">$1</span>')}return Yd(i)}class Jd{constructor(t={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...n)=>fetch(...n),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=n=>{this.securityData=n},this.contentFormatters={"application/json":n=>n!==null&&(typeof n=="object"||typeof n=="string")?JSON.stringify(n):n,"application/vnd.api+json":n=>n!==null&&(typeof n=="object"||typeof n=="string")?JSON.stringify(n):n,"text/plain":n=>n!==null&&typeof n!="string"?JSON.stringify(n):n,"multipart/form-data":n=>n instanceof FormData?n:Object.keys(n||{}).reduce((s,i)=>{const a=n[i];return s.append(i,a instanceof Blob?a:typeof a=="object"&&a!==null?JSON.stringify(a):`${a}`),s},new FormData),"application/x-www-form-urlencoded":n=>this.toQueryString(n)},this.createAbortSignal=n=>{if(this.abortControllers.has(n)){const i=this.abortControllers.get(n);return i?i.signal:void 0}const s=new AbortController;return this.abortControllers.set(n,s),s.signal},this.abortRequest=n=>{const s=this.abortControllers.get(n);s&&(s.abort(),this.abortControllers.delete(n))},this.request=async({body:n,secure:s,path:i,type:a,query:o,format:c,baseUrl:l,cancelToken:d,...u})=>{const h=(typeof s=="boolean"?s:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},m=this.mergeRequestParams(u,h),f=o&&this.toQueryString(o),p=this.contentFormatters[a||"application/json"],b=c||m.format;return this.customFetch(`${l||this.baseUrl||""}${i}${f?`?${f}`:""}`,{...m,headers:{...m.headers||{},...a&&a!=="multipart/form-data"?{"Content-Type":a}:{}},signal:(d?this.createAbortSignal(d):m.signal)||null,body:typeof n>"u"||n===null?null:p(n)}).then(async y=>{const w=y.clone();w.data=null,w.error=null;const x=b?await y[b]().then(k=>(w.ok?w.data=k:w.error=k,w)).catch(k=>(w.error=k,w)):w;if(d&&this.abortControllers.delete(d),!y.ok)throw x;return x})},Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(i=>this.encodeQueryParam(n,i)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(i=>typeof n[i]<"u").map(i=>Array.isArray(n[i])?this.addArrayQueryParam(n,i):this.addQueryParam(n,i)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}class Xd extends Jd{constructor(){super(...arguments),this.getIndex=(t={})=>this.request({path:"/",method:"GET",...t}),this.avatar={getAvatar:(t,n={})=>this.request({path:"/avatar/",method:"GET",query:t,...n})},this.blog={getBlog:(t={})=>this.request({path:"/blog/",method:"GET",format:"json",...t}),getBlogById:(t,n={})=>this.request({path:`/blog/${t}`,method:"GET",format:"json",...n}),postBlogByIdComment:(t,n,s={})=>this.request({path:`/blog/${t}/comment`,method:"POST",body:n,secure:!0,type:"application/json",format:"json",...s}),getBlogByIdReaction:(t,n={})=>this.request({path:`/blog/${t}/reaction`,method:"GET",secure:!0,format:"json",...n}),patchBlogByIdReaction:(t,n,s={})=>this.request({path:`/blog/${t}/reaction`,method:"PATCH",body:n,secure:!0,type:"application/json",format:"json",...s}),getBlogAdminCommentsPending:(t={})=>this.request({path:"/blog/admin/comments/pending",method:"GET",secure:!0,format:"json",...t}),patchBlogAdminCommentsByCommentIdModerate:(t,n,s={})=>this.request({path:`/blog/admin/comments/${t}/moderate`,method:"PATCH",body:n,secure:!0,type:"application/json",format:"json",...s})},this.images={postImagesUpload:(t,n={})=>this.request({path:"/images/upload",method:"POST",body:t,secure:!0,type:"multipart/form-data",format:"json",...n}),getImages:(t={})=>this.request({path:"/images/",method:"GET",secure:!0,format:"json",...t}),getImagesByImageId:(t,n={})=>this.request({path:`/images/${t}`,method:"GET",secure:!0,format:"json",...n}),deleteImagesByImageId:(t,n={})=>this.request({path:`/images/${t}`,method:"DELETE",secure:!0,format:"json",...n})},this.profile={getProfileByUserId:(t,n={})=>this.request({path:`/profile/${t}`,method:"GET",format:"json",...n}),postProfileLogArithmetic:(t,n={})=>this.request({path:"/profile/log-arithmetic",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),postProfileLogTetris:(t,n={})=>this.request({path:"/profile/log-tetris",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n})},this.admin={getAdminProfileUnverified:(t={})=>this.request({path:"/admin/profile/unverified",method:"GET",secure:!0,format:"json",...t}),postAdminProfileByUserIdVerify:(t,n={})=>this.request({path:`/admin/profile/${t}/verify`,method:"POST",secure:!0,format:"json",...n})},this.leaderboards={getLeaderboards:(t,n={})=>this.request({path:"/leaderboards/",method:"GET",query:t,format:"json",...n})},this.connections={getConnections:(t={})=>this.request({path:"/connections/",method:"GET",secure:!0,format:"json",...t}),postConnectionsSendEvent:(t,n={})=>this.request({path:"/connections/send-event",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),postConnectionsDisconnect:(t,n={})=>this.request({path:"/connections/disconnect",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n})},this.notifications={getNotificationsSubscriptions:(t={})=>this.request({path:"/notifications/subscriptions",method:"GET",secure:!0,format:"json",...t}),postNotificationsSubscribe:(t,n={})=>this.request({path:"/notifications/subscribe",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),postNotificationsUnsubscribe:(t,n={})=>this.request({path:"/notifications/unsubscribe",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),postNotificationsRegisterPush:(t,n={})=>this.request({path:"/notifications/register-push",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n})},this.quizspire={getQuizspireDecks:(t,n={})=>this.request({path:"/quizspire/decks",method:"GET",query:t,secure:!0,format:"json",...n}),postQuizspireDecks:(t,n={})=>this.request({path:"/quizspire/decks",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),getQuizspireDecksById:(t,n={})=>this.request({path:`/quizspire/decks/${t}`,method:"GET",secure:!0,format:"json",...n}),putQuizspireDecksById:(t,n,s={})=>this.request({path:`/quizspire/decks/${t}`,method:"PUT",body:n,secure:!0,type:"application/json",format:"json",...s}),deleteQuizspireDecksById:(t,n={})=>this.request({path:`/quizspire/decks/${t}`,method:"DELETE",secure:!0,format:"json",...n})},this.me={getMe:(t={})=>this.request({path:"/me",method:"GET",...t})},this.auth={socialSignIn:(t,n={})=>this.request({path:"/auth/api/sign-in/social",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiGetSessionList:(t={})=>this.request({path:"/auth/api/get-session",method:"GET",secure:!0,format:"json",...t}),apiSignOutCreate:(t,n={})=>this.request({path:"/auth/api/sign-out",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiSignUpEmailCreate:(t,n={})=>this.request({path:"/auth/api/sign-up/email",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiSignInEmailCreate:(t,n={})=>this.request({path:"/auth/api/sign-in/email",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiForgetPasswordCreate:(t,n={})=>this.request({path:"/auth/api/forget-password",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiResetPasswordCreate:(t,n={})=>this.request({path:"/auth/api/reset-password",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiVerifyEmailList:(t,n={})=>this.request({path:"/auth/api/verify-email",method:"GET",query:t,secure:!0,format:"json",...n}),apiSendVerificationEmailCreate:(t,n={})=>this.request({path:"/auth/api/send-verification-email",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiChangeEmailCreate:(t,n={})=>this.request({path:"/auth/api/change-email",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiChangePasswordCreate:(t,n={})=>this.request({path:"/auth/api/change-password",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiUpdateUserCreate:(t,n={})=>this.request({path:"/auth/api/update-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiDeleteUserCreate:(t,n={})=>this.request({path:"/auth/api/delete-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiResetPasswordDetail:(t,n,s={})=>this.request({path:`/auth/api/reset-password/${t}`,method:"GET",query:n,secure:!0,format:"json",...s}),apiRequestPasswordResetCreate:(t,n={})=>this.request({path:"/auth/api/request-password-reset",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiListSessionsList:(t={})=>this.request({path:"/auth/api/list-sessions",method:"GET",secure:!0,format:"json",...t}),apiRevokeSessionCreate:(t,n={})=>this.request({path:"/auth/api/revoke-session",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiRevokeSessionsCreate:(t,n={})=>this.request({path:"/auth/api/revoke-sessions",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiRevokeOtherSessionsCreate:(t,n={})=>this.request({path:"/auth/api/revoke-other-sessions",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiLinkSocialCreate:(t,n={})=>this.request({path:"/auth/api/link-social",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiListAccountsList:(t={})=>this.request({path:"/auth/api/list-accounts",method:"GET",secure:!0,format:"json",...t}),apiDeleteUserCallbackList:(t,n={})=>this.request({path:"/auth/api/delete-user/callback",method:"GET",query:t,secure:!0,format:"json",...n}),apiUnlinkAccountCreate:(t,n={})=>this.request({path:"/auth/api/unlink-account",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiRefreshTokenCreate:(t,n={})=>this.request({path:"/auth/api/refresh-token",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiGetAccessTokenCreate:(t,n={})=>this.request({path:"/auth/api/get-access-token",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiAccountInfoCreate:(t,n={})=>this.request({path:"/auth/api/account-info",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiOkList:(t={})=>this.request({path:"/auth/api/ok",method:"GET",secure:!0,format:"json",...t}),apiErrorList:(t={})=>this.request({path:"/auth/api/error",method:"GET",secure:!0,...t}),setRole:(t,n={})=>this.request({path:"/auth/api/admin/set-role",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),getUser:(t,n={})=>this.request({path:"/auth/api/admin/get-user",method:"GET",query:t,secure:!0,format:"json",...n}),createUser:(t,n={})=>this.request({path:"/auth/api/admin/create-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),updateUser:(t,n={})=>this.request({path:"/auth/api/admin/update-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),listUsers:(t,n={})=>this.request({path:"/auth/api/admin/list-users",method:"GET",query:t,secure:!0,format:"json",...n}),listUserSessions:(t,n={})=>this.request({path:"/auth/api/admin/list-user-sessions",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),unbanUser:(t,n={})=>this.request({path:"/auth/api/admin/unban-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),banUser:(t,n={})=>this.request({path:"/auth/api/admin/ban-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),impersonateUser:(t,n={})=>this.request({path:"/auth/api/admin/impersonate-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiAdminStopImpersonatingCreate:(t={})=>this.request({path:"/auth/api/admin/stop-impersonating",method:"POST",secure:!0,...t}),revokeUserSession:(t,n={})=>this.request({path:"/auth/api/admin/revoke-user-session",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),revokeUserSessions:(t,n={})=>this.request({path:"/auth/api/admin/revoke-user-sessions",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),removeUser:(t,n={})=>this.request({path:"/auth/api/admin/remove-user",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),setUserPassword:(t,n={})=>this.request({path:"/auth/api/admin/set-user-password",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n}),apiAdminHasPermissionCreate:(t,n={})=>this.request({path:"/auth/api/admin/has-permission",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...n})}}}const V=new Xd({baseUrl:"https://my-website.space/backend",securityWorker:()=>({credentials:"include"})});function Pc(r,t){for(var n in t)r[n]=t[n];return r}function ki(r,t){for(var n in r)if(n!=="__source"&&!(n in t))return!0;for(var s in t)if(s!=="__source"&&r[s]!==t[s])return!0;return!1}function oa(r,t){var n=t(),s=g({t:{__:n,u:t}}),i=s[0].t,a=s[1];return rn(function(){i.__=n,i.u=t,$s(i)&&a({t:i})},[r,n,t]),ee(function(){return $s(i)&&a({t:i}),r(function(){$s(i)&&a({t:i})})},[r]),n}function $s(r){var t,n,s=r.u,i=r.__;try{var a=s();return!((t=i)===(n=a)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function ca(r){r()}function la(r){return r}function da(){return[!1,ca]}var ua=rn;function ps(r,t){this.props=r,this.context=t}function ha(r,t){function n(i){var a=this.props.ref,o=a==i.ref;return!o&&a&&(a.call?a(null):a.current=null),t?!t(this.props,i)||!o:ki(this.props,i)}function s(i){return this.shouldComponentUpdate=n,mt(r,i)}return s.displayName="Memo("+(r.displayName||r.name)+")",s.prototype.isReactComponent=!0,s.__f=!0,s.type=r,s}(ps.prototype=new qt).isPureReactComponent=!0,ps.prototype.shouldComponentUpdate=function(r,t){return ki(this.props,r)||ki(this.state,t)};var io=ge.__b;ge.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),io&&io(r)};var Zd=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ns(r){function t(n){var s=Pc({},n);return delete s.ref,r(s,n.ref||null)}return t.$$typeof=Zd,t.render=r,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(r.displayName||r.name)+")",t}var ao=function(r,t){return r==null?null:Qt(Qt(r).map(t))},Ic={map:ao,forEach:ao,count:function(r){return r?Qt(r).length:0},only:function(r){var t=Qt(r);if(t.length!==1)throw"Children.only";return t[0]},toArray:Qt},eu=ge.__e;ge.__e=function(r,t,n,s){if(r.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(r,t)}eu(r,t,n,s)};var oo=ge.unmount;function Rc(r,t,n){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),r.__c.__H=null),(r=Pc({},r)).__c!=null&&(r.__c.__P===n&&(r.__c.__P=t),r.__c.__e=!0,r.__c=null),r.__k=r.__k&&r.__k.map(function(s){return Rc(s,t,n)})),r}function jc(r,t,n){return r&&n&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(s){return jc(s,t,n)}),r.__c&&r.__c.__P===t&&(r.__e&&n.appendChild(r.__e),r.__c.__e=!0,r.__c.__P=n)),r}function Nr(){this.__u=0,this.o=null,this.__b=null}function zc(r){var t=r.__.__c;return t&&t.__a&&t.__a(r)}function Fc(r){var t,n,s;function i(a){if(t||(t=r()).then(function(o){n=o.default||o},function(o){s=o}),s)throw s;if(!n)throw t;return mt(n,a)}return i.displayName="Lazy",i.__f=!0,i}function Un(){this.i=null,this.l=null}ge.unmount=function(r){var t=r.__c;t&&t.__R&&t.__R(),t&&32&r.__u&&(r.type=null),oo&&oo(r)},(Nr.prototype=new qt).__c=function(r,t){var n=t.__c,s=this;s.o==null&&(s.o=[]),s.o.push(n);var i=zc(s.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(c):c())};n.__R=o;var c=function(){if(!--s.__u){if(s.state.__a){var l=s.state.__a;s.__v.__k[0]=jc(l,l.__c.__P,l.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.o.pop();)d.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),r.then(o,o)},Nr.prototype.componentWillUnmount=function(){this.o=[]},Nr.prototype.render=function(r,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=Rc(this.__b,n,s.__O=s.__P)}this.__b=null}var i=t.__a&&mt(G,null,r.fallback);return i&&(i.__u&=-33),[mt(G,null,t.__a?null:r.children),i]};var co=function(r,t,n){if(++n[1]===n[0]&&r.l.delete(t),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.l.size))for(n=r.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;r.i=n=n[2]}};function tu(r){return this.getChildContext=function(){return r.context},r.children}function nu(r){var t=this,n=r.h;if(t.componentWillUnmount=function(){Wn(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var s=t.__v;s!==null&&!s.__m&&s.__!==null;)s=s.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:s.__m},contains:function(){return!0},insertBefore:function(i,a){this.childNodes.push(i),t.h.insertBefore(i,a)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.h.removeChild(i)}}}Wn(mt(tu,{context:t.context},r.__v),t.v)}function Bc(r,t){var n=mt(nu,{__v:r,h:t});return n.containerInfo=t,n}(Un.prototype=new qt).__a=function(r){var t=this,n=zc(t.__v),s=t.l.get(r);return s[0]++,function(i){var a=function(){t.props.revealOrder?(s.push(i),co(t,r,s)):i()};n?n(a):a()}},Un.prototype.render=function(r){this.i=null,this.l=new Map;var t=Qt(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return r.children},Un.prototype.componentDidUpdate=Un.prototype.componentDidMount=function(){var r=this;this.l.forEach(function(t,n){co(r,n,t)})};var Uc=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ru=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,su=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,iu=/[A-Z0-9]/g,au=typeof document<"u",ou=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(r)};function $c(r,t,n){return t.__k==null&&(t.textContent=""),Wn(r,t),typeof n=="function"&&n(),r?r.__c:null}function qc(r,t,n){return kc(r,t),typeof n=="function"&&n(),r?r.__c:null}qt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(qt.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(t){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:t})}})});var lo=ge.event;function cu(){}function lu(){return this.cancelBubble}function du(){return this.defaultPrevented}ge.event=function(r){return lo&&(r=lo(r)),r.persist=cu,r.isPropagationStopped=lu,r.isDefaultPrevented=du,r.nativeEvent=r};var fa,uu={enumerable:!1,configurable:!0,get:function(){return this.class}},uo=ge.vnode;ge.vnode=function(r){typeof r.type=="string"&&(function(t){var n=t.props,s=t.type,i={},a=s.indexOf("-")===-1;for(var o in n){var c=n[o];if(!(o==="value"&&"defaultValue"in n&&c==null||au&&o==="children"&&s==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&c===!0?c="":l==="translate"&&c==="no"?c=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||s!=="input"&&s!=="textarea"||ou(n.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":su.test(o)&&(o=l):l=o="oninput":a&&ru.test(o)?o=o.replace(iu,"-$&").toLowerCase():c===null&&(c=void 0),l==="oninput"&&i[o=l]&&(o="oninputCapture"),i[o]=c}}s=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Qt(n.children).forEach(function(d){d.props.selected=i.value.indexOf(d.props.value)!=-1})),s=="select"&&i.defaultValue!=null&&(i.value=Qt(n.children).forEach(function(d){d.props.selected=i.multiple?i.defaultValue.indexOf(d.props.value)!=-1:i.defaultValue==d.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",uu)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i})(r),r.$$typeof=Uc,uo&&uo(r)};var ho=ge.__r;ge.__r=function(r){ho&&ho(r),fa=r.__c};var fo=ge.diffed;ge.diffed=function(r){fo&&fo(r);var t=r.props,n=r.__e;n!=null&&r.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),fa=null};var Hc={ReactCurrentDispatcher:{current:{readContext:function(r){return fa.__n[r.__c].props.value},useCallback:Rn,useContext:sn,useDebugValue:ra,useDeferredValue:la,useEffect:ee,useId:sa,useImperativeHandle:Cs,useInsertionEffect:ua,useLayoutEffect:rn,useMemo:Be,useReducer:Kn,useRef:Ye,useState:g,useSyncExternalStore:oa,useTransition:da}}},hu="18.3.1";function Wc(r){return mt.bind(null,r)}function Yn(r){return!!r&&r.$$typeof===Uc}function Vc(r){return Yn(r)&&r.type===G}function Gc(r){return!!r&&!!r.displayName&&(typeof r.displayName=="string"||r.displayName instanceof String)&&r.displayName.startsWith("Memo(")}function gs(r){return Yn(r)?wi.apply(null,arguments):r}function Qc(r){return!!r.__k&&(Wn(null,r),!0)}function Kc(r){return r&&(r.base||r.nodeType===1&&r)||null}var Yc=function(r,t){return r(t)},Jc=function(r,t){return r(t)},Xc=G,Zc=Yn,At={useState:g,useId:sa,useReducer:Kn,useEffect:ee,useLayoutEffect:rn,useInsertionEffect:ua,useTransition:da,useDeferredValue:la,useSyncExternalStore:oa,startTransition:ca,useRef:Ye,useImperativeHandle:Cs,useMemo:Be,useCallback:Rn,useContext:sn,useDebugValue:ra,version:"18.3.1",Children:Ic,render:$c,hydrate:qc,unmountComponentAtNode:Qc,createPortal:Bc,createElement:mt,createContext:gn,createFactory:Wc,cloneElement:gs,createRef:vc,Fragment:G,isValidElement:Yn,isElement:Zc,isFragment:Vc,isMemo:Gc,findDOMNode:Kc,Component:qt,PureComponent:ps,memo:ha,forwardRef:Ns,flushSync:Jc,unstable_batchedUpdates:Yc,StrictMode:Xc,Suspense:Nr,SuspenseList:Un,lazy:Fc,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Hc};const fu=Object.freeze(Object.defineProperty({__proto__:null,Children:Ic,Component:qt,Fragment:G,PureComponent:ps,StrictMode:Xc,Suspense:Nr,SuspenseList:Un,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Hc,cloneElement:gs,createContext:gn,createElement:mt,createFactory:Wc,createPortal:Bc,createRef:vc,default:At,findDOMNode:Kc,flushSync:Jc,forwardRef:Ns,hydrate:qc,isElement:Zc,isFragment:Vc,isMemo:Gc,isValidElement:Yn,lazy:Fc,memo:ha,render:$c,startTransition:ca,unmountComponentAtNode:Qc,unstable_batchedUpdates:Yc,useCallback:Rn,useContext:sn,useDebugValue:ra,useDeferredValue:la,useEffect:ee,useErrorBoundary:wd,useId:sa,useImperativeHandle:Cs,useInsertionEffect:ua,useLayoutEffect:rn,useMemo:Be,useReducer:Kn,useRef:Ye,useState:g,useSyncExternalStore:oa,useTransition:da,version:hu},Symbol.toStringTag,{value:"Module"}));var el={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mo=At.createContext&&At.createContext(el),mu=["attr","size","title"];function pu(r,t){if(r==null)return{};var n=gu(r,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function gu(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function bs(){return bs=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},bs.apply(this,arguments)}function po(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,s)}return n}function vs(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?po(Object(n),!0).forEach(function(s){bu(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function bu(r,t,n){return t=vu(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function vu(r){var t=yu(r,"string");return typeof t=="symbol"?t:t+""}function yu(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function tl(r){return r&&r.map((t,n)=>At.createElement(t.tag,vs({key:n},t.attr),tl(t.child)))}function z(r){return t=>At.createElement(wu,bs({attr:vs({},r.attr)},t),tl(r.child))}function wu(r){var t=n=>{var{attr:s,size:i,title:a}=r,o=pu(r,mu),c=i||n.size||"1em",l;return n.className&&(l=n.className),r.className&&(l=(l?l+" ":"")+r.className),At.createElement("svg",bs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:vs(vs({color:r.color||n.color},n.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&At.createElement("title",null,a),r.children)};return mo!==void 0?At.createElement(mo.Consumer,null,n=>t(n)):t(el)}function _u(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(r)}function xu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function Cu(r){return z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(r)}function qs(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(r)}function Rr(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(r)}function Nu(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-90.62-70.05c.19-1.38.8-2.66.8-4.06.05-7.55-2.61-15.27-8.61-21.71-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-40.33 8.38-74.66 31.07-97.59 62.57L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.35 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.42-6.97 4.17-17.02-2.81-22.45zM157.23 251.54c-8.61 67.96-36.41 93.33-52.62 110.75-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h241.92L157.23 251.54zM320 512c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"},child:[]}]})(r)}function Sn(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(r)}function ku(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(r)}function go(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function Su(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function Yt(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function Tu(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 448H48a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h352a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm16-288H256v-48h40a8 8 0 0 0 8-8V56a8 8 0 0 0-8-8h-40V8a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8v40h-40a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h40v48H32a32 32 0 0 0-30.52 41.54L74.56 416h298.88l73.08-214.46A32 32 0 0 0 416 160z"},child:[]}]})(r)}function Eu(r){return z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M19 272.47l40.63 18.06a32 32 0 0 0 24.88.47l12.78-5.12a32 32 0 0 0 18.76-20.5l9.22-30.65a24 24 0 0 1 12.55-15.65L159.94 208v50.33a48 48 0 0 1-26.53 42.94l-57.22 28.65A80 80 0 0 0 32 401.48V416h319.86V224c0-106-85.92-192-191.92-192H12A12 12 0 0 0 0 44a16.9 16.9 0 0 0 1.79 7.58L16 80l-9 9a24 24 0 0 0-7 17v137.21a32 32 0 0 0 19 29.26zM52 128a20 20 0 1 1-20 20 20 20 0 0 1 20-20zm316 320H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h352a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(r)}function Au(r){return z({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M105.1 224H80a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h16v5.49c0 44-4.14 86.6-24 122.51h176c-19.89-35.91-24-78.51-24-122.51V288h16a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-25.1c29.39-18.38 49.1-50.78 49.1-88a104 104 0 0 0-208 0c0 37.22 19.71 69.62 49.1 88zM304 448H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(r)}function Ou(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(r)}function kn(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(r)}function Du(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(r)}function Lu(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(r)}function ma(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(r)}function Mu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(r)}function Pu(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(r)}function pa(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(r)}function Iu(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(r)}function Si(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(r)}function Ru(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(r)}function nl(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function Jn(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function Et(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(r)}function ju(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(r)}function zu(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(r)}function bo(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(r)}function Fu(r){return z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(r)}function Bu(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(r)}function rl(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(r)}function Uu(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M471.1 96C405 96 353.3 137.3 320 174.6 286.7 137.3 235 96 168.9 96 75.8 96 0 167.8 0 256s75.8 160 168.9 160c66.1 0 117.8-41.3 151.1-78.6 33.3 37.3 85 78.6 151.1 78.6 93.1 0 168.9-71.8 168.9-160S564.2 96 471.1 96zM168.9 320c-40.2 0-72.9-28.7-72.9-64s32.7-64 72.9-64c38.2 0 73.4 36.1 94 64-20.4 27.6-55.9 64-94 64zm302.2 0c-38.2 0-73.4-36.1-94-64 20.4-27.6 55.9-64 94-64 40.2 0 72.9 28.7 72.9 64s-32.7 64-72.9 64z"},child:[]}]})(r)}function is(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(r)}function Er(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(r)}function ga(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(r)}function ba(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(r)}function sl(r){return z({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(r)}function Hs(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(r)}function Ws(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function Ti(r){return z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(r)}function $u(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function qu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(r)}function Hu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(r)}function Wu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(r)}function Vu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function Gu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function Qu(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM224 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm176-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h328c6.6 0 12 5.4 12 12v312z"},child:[]}]})(r)}function Ku(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(r)}function Yu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(r)}function An(r){return z({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function va(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function vo(r){return z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(r)}function il(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zM264 408c0 22.1-17.9 40-40 40s-40-17.9-40-40v-48c0-22.1 17.9-40 40-40s40 17.9 40 40v48z"},child:[]}]})(r)}function Ju(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(r)}function ya(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(r)}function Ut(r){return z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function yo(r){return z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(r)}function Xu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"},child:[]}]})(r)}function Zu(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"},child:[]}]})(r)}function eh(r){const[t,n]=g(r.likes.valueOf()),[s,i]=g(r.dislikes.valueOf()),[a,o]=g(r.dislikes.valueOf()),[c,l]=g(!1),[d,u]=g(!1),[h,m]=g("");ee(()=>{async function p(){try{const b=(await V.blog.getBlogByIdReaction(r.id)).data;l(b[0]),u(b[1])}catch(b){if(b?.status==401){console.log("Not logged in: won't fetch previous reactions");return}const y=b instanceof Error?b.message:"Fetching previous reactions failed";m(y),console.error("Error:",b)}}p()},[r.id]);async function f(p){try{const b=(await V.blog.patchBlogByIdReaction(r.id,{type:p?"like":"dislike"})).data;p?(n(c?t-1:t+1),d&&(i(s-1),u(!1))):(i(d?s-1:s+1),c&&(n(t-1),l(!1))),p?l(!c):u(!d)}catch(b){if(b?.status==401){console.log("401 error: redirecting to /login"),window.location.href="/login";return}const y=b instanceof Error?b.message:"Reacting failed";m(y),console.error("Error:",b)}}return h?e(G,{children:e("div",{role:"alert",className:"alert alert-error",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:h})]})}):e("div",{class:"pt-1 text-lg",children:[e("div",{class:"inline mr-4",children:[e("span",{children:t}),e("span",{className:"cursor-pointer px-2 text-green-500 hover:text-[#2196f3] inline-block",onClick:async()=>{await f(!0)},children:c?e(Yu,{}):e(Zu,{})})]}),e("div",{class:"inline mr-4",children:[e("span",{children:s}),e("span",{className:"cursor-pointer px-2 text-red-500 hover:text-[#2196f3] inline-block",onClick:async()=>{await f(!1)},children:d?e(Ku,{}):e(Xu,{})})]}),e("div",{class:"inline mr-4",children:[e("span",{children:r.comments}),e("span",{className:"cursor-pointer px-2 inline-block",onClick:async()=>{await f(!1)},children:e(ma,{})})]})]})}function nn(r){return Array.isArray?Array.isArray(r):cl(r)==="[object Array]"}function th(r){if(typeof r=="string")return r;let t=r+"";return t=="0"&&1/r==-1/0?"-0":t}function nh(r){return r==null?"":th(r)}function Gt(r){return typeof r=="string"}function al(r){return typeof r=="number"}function rh(r){return r===!0||r===!1||sh(r)&&cl(r)=="[object Boolean]"}function ol(r){return typeof r=="object"}function sh(r){return ol(r)&&r!==null}function Tt(r){return r!=null}function Vs(r){return!r.trim().length}function cl(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const ih="Incorrect 'index' type",ah=r=>`Invalid value for key ${r}`,oh=r=>`Pattern length exceeds max of ${r}.`,ch=r=>`Missing ${r} property in key`,lh=r=>`Property 'weight' in key '${r}' must be a positive integer`,wo=Object.prototype.hasOwnProperty;class dh{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=ll(s);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ll(r){let t=null,n=null,s=null,i=1,a=null;if(Gt(r)||nn(r))s=r,t=_o(r),n=Ei(r);else{if(!wo.call(r,"name"))throw new Error(ch("name"));const o=r.name;if(s=o,wo.call(r,"weight")&&(i=r.weight,i<=0))throw new Error(lh(o));t=_o(o),n=Ei(o),a=r.getFn}return{path:t,id:n,weight:i,src:s,getFn:a}}function _o(r){return nn(r)?r:r.split(".")}function Ei(r){return nn(r)?r.join("."):r}function uh(r,t){let n=[],s=!1;const i=(a,o,c)=>{if(Tt(a))if(!o[c])n.push(a);else{let l=o[c];const d=a[l];if(!Tt(d))return;if(c===o.length-1&&(Gt(d)||al(d)||rh(d)))n.push(nh(d));else if(nn(d)){s=!0;for(let u=0,h=d.length;u<h;u+=1)i(d[u],o,c+1)}else o.length&&i(d,o,c+1)}};return i(r,Gt(t)?t.split("."):t,0),s?n:n[0]}const hh={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},fh={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,t)=>r.score===t.score?r.idx<t.idx?-1:1:r.score<t.score?-1:1},mh={location:0,threshold:.6,distance:100},ph={useExtendedSearch:!1,getFn:uh,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var me={...fh,...hh,...mh,...ph};const gh=/[^ ]+/g;function bh(r=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const a=i.match(gh).length;if(n.has(a))return n.get(a);const o=1/Math.pow(a,.5*r),c=parseFloat(Math.round(o*s)/s);return n.set(a,c),c},clear(){n.clear()}}}class wa{constructor({getFn:t=me.getFn,fieldNormWeight:n=me.fieldNormWeight}={}){this.norm=bh(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Gt(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Gt(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Tt(t)||Vs(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,a)=>{let o=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Tt(o)){if(nn(o)){let c=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:d,value:u}=l.pop();if(Tt(u))if(Gt(u)&&!Vs(u)){let h={v:u,i:d,n:this.norm.get(u)};c.push(h)}else nn(u)&&u.forEach((h,m)=>{l.push({nestedArrIndex:m,value:h})})}s.$[a]=c}else if(Gt(o)&&!Vs(o)){let c={v:o,n:this.norm.get(o)};s.$[a]=c}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function dl(r,t,{getFn:n=me.getFn,fieldNormWeight:s=me.fieldNormWeight}={}){const i=new wa({getFn:n,fieldNormWeight:s});return i.setKeys(r.map(ll)),i.setSources(t),i.create(),i}function vh(r,{getFn:t=me.getFn,fieldNormWeight:n=me.fieldNormWeight}={}){const{keys:s,records:i}=r,a=new wa({getFn:t,fieldNormWeight:n});return a.setKeys(s),a.setIndexRecords(i),a}function Gr(r,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=me.distance,ignoreLocation:a=me.ignoreLocation}={}){const o=t/r.length;if(a)return o;const c=Math.abs(s-n);return i?o+c/i:c?1:o}function yh(r=[],t=me.minMatchCharLength){let n=[],s=-1,i=-1,a=0;for(let o=r.length;a<o;a+=1){let c=r[a];c&&s===-1?s=a:!c&&s!==-1&&(i=a-1,i-s+1>=t&&n.push([s,i]),s=-1)}return r[a-1]&&a-s>=t&&n.push([s,a-1]),n}const Nn=32;function wh(r,t,n,{location:s=me.location,distance:i=me.distance,threshold:a=me.threshold,findAllMatches:o=me.findAllMatches,minMatchCharLength:c=me.minMatchCharLength,includeMatches:l=me.includeMatches,ignoreLocation:d=me.ignoreLocation}={}){if(t.length>Nn)throw new Error(oh(Nn));const u=t.length,h=r.length,m=Math.max(0,Math.min(s,h));let f=a,p=m;const b=c>1||l,y=b?Array(h):[];let w;for(;(w=r.indexOf(t,p))>-1;){let A=Gr(t,{currentLocation:w,expectedLocation:m,distance:i,ignoreLocation:d});if(f=Math.min(A,f),p=w+u,b){let S=0;for(;S<u;)y[w+S]=1,S+=1}}p=-1;let x=[],k=1,v=u+h;const C=1<<u-1;for(let A=0;A<u;A+=1){let S=0,_=v;for(;S<_;)Gr(t,{errors:A,currentLocation:m+_,expectedLocation:m,distance:i,ignoreLocation:d})<=f?S=_:v=_,_=Math.floor((v-S)/2+S);v=_;let R=Math.max(1,m-_+1),M=o?h:Math.min(m+_,h)+u,j=Array(M+2);j[M+1]=(1<<A)-1;for(let Q=M;Q>=R;Q-=1){let te=Q-1,Y=n[r.charAt(te)];if(b&&(y[te]=+!!Y),j[Q]=(j[Q+1]<<1|1)&Y,A&&(j[Q]|=(x[Q+1]|x[Q])<<1|1|x[Q+1]),j[Q]&C&&(k=Gr(t,{errors:A,currentLocation:te,expectedLocation:m,distance:i,ignoreLocation:d}),k<=f)){if(f=k,p=te,p<=m)break;R=Math.max(1,2*m-p)}}if(Gr(t,{errors:A+1,currentLocation:m,expectedLocation:m,distance:i,ignoreLocation:d})>f)break;x=j}const I={isMatch:p>=0,score:Math.max(.001,k)};if(b){const A=yh(y,c);A.length?l&&(I.indices=A):I.isMatch=!1}return I}function _h(r){let t={};for(let n=0,s=r.length;n<s;n+=1){const i=r.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}const ys=String.prototype.normalize?(r=>r.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(r=>r);class ul{constructor(t,{location:n=me.location,threshold:s=me.threshold,distance:i=me.distance,includeMatches:a=me.includeMatches,findAllMatches:o=me.findAllMatches,minMatchCharLength:c=me.minMatchCharLength,isCaseSensitive:l=me.isCaseSensitive,ignoreDiacritics:d=me.ignoreDiacritics,ignoreLocation:u=me.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:d,ignoreLocation:u},t=l?t:t.toLowerCase(),t=d?ys(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const h=(f,p)=>{this.chunks.push({pattern:f,alphabet:_h(f),startIndex:p})},m=this.pattern.length;if(m>Nn){let f=0;const p=m%Nn,b=m-p;for(;f<b;)h(this.pattern.substr(f,Nn),f),f+=Nn;if(p){const y=m-Nn;h(this.pattern.substr(y),y)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:s,includeMatches:i}=this.options;if(t=n?t:t.toLowerCase(),t=s?ys(t):t,this.pattern===t){let b={isMatch:!0,score:0};return i&&(b.indices=[[0,t.length-1]]),b}const{location:a,distance:o,threshold:c,findAllMatches:l,minMatchCharLength:d,ignoreLocation:u}=this.options;let h=[],m=0,f=!1;this.chunks.forEach(({pattern:b,alphabet:y,startIndex:w})=>{const{isMatch:x,score:k,indices:v}=wh(t,b,y,{location:a+w,distance:o,threshold:c,findAllMatches:l,minMatchCharLength:d,includeMatches:i,ignoreLocation:u});x&&(f=!0),m+=k,x&&v&&(h=[...h,...v])});let p={isMatch:f,score:f?m/this.chunks.length:1};return f&&i&&(p.indices=h),p}}class bn{constructor(t){this.pattern=t}static isMultiMatch(t){return xo(t,this.multiRegex)}static isSingleMatch(t){return xo(t,this.singleRegex)}search(){}}function xo(r,t){const n=r.match(t);return n?n[1]:null}class xh extends bn{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Ch extends bn{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Nh extends bn{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class kh extends bn{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Sh extends bn{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Th extends bn{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class hl extends bn{constructor(t,{location:n=me.location,threshold:s=me.threshold,distance:i=me.distance,includeMatches:a=me.includeMatches,findAllMatches:o=me.findAllMatches,minMatchCharLength:c=me.minMatchCharLength,isCaseSensitive:l=me.isCaseSensitive,ignoreDiacritics:d=me.ignoreDiacritics,ignoreLocation:u=me.ignoreLocation}={}){super(t),this._bitapSearch=new ul(t,{location:n,threshold:s,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:d,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class fl extends bn{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],a=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+a,i.push([s,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Ai=[xh,fl,Nh,kh,Th,Sh,Ch,hl],Co=Ai.length,Eh=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ah="|";function Oh(r,t={}){return r.split(Ah).map(n=>{let s=n.trim().split(Eh).filter(a=>a&&!!a.trim()),i=[];for(let a=0,o=s.length;a<o;a+=1){const c=s[a];let l=!1,d=-1;for(;!l&&++d<Co;){const u=Ai[d];let h=u.isMultiMatch(c);h&&(i.push(new u(h,t)),l=!0)}if(!l)for(d=-1;++d<Co;){const u=Ai[d];let h=u.isSingleMatch(c);if(h){i.push(new u(h,t));break}}}return i})}const Dh=new Set([hl.type,fl.type]);class Lh{constructor(t,{isCaseSensitive:n=me.isCaseSensitive,ignoreDiacritics:s=me.ignoreDiacritics,includeMatches:i=me.includeMatches,minMatchCharLength:a=me.minMatchCharLength,ignoreLocation:o=me.ignoreLocation,findAllMatches:c=me.findAllMatches,location:l=me.location,threshold:d=me.threshold,distance:u=me.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:s,includeMatches:i,minMatchCharLength:a,findAllMatches:c,ignoreLocation:o,location:l,threshold:d,distance:u},t=n?t:t.toLowerCase(),t=s?ys(t):t,this.pattern=t,this.query=Oh(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i,ignoreDiacritics:a}=this.options;t=i?t:t.toLowerCase(),t=a?ys(t):t;let o=0,c=[],l=0;for(let d=0,u=n.length;d<u;d+=1){const h=n[d];c.length=0,o=0;for(let m=0,f=h.length;m<f;m+=1){const p=h[m],{isMatch:b,indices:y,score:w}=p.search(t);if(b){if(o+=1,l+=w,s){const x=p.constructor.type;Dh.has(x)?c=[...c,...y]:c.push(y)}}else{l=0,o=0,c.length=0;break}}if(o){let m={isMatch:!0,score:l/o};return s&&(m.indices=c),m}}return{isMatch:!1,score:1}}}const Oi=[];function Mh(...r){Oi.push(...r)}function Di(r,t){for(let n=0,s=Oi.length;n<s;n+=1){let i=Oi[n];if(i.condition(r,t))return new i(r,t)}return new ul(r,t)}const ws={AND:"$and",OR:"$or"},Li={PATH:"$path",PATTERN:"$val"},Mi=r=>!!(r[ws.AND]||r[ws.OR]),Ph=r=>!!r[Li.PATH],Ih=r=>!nn(r)&&ol(r)&&!Mi(r),No=r=>({[ws.AND]:Object.keys(r).map(t=>({[t]:r[t]}))});function ml(r,t,{auto:n=!0}={}){const s=i=>{let a=Object.keys(i);const o=Ph(i);if(!o&&a.length>1&&!Mi(i))return s(No(i));if(Ih(i)){const l=o?i[Li.PATH]:a[0],d=o?i[Li.PATTERN]:i[l];if(!Gt(d))throw new Error(ah(l));const u={keyId:Ei(l),pattern:d};return n&&(u.searcher=Di(d,t)),u}let c={children:[],operator:a[0]};return a.forEach(l=>{const d=i[l];nn(d)&&d.forEach(u=>{c.children.push(s(u))})}),c};return Mi(r)||(r=No(r)),s(r)}function Rh(r,{ignoreFieldNorm:t=me.ignoreFieldNorm}){r.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:a,score:o})=>{const c=i?i.weight:null;s*=Math.pow(o===0&&c?Number.EPSILON:o,(c||1)*(t?1:a))}),n.score=s})}function jh(r,t){const n=r.matches;t.matches=[],Tt(n)&&n.forEach(s=>{if(!Tt(s.indices)||!s.indices.length)return;const{indices:i,value:a}=s;let o={indices:i,value:a};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function zh(r,t){t.score=r.score}function Fh(r,t,{includeMatches:n=me.includeMatches,includeScore:s=me.includeScore}={}){const i=[];return n&&i.push(jh),s&&i.push(zh),r.map(a=>{const{idx:o}=a,c={item:t[o],refIndex:o};return i.length&&i.forEach(l=>{l(a,c)}),c})}class Xn{constructor(t,n={},s){this.options={...me,...n},this.options.useExtendedSearch,this._keyStore=new dh(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof wa))throw new Error(ih);this._myIndex=n||dl(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Tt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const a=this._docs[s];t(a,s)&&(this.removeAt(s),s-=1,i-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:a,sortFn:o,ignoreFieldNorm:c}=this.options;let l=Gt(t)?Gt(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Rh(l,{ignoreFieldNorm:c}),a&&l.sort(o),al(n)&&n>-1&&(l=l.slice(0,n)),Fh(l,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=Di(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:a,i:o,n:c})=>{if(!Tt(a))return;const{isMatch:l,score:d,indices:u}=n.searchIn(a);l&&i.push({item:a,idx:o,matches:[{score:d,value:a,norm:c,indices:u}]})}),i}_searchLogical(t){const n=ml(t,this.options),s=(c,l,d)=>{if(!c.children){const{keyId:h,searcher:m}=c,f=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:m});return f&&f.length?[{idx:d,item:l,matches:f}]:[]}const u=[];for(let h=0,m=c.children.length;h<m;h+=1){const f=c.children[h],p=s(f,l,d);if(p.length)u.push(...p);else if(c.operator===ws.AND)return[]}return u},i=this._myIndex.records,a={},o=[];return i.forEach(({$:c,i:l})=>{if(Tt(c)){let d=s(n,c,l);d.length&&(a[l]||(a[l]={idx:l,item:c,matches:[]},o.push(a[l])),d.forEach(({matches:u})=>{a[l].matches.push(...u)}))}}),o}_searchObjectList(t){const n=Di(t,this.options),{keys:s,records:i}=this._myIndex,a=[];return i.forEach(({$:o,i:c})=>{if(!Tt(o))return;let l=[];s.forEach((d,u)=>{l.push(...this._findMatches({key:d,value:o[u],searcher:n}))}),l.length&&a.push({idx:c,item:o,matches:l})}),a}_findMatches({key:t,value:n,searcher:s}){if(!Tt(n))return[];let i=[];if(nn(n))n.forEach(({v:a,i:o,n:c})=>{if(!Tt(a))return;const{isMatch:l,score:d,indices:u}=s.searchIn(a);l&&i.push({score:d,key:t,value:a,idx:o,norm:c,indices:u})});else{const{v:a,n:o}=n,{isMatch:c,score:l,indices:d}=s.searchIn(a);c&&i.push({score:l,key:t,value:a,norm:o,indices:d})}return i}}Xn.version="7.1.0";Xn.createIndex=dl;Xn.parseIndex=vh;Xn.config=me;Xn.parseQuery=ml;Mh(Lh);function Bh(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M428 224H288a48 48 0 0 1-48-48V36a4 4 0 0 0-4-4h-92a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h224a64 64 0 0 0 64-64V228a4 4 0 0 0-4-4zm-92 160H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32zm0-80H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32z"},child:[]},{tag:"path",attr:{d:"M419.22 188.59 275.41 44.78a2 2 0 0 0-3.41 1.41V176a16 16 0 0 0 16 16h129.81a2 2 0 0 0 1.41-3.41z"},child:[]}]})(r)}function Uh(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(r)}function $h(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.12 48 48 141.12 48 256s93.12 208 208 208 208-93.12 208-208S370.88 48 256 48zm-82.33 114.34 105 71a32.5 32.5 0 0 1-37.25 53.26 33.21 33.21 0 0 1-8-8l-71-105a8.13 8.13 0 0 1 11.32-11.32zM256 432c-97 0-176-78.95-176-176a174.55 174.55 0 0 1 53.87-126.72 14.15 14.15 0 1 1 19.64 20.37A146.53 146.53 0 0 0 108.3 256c0 81.44 66.26 147.7 147.7 147.7S403.7 337.44 403.7 256c0-76.67-58.72-139.88-133.55-147v55a14.15 14.15 0 1 1-28.3 0V94.15A14.15 14.15 0 0 1 256 80c97.05 0 176 79 176 176s-78.95 176-176 176z"},child:[]}]})(r)}function ks(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function qh(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var i=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return r[s]}})}),n}var Gs={exports:{}},Qs,ko;function Hh(){if(ko)return Qs;ko=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qs=r,Qs}var Ks,So;function Wh(){if(So)return Ks;So=1;var r=Hh();function t(){}function n(){}return n.resetWarningCache=t,Ks=function(){function s(o,c,l,d,u,h){if(h!==r){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function i(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Ks}var To;function Vh(){return To||(To=1,Gs.exports=Wh()()),Gs.exports}var Gh=Vh();const $e=ks(Gh),Qh=qh(fu);var Ys,Eo;function Kh(){if(Eo)return Ys;Eo=1;function r(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=Qh,n=r(t);function s(c,l,d){return l in c?Object.defineProperty(c,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[l]=d,c}function i(c,l){c.prototype=Object.create(l.prototype),c.prototype.constructor=c,c.__proto__=l}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(c,l,d){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof l!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function u(h){return h.displayName||h.name||"Component"}return function(m){if(typeof m!="function")throw new Error("Expected WrappedComponent to be a React component.");var f=[],p;function b(){p=c(f.map(function(w){return w.props})),y.canUseDOM?l(p):d&&(p=d(p))}var y=(function(w){i(x,w);function x(){return w.apply(this,arguments)||this}x.peek=function(){return p},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var C=p;return p=void 0,f=[],C};var k=x.prototype;return k.UNSAFE_componentWillMount=function(){f.push(this),b()},k.componentDidUpdate=function(){b()},k.componentWillUnmount=function(){var C=f.indexOf(this);f.splice(C,1),b()},k.render=function(){return n.createElement(m,this.props)},x})(t.PureComponent);return s(y,"displayName","SideEffect("+u(m)+")"),s(y,"canUseDOM",a),y}}return Ys=o,Ys}var Yh=Kh();const Jh=ks(Yh);var Js,Ao;function Xh(){if(Ao)return Js;Ao=1;var r=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var c,l,d;if(Array.isArray(a)){if(c=a.length,c!=o.length)return!1;for(l=c;l--!==0;)if(!i(a[l],o[l]))return!1;return!0}var u;if(t&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(u=a.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=a.entries();!(l=u.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(u=a.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(c=a.length,c!=o.length)return!1;for(l=c;l--!==0;)if(a[l]!==o[l])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(d=Object.keys(a),c=d.length,c!==Object.keys(o).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[l]))return!1;if(r&&a instanceof Element)return!1;for(l=c;l--!==0;)if(!((d[l]==="_owner"||d[l]==="__v"||d[l]==="__o")&&a.$$typeof)&&!i(a[d[l]],o[d[l]]))return!1;return!0}return a!==a&&o!==o}return Js=function(o,c){try{return i(o,c)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},Js}var Zh=Xh();const ef=ks(Zh);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xs,Oo;function tf(){if(Oo)return Xs;Oo=1;var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function s(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var l=Object.getOwnPropertyNames(o).map(function(u){return o[u]});if(l.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(u){d[u]=u}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Xs=i()?Object.assign:function(a,o){for(var c,l=s(a),d,u=1;u<arguments.length;u++){c=Object(arguments[u]);for(var h in c)t.call(c,h)&&(l[h]=c[h]);if(r){d=r(c);for(var m=0;m<d.length;m++)n.call(c,d[m])&&(l[d[m]]=c[d[m]])}}return l},Xs}var nf=tf();const rf=ks(nf);var Tn={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},we={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(we).map(function(r){return we[r]});var qe={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},_s={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ar={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},sf=Object.keys(_s).reduce(function(r,t){return r[_s[t]]=t,r},{}),af=[we.NOSCRIPT,we.SCRIPT,we.STYLE],$t="data-react-helmet",of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cf=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},lf=(function(){function r(t,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,s){return n&&r(t.prototype,n),s&&r(t,s),t}})(),Ct=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},df=function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)},Do=function(r,t){var n={};for(var s in r)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n},uf=function(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:r},Pi=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},hf=function(t){var n=$n(t,we.TITLE),s=$n(t,Ar.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=$n(t,Ar.DEFAULT_TITLE);return n||i||void 0},ff=function(t){return $n(t,Ar.ON_CHANGE_CLIENT_STATE)||function(){}},Zs=function(t,n){return n.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,i){return Ct({},s,i)},{})},mf=function(t,n){return n.filter(function(s){return typeof s[we.BASE]<"u"}).map(function(s){return s[we.BASE]}).reverse().reduce(function(s,i){if(!s.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var c=a[o],l=c.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return s.concat(i)}return s},[])},hr=function(t,n,s){var i={};return s.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&vf("Helmet: "+t+' should be of type "Array". Instead found type "'+of(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var c={};o.filter(function(m){for(var f=void 0,p=Object.keys(m),b=0;b<p.length;b++){var y=p[b],w=y.toLowerCase();n.indexOf(w)!==-1&&!(f===qe.REL&&m[f].toLowerCase()==="canonical")&&!(w===qe.REL&&m[w].toLowerCase()==="stylesheet")&&(f=w),n.indexOf(y)!==-1&&(y===qe.INNER_HTML||y===qe.CSS_TEXT||y===qe.ITEM_PROP)&&(f=y)}if(!f||!m[f])return!1;var x=m[f].toLowerCase();return i[f]||(i[f]={}),c[f]||(c[f]={}),i[f][x]?!1:(c[f][x]=!0,!0)}).reverse().forEach(function(m){return a.push(m)});for(var l=Object.keys(c),d=0;d<l.length;d++){var u=l[d],h=rf({},i[u],c[u]);i[u]=h}return a},[]).reverse()},$n=function(t,n){for(var s=t.length-1;s>=0;s--){var i=t[s];if(i.hasOwnProperty(n))return i[n]}return null},pf=function(t){return{baseTag:mf([qe.HREF,qe.TARGET],t),bodyAttributes:Zs(Tn.BODY,t),defer:$n(t,Ar.DEFER),encode:$n(t,Ar.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zs(Tn.HTML,t),linkTags:hr(we.LINK,[qe.REL,qe.HREF],t),metaTags:hr(we.META,[qe.NAME,qe.CHARSET,qe.HTTPEQUIV,qe.PROPERTY,qe.ITEM_PROP],t),noscriptTags:hr(we.NOSCRIPT,[qe.INNER_HTML],t),onChangeClientState:ff(t),scriptTags:hr(we.SCRIPT,[qe.SRC,qe.INNER_HTML],t),styleTags:hr(we.STYLE,[qe.CSS_TEXT],t),title:hf(t),titleAttributes:Zs(Tn.TITLE,t)}},Ii=(function(){var r=Date.now();return function(t){var n=Date.now();n-r>16?(r=n,t(n)):setTimeout(function(){Ii(t)},0)}})(),Lo=function(t){return clearTimeout(t)},gf=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ii:global.requestAnimationFrame||Ii,bf=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Lo:global.cancelAnimationFrame||Lo,vf=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},fr=null,yf=function(t){fr&&bf(fr),t.defer?fr=gf(function(){Mo(t,function(){fr=null})}):(Mo(t),fr=null)},Mo=function(t,n){var s=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,m=t.title,f=t.titleAttributes;Ri(we.BODY,i),Ri(we.HTML,a),wf(m,f);var p={baseTag:zn(we.BASE,s),linkTags:zn(we.LINK,o),metaTags:zn(we.META,c),noscriptTags:zn(we.NOSCRIPT,l),scriptTags:zn(we.SCRIPT,u),styleTags:zn(we.STYLE,h)},b={},y={};Object.keys(p).forEach(function(w){var x=p[w],k=x.newTags,v=x.oldTags;k.length&&(b[w]=k),v.length&&(y[w]=p[w].oldTags)}),n&&n(),d(t,b,y)},pl=function(t){return Array.isArray(t)?t.join(""):t},wf=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=pl(t)),Ri(we.TITLE,n)},Ri=function(t,n){var s=document.getElementsByTagName(t)[0];if(s){for(var i=s.getAttribute($t),a=i?i.split(","):[],o=[].concat(a),c=Object.keys(n),l=0;l<c.length;l++){var d=c[l],u=n[d]||"";s.getAttribute(d)!==u&&s.setAttribute(d,u),a.indexOf(d)===-1&&a.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var m=o.length-1;m>=0;m--)s.removeAttribute(o[m]);a.length===o.length?s.removeAttribute($t):s.getAttribute($t)!==c.join(",")&&s.setAttribute($t,c.join(","))}},zn=function(t,n){var s=document.head||document.querySelector(we.HEAD),i=s.querySelectorAll(t+"["+$t+"]"),a=Array.prototype.slice.call(i),o=[],c=void 0;return n&&n.length&&n.forEach(function(l){var d=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===qe.INNER_HTML)d.innerHTML=l.innerHTML;else if(u===qe.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=l.cssText:d.appendChild(document.createTextNode(l.cssText));else{var h=typeof l[u]>"u"?"":l[u];d.setAttribute(u,h)}d.setAttribute($t,"true"),a.some(function(m,f){return c=f,d.isEqualNode(m)})?a.splice(c,1):o.push(d)}),a.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return s.appendChild(l)}),{oldTags:a,newTags:o}},gl=function(t){return Object.keys(t).reduce(function(n,s){var i=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return n?n+" "+i:i},"")},_f=function(t,n,s,i){var a=gl(s),o=pl(n);return a?"<"+t+" "+$t+'="true" '+a+">"+Pi(o,i)+"</"+t+">":"<"+t+" "+$t+'="true">'+Pi(o,i)+"</"+t+">"},xf=function(t,n,s){return n.reduce(function(i,a){var o=Object.keys(a).filter(function(d){return!(d===qe.INNER_HTML||d===qe.CSS_TEXT)}).reduce(function(d,u){var h=typeof a[u]>"u"?u:u+'="'+Pi(a[u],s)+'"';return d?d+" "+h:h},""),c=a.innerHTML||a.cssText||"",l=af.indexOf(t)===-1;return i+"<"+t+" "+$t+'="true" '+o+(l?"/>":">"+c+"</"+t+">")},"")},bl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,i){return s[_s[i]||i]=t[i],s},n)},Cf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,i){return s[sf[i]||i]=t[i],s},n)},Nf=function(t,n,s){var i,a=(i={key:n},i[$t]=!0,i),o=bl(s,a);return[At.createElement(we.TITLE,o,n)]},kf=function(t,n){return n.map(function(s,i){var a,o=(a={key:i},a[$t]=!0,a);return Object.keys(s).forEach(function(c){var l=_s[c]||c;if(l===qe.INNER_HTML||l===qe.CSS_TEXT){var d=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[l]=s[c]}),At.createElement(t,o)})},Zt=function(t,n,s){switch(t){case we.TITLE:return{toComponent:function(){return Nf(t,n.title,n.titleAttributes)},toString:function(){return _f(t,n.title,n.titleAttributes,s)}};case Tn.BODY:case Tn.HTML:return{toComponent:function(){return bl(n)},toString:function(){return gl(n)}};default:return{toComponent:function(){return kf(t,n)},toString:function(){return xf(t,n,s)}}}},vl=function(t){var n=t.baseTag,s=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,c=t.metaTags,l=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,m=h===void 0?"":h,f=t.titleAttributes;return{base:Zt(we.BASE,n,i),bodyAttributes:Zt(Tn.BODY,s,i),htmlAttributes:Zt(Tn.HTML,a,i),link:Zt(we.LINK,o,i),meta:Zt(we.META,c,i),noscript:Zt(we.NOSCRIPT,l,i),script:Zt(we.SCRIPT,d,i),style:Zt(we.STYLE,u,i),title:Zt(we.TITLE,{title:m,titleAttributes:f},i)}},Sf=function(t){var n,s;return s=n=(function(i){df(a,i);function a(){return cf(this,a),uf(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!ef(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,l){if(!l)return null;switch(c.type){case we.SCRIPT:case we.NOSCRIPT:return{innerHTML:l};case we.STYLE:return{cssText:l}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var l,d=c.child,u=c.arrayTypeChildren,h=c.newChildProps,m=c.nestedChildren;return Ct({},u,(l={},l[d.type]=[].concat(u[d.type]||[],[Ct({},h,this.mapNestedChildrenToProps(d,m))]),l))},a.prototype.mapObjectTypeChildren=function(c){var l,d,u=c.child,h=c.newProps,m=c.newChildProps,f=c.nestedChildren;switch(u.type){case we.TITLE:return Ct({},h,(l={},l[u.type]=f,l.titleAttributes=Ct({},m),l));case we.BODY:return Ct({},h,{bodyAttributes:Ct({},m)});case we.HTML:return Ct({},h,{htmlAttributes:Ct({},m)})}return Ct({},h,(d={},d[u.type]=Ct({},m),d))},a.prototype.mapArrayTypeChildrenToProps=function(c,l){var d=Ct({},l);return Object.keys(c).forEach(function(u){var h;d=Ct({},d,(h={},h[u]=c[u],h))}),d},a.prototype.warnOnInvalidChildren=function(c,l){return!0},a.prototype.mapChildrenToProps=function(c,l){var d=this,u={};return At.Children.forEach(c,function(h){if(!(!h||!h.props)){var m=h.props,f=m.children,p=Do(m,["children"]),b=Cf(p);switch(d.warnOnInvalidChildren(h,f),h.type){case we.LINK:case we.META:case we.NOSCRIPT:case we.SCRIPT:case we.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:b,nestedChildren:f});break;default:l=d.mapObjectTypeChildren({child:h,newProps:l,newChildProps:b,nestedChildren:f});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},a.prototype.render=function(){var c=this.props,l=c.children,d=Do(c,["children"]),u=Ct({},d);return l&&(u=this.mapChildrenToProps(l,u)),At.createElement(t,u)},lf(a,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),a})(At.Component),n.propTypes={base:$e.object,bodyAttributes:$e.object,children:$e.oneOfType([$e.arrayOf($e.node),$e.node]),defaultTitle:$e.string,defer:$e.bool,encodeSpecialCharacters:$e.bool,htmlAttributes:$e.object,link:$e.arrayOf($e.object),meta:$e.arrayOf($e.object),noscript:$e.arrayOf($e.object),onChangeClientState:$e.func,script:$e.arrayOf($e.object),style:$e.arrayOf($e.object),title:$e.string,titleAttributes:$e.object,titleTemplate:$e.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=vl({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},s},Tf=function(){return null},Ef=Jh(pf,yf,vl)(Tf),Te=Sf(Ef);Te.renderStatic=Te.rewind;function Af(){const[r,t]=g([]),[n,s]=g(""),[i,a]=g(1),o=5,[c,l]=g(""),[d,u]=g(null);ee(()=>{(async()=>{try{const w=(await V.blog.getBlog()).data;t(w);const x=new Xn(w,{keys:["title","snippet","markdownContent"],includeMatches:!0,threshold:.4,isCaseSensitive:!1});u(x)}catch(w){const x=w instanceof Error?w.message:"Fetching blogs failed";s(x),console.error("Error:",w)}})()},[]);const h=c?d?.search(c).map(w=>({post:w.item,matches:w.matches}))||[]:r.map(w=>({post:w,matches:[]}));ee(()=>{if(h.length>0){const w=Math.ceil(h.length/o);i>w&&a(1)}},[h.length,o,i]);const m=Math.ceil(h.length/o),f=i*o,p=f-o,b=h.slice(p,f),y=w=>a(w);return n?e(G,{children:e("div",{role:"alert",className:"alert alert-error",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:n})]})}):e(G,{children:[e(Te,{children:[e("title",{children:"Blog - My Website"}),e("meta",{name:"description",content:"Explore articles and insights on web development, programming, and gaming. Stay updated with the latest tutorials, tips, and trends in technology."}),e("meta",{name:"keywords",content:"blog, web development, programming, gaming, tutorials, technology, insights, articles"}),e("link",{rel:"canonical",href:`${window.location.origin}/blog`})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-2xl font-bold mb-4",children:"Blog Posts"}),e("div",{className:"mb-4",children:e("label",{className:"input items-center",children:[e(Uh,{className:"opacity-50"}),e("input",{type:"text",className:"grow",placeholder:"Search blog posts...",value:c,onInput:w=>l(w.currentTarget.value)})]})}),e("div",{className:"space-y-6",children:b.map((w,x)=>e(yl,{postData:w,search:c},x))}),m>1&&e("div",{className:"join mt-6 flex justify-center",children:Array.from({length:m},(w,x)=>x+1).map(w=>e("button",{className:`join-item btn ${i===w?"btn-active":""}`,onClick:()=>y(w),children:w},w))})]})]})}function yl(r){const{postData:t,search:n,post:s}=r;let i;if(t?t.post&&t.matches?(i=t.post,t.matches):i=t:i=s,!i)return null;!i.markdownContent&&i.content&&(i={...i,markdownContent:i.content});const a={ALLOWED_TAGS:["p","br","strong","em","u","a","ul","ol","li","blockquote","code","mark"],ALLOWED_ATTR:["href","target","rel","class"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^&\s]+)$/i},o=n?Cr(i.title,n):i.title,c=n?Cr(i.snippet,n):i.snippet,l=aa.sanitize(c,a),d=i.markdownContent&&n&&i.markdownContent.toLowerCase().includes(n.toLowerCase())?(()=>{const u=i.markdownContent.length>200?i.markdownContent.substring(0,200)+"...":i.markdownContent;return Cr(u,n)})():null;return e("div",{class:"card shadow transition-transform ease-in-out delay-0 hover:-translate-y-1 hover:scale-[1.02] duration-300",children:[e("a",{class:"card-body",href:`/blog/${i.id}`,children:[e("h1",{class:"text-4xl font-bold",dangerouslySetInnerHTML:{__html:o}}),e("time",{children:new Date(i.createdAt).toLocaleDateString("en-uk",{year:"numeric",month:"long",day:"numeric"})}),e("div",{class:"prose max-w-full mt-4",dangerouslySetInnerHTML:{__html:l}}),d&&e("div",{class:"mt-4 p-2 bg-neutral text-neutral-content rounded",children:[e("div",{class:"flex items-center gap-2 mb-1",children:[e(Bh,{class:"text-lg"}),e("span",{class:"text-sm font-semibold",children:"Content preview:"})]}),e("div",{class:"text-sm",dangerouslySetInnerHTML:{__html:d}})]})]}),e("div",{class:"card-body pt-0",children:e(eh,{id:i.id,likes:i.likes,dislikes:i.dislikes,comments:i.commentCount})})]})}const pn=r=>r.startsWith("/")?new URL(r.slice(1),`${V.baseUrl}/`).href:r;function et(r){if(!r.name)return;const[t,n]=g(""),s=Be(()=>r.image?Promise.resolve(r.image):V.avatar.getAvatar({name:r.name}).then(i=>i.text()),[r?.image,r?.name]);return ee(()=>{let i=!1;return s.then(a=>{i||(console.log("GOT IMAGE URL:",a),n(a))}).catch(a=>{if(!i){const o=a instanceof Error?a.message:"Generating or setting the user's avatar failed";alert(o),console.error("Error:",a)}}),()=>{i=!0}},[s]),e("div",{tabIndex:0,className:"avatar cursor-pointer",children:e("div",{className:"rounded-full "+(r.widthClass||"w-10"),children:e("img",{alt:"USER ICON",src:pn(t)})})})}function wl({content:r,createdAt:t,authorId:n,showAcceptButton:s=!1,onAccept:i,showDeleteButton:a=!1,onDelete:o,commentId:c}){const[l,d]=g(null),[u,h]=g(!0);ee(()=>{m()},[n]);const m=async()=>{try{h(!0);const y=(await V.profile.getProfileByUserId(n)).data;d(y)}catch(y){console.log("Could not fetch user data:",y)}finally{h(!1)}},f={ALLOWED_TAGS:["p","br","strong","em","u","a","ul","ol","li","blockquote","code"],ALLOWED_ATTR:["href","target","rel"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^&\s]+)$/i},p=aa.sanitize(r,f),b=y=>new Date(y).toLocaleDateString("en-uk",{hour:"numeric",minute:"numeric",year:"numeric",month:"numeric",day:"numeric"});return e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow mb-6",children:e("div",{className:"card-body",children:[e("div",{className:"flex justify-between items-start",children:[e("a",{className:"flex items-center gap-3 flex-1",href:`/profile/${n}`,children:[u?e("div",{className:"w-8 h-8 rounded-full bg-gray-300 animate-pulse"}):e(et,{name:l?.name,image:l?.image}),e("div",{className:"flex-1",children:e("div",{className:"flex items-center gap-2",children:[e("span",{className:"font-bold",children:l?l.name:`Deleted User ${n}`}),e("time",{className:"text-sm opacity-70",children:b(t)})]})})]}),e("div",{className:"flex gap-2",children:(s||a)&&c&&e(G,{children:[s&&i&&e("button",{className:"btn btn-sm btn-success",onClick:()=>i(c),title:"Accept comment",children:[e(Yt,{className:"w-4 h-4 mr-1"}),"Accept"]}),a&&o&&e("button",{className:"btn btn-sm btn-error",onClick:()=>o(c),title:"Delete comment",children:[e(va,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]}),e("div",{className:"prose max-w-full mt-4",dangerouslySetInnerHTML:{__html:p}})]})})}function Of({id:r}){const[t,n]=g(""),[s,i]=g(null),[a,o]=g(""),c=f=>{n(f.target.value)};function l(){(async()=>{try{if(!t){alert("Comment cannot be empty");return}const f=(await V.blog.postBlogByIdComment(r,{content:t})).data;console.log("Comment post data:",f),alert(f.success?"Successfully posted a comment":"Failed to post a comment")}catch(f){if(f?.status==401){console.log("401 error: redirecting to /login"),window.location.href="/login";return}if(f?.status==429){console.log("421 error: sending alert"),alert("You are posting too many comments, try posting again later.");return}const p=f instanceof Error?f.message:"Posting blog comment failed";o(p),console.error("Error:",f)}})()}if(ee(()=>{(async()=>{try{const f=(await V.blog.getBlogById(r)).data;i(f)}catch(f){const p=f instanceof Error?f.message:"Fetching blog failed";o(p),console.error("Error:",f)}})()},[r]),a)return e(G,{children:e("div",{role:"alert",className:"alert alert-error",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:a})]})});if(!s)return e(G,{children:e("p",{children:"Loading..."})});const d=s.blog.title,u=s.blog.snippet,h=s.blog.content.replace(/<[^>]*>/g,"").substring(0,160),m=`${window.location.origin}/blog/${r}`;return e(G,{children:[e(Te,{children:[e("title",{children:[d," - My Website"]}),e("meta",{name:"description",content:u||h}),e("meta",{name:"keywords",content:"blog, web development, programming, gaming, tutorial, article"}),e("link",{rel:"canonical",href:m}),e("meta",{property:"og:title",content:d}),e("meta",{property:"og:description",content:u||h}),e("meta",{property:"og:url",content:m}),e("meta",{property:"og:type",content:"article"}),e("meta",{property:"og:site_name",content:"My Website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:d}),e("meta",{name:"twitter:description",content:u||h})]}),e("div",{class:"card card-body max-w-full",children:e("div",{class:"text-center justify-center",children:e(yl,{postData:s.blog})})}),e("div",{class:"prose max-w-full mx-8",dangerouslySetInnerHTML:{__html:s.blog.content}}),e("div",{class:"mx-8 mb-8",children:[e("div",{className:"divider"}),e("h1",{class:"text-3xl font-bold",children:"Comments"}),e("p",{children:["Comments do not allow any HTML, but they allow Markdown for styling. Once submitted, they need to be reviewed by the site administrator to be displayed for"," ",e("i",{children:e("b",{children:"obvious reasons"})}),"."]}),e("textarea",{id:"comment",class:"min-w-11/12 resize min-h-[10rem] p-4 my-4 rounded-lg outline-1",placeholder:"Write a Markdown comment...",required:!0,onInput:c}),e("div",{children:e("button",{class:"btn rounded-xl bg-blue-600 text-white",onClick:l,children:"Post comment"})}),s.comments.map((f,p)=>e(wl,{content:f.content,createdAt:f.createdAt,authorId:f.authorId}))]})]})}function Df(){return e(G,{children:[e(Te,{children:[e("title",{children:"Home - My Website"}),e("meta",{name:"description",content:"Welcome to My Website, a platform featuring interactive games, projects, and community features."}),e("meta",{name:"keywords",content:"games, projects, interactive, community, web development"}),e("link",{rel:"canonical",href:"/"}),e("meta",{property:"og:title",content:"Home - My Website"}),e("meta",{property:"og:description",content:"Welcome to My Website, a platform featuring interactive games, projects, and community features."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Home - My Website"}),e("meta",{name:"twitter:description",content:"Welcome to My Website, a platform featuring interactive games, projects, and community features."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"h-[100%] grid place-items-center",id:"homescreen",children:e("div",{className:"min-w-1/4 text-center p-8 bg-black/80 text-white",children:[e("h1",{className:"text-8xl font-semibold mb-2",children:["My",e("br",{}),"Website",e("span",{className:"blink",children:"_"})]}),e("p",{children:"Hi"})]})})]})}const _l=gn(null);function Lf({children:r}){const[t,n]=g([]),s=Rn(i=>{const a=Date.now();n(o=>[...o,{...i,id:a}]),setTimeout(()=>{n(o=>o.filter(c=>c.id!==a))},i.time)},[]);return e(_l.Provider,{value:s,children:[r,e("div",{className:"toast toast-end",children:t.map(i=>e("div",{className:`alert alert-${i.type}`,children:e("span",{children:i.text})},i.id))})]})}function _a(){const r=sn(_l);if(!r)throw new Error("useSpawnToast must be used within a ToastProvider");return r}function Mf(){const r=_a(),[t,n]=g(0);return e(G,{children:[e(Te,{children:[e("title",{children:"About - My Website"}),e("meta",{name:"description",content:"Learn about My Website - a comprehensive platform featuring gaming, blogging, user management, and real-time features. Discover our mission, features, and technology stack."}),e("meta",{name:"keywords",content:"about, website, platform, gaming, blogging, user management, real-time features, Preact, TypeScript, Tailwind CSS"}),e("link",{rel:"canonical",href:"https://mywebsite.com/about"}),e("meta",{property:"og:title",content:"About - My Website"}),e("meta",{property:"og:description",content:"Learn about My Website - a comprehensive platform featuring gaming, blogging, user management, and real-time features."}),e("meta",{property:"og:url",content:"https://mywebsite.com/about"}),e("meta",{property:"og:type",content:"website"}),e("meta",{property:"og:image",content:"https://mywebsite.com/logo.png"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"About - My Website"}),e("meta",{name:"twitter:description",content:"Learn about My Website - a comprehensive platform featuring gaming, blogging, user management, and real-time features."}),e("meta",{name:"twitter:image",content:"https://mywebsite.com/logo.png"})]}),e("div",{className:"sm:float-left sm:w-1/2 p-4",children:[e("h1",{class:"text-4xl font-bold mb-3",children:"About"}),e("p",{children:"Hello!"}),e("p",{children:"This is my website, which is yet to be completed."}),e("p",{children:["Check out"," ",e("a",{href:"/projects/pong",class:"text-blue-500",children:"my Rust pong game"})]})]}),e("div",{className:"sm:float-right sm:w-1/2 mx-auto",children:e("img",{src:Ac,className:"p-4 w-[80%]"})}),e("button",{class:"btn btn-active",onClick:()=>{r({text:`Number: ${t}`,type:"success",time:3e3}),n(t+1)},children:"Click me"})]})}function Pf(r){return z({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"},child:[]},{tag:"path",attr:{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"},child:[]}]})(r)}function If(){return e(G,{children:[e(Te,{children:[e("title",{children:"Changelog - My Website"}),e("meta",{name:"description",content:"Stay updated with the latest changes and improvements to My Website. View version history, new features, bug fixes, and technical updates."}),e("meta",{name:"keywords",content:"changelog, version history, updates, releases, features, bug fixes, My Website"}),e("link",{rel:"canonical",href:"https://mywebsite.com/changelog"}),e("meta",{property:"og:title",content:"Changelog - My Website"}),e("meta",{property:"og:description",content:"Stay updated with the latest changes and improvements to My Website. View version history, new features, bug fixes, and technical updates."}),e("meta",{property:"og:url",content:"https://mywebsite.com/changelog"}),e("meta",{property:"og:type",content:"website"}),e("meta",{property:"og:image",content:"https://mywebsite.com/logo.png"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Changelog - My Website"}),e("meta",{name:"twitter:description",content:"Stay updated with the latest changes and improvements to My Website. View version history, new features, bug fixes, and technical updates."}),e("meta",{name:"twitter:image",content:"https://mywebsite.com/logo.png"})]}),e("div",{class:"container mx-auto p-6 max-w-4xl",children:[e("div",{class:"flex items-center gap-3 mb-8",children:[e(Pf,{class:"text-4xl text-primary"}),e("h1",{class:"text-4xl font-bold",children:"Changelog"})]}),e("div",{class:"space-y-8",children:e("div",{class:"card bg-base-100 shadow-xl",children:e("div",{class:"card-body",children:[e("div",{class:"flex items-start justify-between mb-4",children:e("div",{children:[e("h2",{class:"card-title text-2xl text-primary",children:"Version 0.6.9"}),e("p",{class:"text-sm text-base-content/70",children:["Complete platform release â¢"," ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e("div",{children:[e("div",{class:"badge badge-success mb-2",children:"FEATURES"}),e("ul",{class:"list-disc list-inside space-y-1 text-sm",children:[e("li",{children:[e("strong",{children:"Blog Platform:"})," Full blogging with search, comments, reactions"]}),e("li",{children:[e("strong",{children:"Gaming Hub:"})," Chess and arithmetic games with leaderboards"]}),e("li",{children:[e("strong",{children:"User System:"})," Authentication, profiles, settings, admin panel"]}),e("li",{children:[e("strong",{children:"Real-time Features:"})," Live connections and notifications"]}),e("li",{children:[e("strong",{children:"Theming:"})," DaisyUI with 30+ themes and dark mode"]})]})]}),e("div",{children:[e("div",{class:"badge badge-info mb-2",children:"TECHNOLOGY"}),e("ul",{class:"list-disc list-inside space-y-1 text-sm",children:[e("li",{children:[e("strong",{children:"Frontend:"})," Preact + TypeScript + Tailwind"]}),e("li",{children:[e("strong",{children:"Backend:"})," RESTful API with security middleware"]}),e("li",{children:[e("strong",{children:"Database:"})," Optimized schemas with relationships"]}),e("li",{children:[e("strong",{children:"Search:"})," Advanced fuzzy search with Fuse.js"]}),e("li",{children:[e("strong",{children:"UI Components:"})," Custom components with accessibility"]})]})]})]}),e("div",{class:"mb-4",children:[e("div",{class:"badge badge-warning mb-2",children:"PRODUCTIVITY"}),e("ul",{class:"list-disc list-inside space-y-1 text-sm",children:[e("li",{children:[e("strong",{children:"PWA Ready:"})," Progressive web app capabilities"]}),e("li",{children:[e("strong",{children:"Responsive:"})," Mobile-first design across all pages"]}),e("li",{children:[e("strong",{children:"Performance:"})," Optimized loading and bundle splitting"]}),e("li",{children:[e("strong",{children:"Security:"})," CSRF, CORS, input validation, sanitization"]}),e("li",{children:[e("strong",{children:"Developer Experience:"})," Hot reload, type safety, error boundaries"]})]})]}),e("div",{class:"mb-4",children:[e("div",{class:"badge badge-accent mb-2",children:"CHANGES"}),e("ul",{class:"list-disc list-inside space-y-1 text-sm",children:[e("li",{children:"Added changelog page to documentation"}),e("li",{children:"Enhanced navigation with changelog link in Info menu"}),e("li",{children:"Improved project documentation and version tracking"})]})]}),e("div",{class:"alert alert-info",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"This consolidated release includes all features from versions 0.6.1 through 0.6.8"})]})]})})}),e("div",{class:"text-center mt-8 p-4 bg-base-200 rounded-lg",children:e("p",{class:"text-sm text-base-content/60",children:["Want to contribute or report an issue?",e("a",{href:"/contact",class:"link link-primary ml-1",children:"Get in touch"})]})})]})]})}function xa(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(r)}function Rf(r){return z({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M182.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L128 109.3l0 293.5L86.6 361.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 402.7l0-293.5 41.4 41.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-96-96z"},child:[]}]})(r)}function Ca(r){return z({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}function jf(){const[r,t]=g(""),[n,s]=g(""),[i,a]=g(!0),[o,c]=g(!1),[l,d]=g(""),{route:u}=_t(),h=w=>{t(w.target.value)},m=w=>{s(w.target.value)},f=w=>{a(w.target.checked)};async function p(){c(!0);try{await V.auth.apiSignInEmailCreate({email:r,password:n,rememberMe:i}),window.location.href="/"}catch(w){const x=w?.error?.message||"ERROR: LOGIN FAILED";d(x),console.log("ERROR:",w?.error?.message||w),c(!1)}}async function b(w){c(!0);try{const x=(await V.auth.socialSignIn({provider:w,callbackURL:new URL("/",window.location.origin).href})).data;window.location.href=x.url;return}catch(x){const k=x?.error?.message||"ERROR: LOGIN FAILED";d(k),console.log("ERROR:",x?.error?.message||x),c(!1)}}function y(w){w.preventDefault(),p()}return e(G,{children:[e(Te,{children:[e("title",{children:"Login - My Website"}),e("meta",{name:"description",content:"Secure user authentication page. Sign in to your account to access games, leaderboards, and personalized features."}),e("meta",{name:"keywords",content:"login, sign in, authentication, user login, secure login, account access"}),e("link",{rel:"canonical",href:"/login"}),e("meta",{property:"og:title",content:"Login - My Website"}),e("meta",{property:"og:description",content:"Secure user authentication page. Sign in to your account to access games, leaderboards, and personalized features."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/login"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Login - My Website"}),e("meta",{name:"twitter:description",content:"Secure user authentication page. Sign in to your account to access games, leaderboards, and personalized features."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full",children:e("div",{className:"card-body",children:[e("h1",{className:"text-center text-xl font-bold",children:"Login"}),e("form",{className:"fieldset",onSubmit:y,children:[e("label",{className:"label",children:"Email"}),e("label",{className:"input w-full",children:[e(Jn,{}),e("input",{type:"text",required:!0,placeholder:"Email",onInput:h})]}),e("label",{className:"label",children:"Password"}),e("label",{className:"input w-full",children:[e(Er,{}),e("input",{type:"password",required:!0,placeholder:"Password",onInput:m})]}),e("label",{className:"label",children:[e("input",{type:"checkbox",onChange:f,checked:i}),"Remember me"]}),e("button",{disabled:o,className:"btn btn-neutral mt-4",type:"submit",children:"Login"}),e("div",{children:e("p",{className:"text-center",children:["Don't have an account?"," ",e("a",{className:"link-accent",href:"/signup",children:"Sign up here"})]})})]}),l&&e("p",{className:"text-error",children:l}),e("div",{className:"divider",children:"Sign In With"}),e("button",{className:"btn text-black bg-white font-bold",onClick:()=>b("google"),children:[e(Ca,{}),"Google"]}),e("button",{className:"btn text-white bg-black font-bold",onClick:()=>b("twitter"),children:[e(xa,{}),"Twitter (X)"]})]})})]})}function Qr({title:r,description:t,technicalSpecs:n,backgroundImage:s,href:i,extraButtons:a=[]}){return e("a",{href:i,children:e("div",{className:"h-full card card-side bg-neutral text-neutral-content border border-base-200 overflow-hidden relative group transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-accent/20 flex",children:[e("div",{className:"card-body p-8 flex flex-col justify-between w-3/5",children:[e("div",{children:[e("h2",{className:"card-title text-3xl mb-3 text-balance",children:r}),e("p",{className:"mb-4 leading-relaxed",children:t}),n&&e("div",{className:"text-sm bg-base-100 text-base-content p-3 rounded border border-base-300 my-4",children:[e("span",{className:"font-semibold text-accent",children:"Technical:"})," ",n]})]}),e("div",{className:"card-actions flex flex-wrap gap-2",children:[e("a",{href:i,className:"btn btn-success px-6 py-3 transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary group-hover:shadow-lg group-hover:shadow-primary/50",children:"Play Now"}),a.map((o,c)=>e("a",{href:o.href,className:"btn btn-outline btn-primary px-6 py-3 transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary group-hover:shadow-lg group-hover:shadow-primary/50",children:o.label},c))]})]}),e("figure",{className:"w-1/4 relative brightness-75 group-hover:brightness-110 transition-all duration-500",children:[e("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent to-base-100/20"}),e("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${s})`}})]})]})})}function zf(){return e(G,{children:[e(Te,{children:[e("title",{children:"Projects - My Website"}),e("meta",{name:"description",content:"Explore interactive projects and games including Chess, Arithmetic, Quizspire, and Tetris. Discover engaging web applications built with modern technologies."}),e("meta",{name:"keywords",content:"projects, games, interactive, chess, arithmetic, quizspire, tetris, web development"}),e("link",{rel:"canonical",href:"/projects"}),e("meta",{property:"og:title",content:"Projects - My Website"}),e("meta",{property:"og:description",content:"Explore interactive projects and games including Chess, Arithmetic, Quizspire, and Tetris. Discover engaging web applications built with modern technologies."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/projects"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Projects - My Website"}),e("meta",{name:"twitter:description",content:"Explore interactive projects and games including Chess, Arithmetic, Quizspire, and Tetris. Discover engaging web applications built with modern technologies."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("h1",{class:"text-3xl mx-4 my-8",children:"Projects"}),e("div",{class:"m-8",children:e(Qr,{title:"Chess",description:"A multiplayer chess web app built with Rust and Poem-WebSocket, enabling multiplayer gameplay.",technicalSpecs:"Move validation â¢ Real-time multiplayer",backgroundImage:"/chess-board.png",href:"/projects/chess",extraButtons:[{label:"Notification Settings",href:"/settings/notifications"}]})}),e("div",{class:"m-8",children:e(Qr,{title:"Arithmetic Game",description:"Challenge your mental arithmetic skills in this arithmetic puzzle game.",technicalSpecs:"Dynamic problem generation â¢ Multiplayer leaderboards â¢ Timed solo mode",backgroundImage:"/stragedy-rush.png",href:"/projects/arithmetic"})}),e("div",{class:"m-8",children:e(Qr,{title:"Quizspire",description:"Master your flashcards with various study modes and revision games.",technicalSpecs:"Flashcard decks â¢ Multiple study modes â¢ Progress tracking",backgroundImage:"/quizspire.png",href:"/projects/quizspire",extraButtons:[{label:"Join or Host Quizspire",href:"/projects/quizspire/host"}]})}),e("div",{class:"m-8",children:e(Qr,{title:"Tetris",description:"Classic Tetris game built with PixiJS.",technicalSpecs:"Real-time gameplay â¢ High score tracking",backgroundImage:"/colorful-tetris.png",href:"/projects/tetris"})}),e("a",{href:"https://altus.deno.dev/projects",class:"mx-8 my-4 btn btn-success",children:"More Projects"})]})}const Jt=Object.create(null);Jt.open="0";Jt.close="1";Jt.ping="2";Jt.pong="3";Jt.message="4";Jt.upgrade="5";Jt.noop="6";const as=Object.create(null);Object.keys(Jt).forEach(r=>{as[Jt[r]]=r});const ji={type:"error",data:"parser error"},xl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Cl=typeof ArrayBuffer=="function",Nl=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Na=({type:r,data:t},n,s)=>xl&&t instanceof Blob?n?s(t):Po(t,s):Cl&&(t instanceof ArrayBuffer||Nl(t))?n?s(t):Po(new Blob([t]),s):s(Jt[r]+(t||"")),Po=(r,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(r)};function Io(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let ei;function Ff(r,t){if(xl&&r.data instanceof Blob)return r.data.arrayBuffer().then(Io).then(t);if(Cl&&(r.data instanceof ArrayBuffer||Nl(r.data)))return t(Io(r.data));Na(r,!1,n=>{ei||(ei=new TextEncoder),t(ei.encode(n))})}const Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Ro.length;r++)wr[Ro.charCodeAt(r)]=r;const Bf=r=>{let t=r.length*.75,n=r.length,s,i=0,a,o,c,l;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<n;s+=4)a=wr[r.charCodeAt(s)],o=wr[r.charCodeAt(s+1)],c=wr[r.charCodeAt(s+2)],l=wr[r.charCodeAt(s+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|c>>2,u[i++]=(c&3)<<6|l&63;return d},Uf=typeof ArrayBuffer=="function",ka=(r,t)=>{if(typeof r!="string")return{type:"message",data:kl(r,t)};const n=r.charAt(0);return n==="b"?{type:"message",data:$f(r.substring(1),t)}:as[n]?r.length>1?{type:as[n],data:r.substring(1)}:{type:as[n]}:ji},$f=(r,t)=>{if(Uf){const n=Bf(r);return kl(n,t)}else return{base64:!0,data:r}},kl=(r,t)=>{switch(t){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},Sl="",qf=(r,t)=>{const n=r.length,s=new Array(n);let i=0;r.forEach((a,o)=>{Na(a,!1,c=>{s[o]=c,++i===n&&t(s.join(Sl))})})},Hf=(r,t)=>{const n=r.split(Sl),s=[];for(let i=0;i<n.length;i++){const a=ka(n[i],t);if(s.push(a),a.type==="error")break}return s};function Wf(){return new TransformStream({transform(r,t){Ff(r,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}r.data&&typeof r.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let ti;function Kr(r){return r.reduce((t,n)=>t+n.length,0)}function Yr(r,t){if(r[0].length===t)return r.shift();const n=new Uint8Array(t);let s=0;for(let i=0;i<t;i++)n[i]=r[0][s++],s===r[0].length&&(r.shift(),s=0);return r.length&&s<r[0].length&&(r[0]=r[0].slice(s)),n}function Vf(r,t){ti||(ti=new TextDecoder);const n=[];let s=0,i=-1,a=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(s===0){if(Kr(n)<1)break;const l=Yr(n,1);a=(l[0]&128)===128,i=l[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Kr(n)<2)break;const l=Yr(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),s=3}else if(s===2){if(Kr(n)<8)break;const l=Yr(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){c.enqueue(ji);break}i=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Kr(n)<i)break;const l=Yr(n,i);c.enqueue(ka(a?l:ti.decode(l),t)),s=0}if(i===0||i>r){c.enqueue(ji);break}}}})}const Tl=4;function tt(r){if(r)return Gf(r)}function Gf(r){for(var t in tt.prototype)r[t]=tt.prototype[t];return r}tt.prototype.on=tt.prototype.addEventListener=function(r,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(t),this};tt.prototype.once=function(r,t){function n(){this.off(r,n),t.apply(this,arguments)}return n.fn=t,this.on(r,n),this};tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(r,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+r];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===t||s.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+r],this};tt.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+r],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,t)}return this};tt.prototype.emitReserved=tt.prototype.emit;tt.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};tt.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Ss=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Rt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Qf="arraybuffer";function El(r,...t){return t.reduce((n,s)=>(r.hasOwnProperty(s)&&(n[s]=r[s]),n),{})}const Kf=Rt.setTimeout,Yf=Rt.clearTimeout;function Ts(r,t){t.useNativeTimers?(r.setTimeoutFn=Kf.bind(Rt),r.clearTimeoutFn=Yf.bind(Rt)):(r.setTimeoutFn=Rt.setTimeout.bind(Rt),r.clearTimeoutFn=Rt.clearTimeout.bind(Rt))}const Jf=1.33;function Xf(r){return typeof r=="string"?Zf(r):Math.ceil((r.byteLength||r.size)*Jf)}function Zf(r){let t=0,n=0;for(let s=0,i=r.length;s<i;s++)t=r.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Al(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function em(r){let t="";for(let n in r)r.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return t}function tm(r){let t={},n=r.split("&");for(let s=0,i=n.length;s<i;s++){let a=n[s].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class nm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Sa extends tt{constructor(t){super(),this.writable=!1,Ts(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new nm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ka(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=em(t);return n.length?"?"+n:""}}class rm extends Sa{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Hf(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,qf(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Al()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Ol=!1;try{Ol=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const sm=Ol;function im(){}class am extends rm{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Kt extends tt{constructor(t,n,s){super(),this.createRequest=t,Ts(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=El(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Kt.requestsCount++,Kt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=im,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Kt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Kt.requestsCount=0;Kt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jo);else if(typeof addEventListener=="function"){const r="onpagehide"in Rt?"pagehide":"unload";addEventListener(r,jo,!1)}}function jo(){for(let r in Kt.requests)Kt.requests.hasOwnProperty(r)&&Kt.requests[r].abort()}const om=(function(){const r=Dl({xdomain:!1});return r&&r.responseType!==null})();class cm extends am{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=om&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Kt(Dl,this.uri(),t)}}function Dl(r){const t=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||sm))return new XMLHttpRequest}catch{}if(!t)try{return new Rt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ll=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class lm extends Sa{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=Ll?{}:El(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],i=n===t.length-1;Na(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&Ss(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Al()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ni=Rt.WebSocket||Rt.MozWebSocket;class dm extends lm{createSocket(t,n,s){return Ll?new ni(t,n,s):n?new ni(t,n):new ni(t)}doWrite(t,n){this.ws.send(n)}}class um extends Sa{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Vf(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),i=Wf();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:c,value:l})=>{c||(this.onPacket(l),a())}).catch(c=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],i=n===t.length-1;this._writer.write(s).then(()=>{i&&Ss(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const hm={websocket:dm,webtransport:um,polling:cm},fm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function zi(r){if(r.length>8e3)throw"URI too long";const t=r,n=r.indexOf("["),s=r.indexOf("]");n!=-1&&s!=-1&&(r=r.substring(0,n)+r.substring(n,s).replace(/:/g,";")+r.substring(s,r.length));let i=fm.exec(r||""),a={},o=14;for(;o--;)a[mm[o]]=i[o]||"";return n!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=pm(a,a.path),a.queryKey=gm(a,a.query),a}function pm(r,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function gm(r,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(n[i]=a)}),n}const Fi=typeof addEventListener=="function"&&typeof removeEventListener=="function",os=[];Fi&&addEventListener("offline",()=>{os.forEach(r=>r())},!1);class fn extends tt{constructor(t,n){if(super(),this.binaryType=Qf,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=zi(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=zi(n.host).host);Ts(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=tm(this.opts.query)),Fi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},os.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Tl,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&fn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",fn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=Xf(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ss(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:t,data:n,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(fn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=os.indexOf(this._offlineEventListener);s!==-1&&os.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}fn.protocol=Tl;class bm extends fn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;fn.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;fn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function a(){s||(s=!0,u(),n.close(),n=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=n.name,a(),this.emitReserved("upgradeError",m)};function c(){o("transport closed")}function l(){o("socket closed")}function d(h){n&&h.name!==n.name&&a()}const u=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",c),this.off("close",l),this.off("upgrading",d)};n.once("open",i),n.once("error",o),n.once("close",c),this.once("close",l),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let vm=class extends bm{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>hm[i]).filter(i=>!!i)),super(t,s)}};function ym(r,t="",n){let s=r;n=n||typeof location<"u"&&location,r==null&&(r=n.protocol+"//"+n.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=n.protocol+r:r=n.host+r),/^(https?|wss?):\/\//.test(r)||(typeof n<"u"?r=n.protocol+"//"+r:r="https://"+r),s=zi(r)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const wm=typeof ArrayBuffer=="function",_m=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Ml=Object.prototype.toString,xm=typeof Blob=="function"||typeof Blob<"u"&&Ml.call(Blob)==="[object BlobConstructor]",Cm=typeof File=="function"||typeof File<"u"&&Ml.call(File)==="[object FileConstructor]";function Ta(r){return wm&&(r instanceof ArrayBuffer||_m(r))||xm&&r instanceof Blob||Cm&&r instanceof File}function cs(r,t){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let n=0,s=r.length;n<s;n++)if(cs(r[n]))return!0;return!1}if(Ta(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return cs(r.toJSON(),!0);for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&cs(r[n]))return!0;return!1}function Nm(r){const t=[],n=r.data,s=r;return s.data=Bi(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Bi(r,t){if(!r)return r;if(Ta(r)){const n={_placeholder:!0,num:t.length};return t.push(r),n}else if(Array.isArray(r)){const n=new Array(r.length);for(let s=0;s<r.length;s++)n[s]=Bi(r[s],t);return n}else if(typeof r=="object"&&!(r instanceof Date)){const n={};for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=Bi(r[s],t));return n}return r}function km(r,t){return r.data=Ui(r.data,t),delete r.attachments,r}function Ui(r,t){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<t.length)return t[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let n=0;n<r.length;n++)r[n]=Ui(r[n],t);else if(typeof r=="object")for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(r[n]=Ui(r[n],t));return r}const Sm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Tm=5;var Se;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Se||(Se={}));class Em{constructor(t){this.replacer=t}encode(t){return(t.type===Se.EVENT||t.type===Se.ACK)&&cs(t)?this.encodeAsBinary({type:t.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Se.BINARY_EVENT||t.type===Se.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Nm(t),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function zo(r){return Object.prototype.toString.call(r)==="[object Object]"}class Ea extends tt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Se.BINARY_EVENT;s||n.type===Se.BINARY_ACK?(n.type=s?Se.EVENT:Se.ACK,this.reconstructor=new Am(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ta(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Se[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Se.BINARY_EVENT||s.type===Se.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(a,n)}else s.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}s.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Ea.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Se.CONNECT:return zo(n);case Se.DISCONNECT:return n===void 0;case Se.CONNECT_ERROR:return typeof n=="string"||zo(n);case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Sm.indexOf(n[0])===-1);case Se.ACK:case Se.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Am{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=km(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Om=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ea,Encoder:Em,get PacketType(){return Se},protocol:Tm},Symbol.toStringTag,{value:"Module"}));function Bt(r,t,n){return r.on(t,n),function(){r.off(t,n)}}const Dm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Pl extends tt{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Bt(t,"open",this.onopen.bind(this)),Bt(t,"packet",this.onpacket.bind(this)),Bt(t,"error",this.onerror.bind(this)),Bt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,i,a;if(Dm.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Se.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,h=n.pop();this._registerAckCallback(u,h),o.id=u}const c=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),o=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((s,i)=>{const a=(o,c)=>o?i(o):s(c);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Se.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(t);break;case Se.ACK:case Se.BINARY_ACK:this.onack(t);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:Se.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Zn(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Zn.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*r);r=(Math.floor(t*10)&1)==0?r-n:r+n}return Math.min(r,this.max)|0};Zn.prototype.reset=function(){this.attempts=0};Zn.prototype.setMin=function(r){this.ms=r};Zn.prototype.setMax=function(r){this.max=r};Zn.prototype.setJitter=function(r){this.jitter=r};class $i extends tt{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ts(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Zn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||Om;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new vm(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Bt(n,"open",function(){s.onopen(),t&&t()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},o=Bt(n,"error",a);if(this._timeout!==!1){const c=this._timeout,l=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Bt(t,"ping",this.onping.bind(this)),Bt(t,"data",this.ondata.bind(this)),Bt(t,"error",this.onerror.bind(this)),Bt(t,"close",this.onclose.bind(this)),Bt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ss(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Pl(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const mr={};function qn(r,t){typeof r=="object"&&(t=r,r=void 0),t=t||{};const n=ym(r,t.path||"/socket.io"),s=n.source,i=n.id,a=n.path,o=mr[i]&&a in mr[i].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return c?l=new $i(s,t):(mr[i]||(mr[i]=new $i(s,t)),l=mr[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(qn,{Manager:$i,Socket:Pl,io:qn,connect:qn});function Lm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(r);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(r,s[i])&&(n[s[i]]=r[s[i]]);return n}const Or="abcdefgh".split(""),ls={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Mm={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Pm={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Im=[7,6,5,4,3,2,1,0],Rm=[0,1,2,3,4,5,6,7],Fo={wP:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),e("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),e("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),e("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),e("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),e("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),e("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),e("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[e("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),e("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),e("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),e("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[e("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),e("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),e("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),e("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),e("circle",{cx:"6",cy:"12",r:"2"}),e("circle",{cx:"14",cy:"9",r:"2"}),e("circle",{cx:"22.5",cy:"8",r:"2"}),e("circle",{cx:"31",cy:"9",r:"2"}),e("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),e("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),e("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),e("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),e("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),e("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),e("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),e("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),e("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),e("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),e("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),e("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),e("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),e("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),e("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),e("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),e("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[e("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),e("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),e("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),e("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[e("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),e("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),e("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),e("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),e("circle",{cx:"6",cy:"12",r:"2"}),e("circle",{cx:"14",cy:"9",r:"2"}),e("circle",{cx:"22.5",cy:"8",r:"2"}),e("circle",{cx:"31",cy:"9",r:"2"}),e("circle",{cx:"39",cy:"12",r:"2"}),e("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),e("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[e("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),e("path",{d:"M 12.5,31.5 L 32.5,31.5"}),e("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),e("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:e("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[e("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),e("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),e("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),e("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),e("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),e("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function qi(r,t,n){const s=t/8,i=r==="white"?Mm:Pm,a=r==="white"?Im:Rm,o=i[n[0]]*s+s/2,c=a[parseInt(n[1],10)-1]*s+s/2;return{x:o,y:c}}function Bo(r){let t=!1;return Object.keys(ls).forEach(n=>{r[n]!==ls[n]&&(t=!0)}),Object.keys(r).forEach(n=>{ls[n]!==r[n]&&(t=!0)}),t}function jm(r,t){const n={removed:{},added:{}};return Object.keys(r).forEach(s=>{t[s]!==r[s]&&(n.removed[s]=r[s])}),Object.keys(t).forEach(s=>{r[s]!==t[s]&&(n.added[s]=t[s])}),n}function Uo(r){return r==="start"?ls:typeof r=="string"?zm(r):r}function zm(r){if(!Fm(r))return{};r=r.replace(/ .+$/,"");const t=r.split("/"),n={};let s=8;for(let i=0;i<8;i++){const a=t[i].split("");let o=0;for(let c=0;c<a.length;c++)if(a[c].search(/[1-8]/)!==-1){const l=parseInt(a[c],10);o=o+l}else{const l=Or[o]+s;n[l]=Um(a[c]),o=o+1}s=s-1}return n}function Fm(r){r=r.replace(/ .+$/,""),r=Bm(r);const t=r.split("/");if(t.length!==8)return!1;for(let n=0;n<8;n++)if(t[n].length!==8||t[n].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function Bm(r){return r.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Um(r){return r.toLowerCase()===r?"b"+r.toUpperCase():"w"+r.toUpperCase()}const $m=(r,t=!0,n,s)=>{const[i,a]=g([]),[o,c]=g([]),[l,d]=g();ee(()=>{Array.isArray(r)&&(u(),a(r?.filter(p=>p[0]!==p[1])))},[r]),ee(()=>{n?.(o)},[o]);function u(){c([]),d(void 0)}const h=(p,b)=>{t&&d([p,b,s])},m=[...o,...i];return{arrows:m,newArrow:l,clearArrows:u,drawNewArrow:h,setArrows:c,onArrowDrawEnd:(p,b)=>{if(p===b||!t)return;let y;const w=[p,b,s];m.every(([k,v])=>!(k===p&&v===b))?y=[...o,w]:y=o.filter(([k,v])=>!(k===p&&v===b)),d(void 0),c(y)}}},Il=gn({}),an=()=>sn(Il),qm=Ns(({allowDragOutsideBoard:r=!0,animationDuration:t=300,areArrowsAllowed:n=!0,arePiecesDraggable:s=!0,arePremovesAllowed:i=!1,autoPromoteToQueen:a=!1,boardOrientation:o="white",boardWidth:c,children:l,clearPremovesOnRightClick:d=!0,customArrows:u,customArrowColor:h="rgb(255,170,0)",customBoardStyle:m,customNotationStyle:f,customDarkSquareStyle:p={backgroundColor:"#B58863"},customDropSquareStyle:b={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:y={backgroundColor:"#F0D9B5"},customPieces:w,customPremoveDarkSquareStyle:x={backgroundColor:"#A42323"},customPremoveLightSquareStyle:k={backgroundColor:"#BD2828"},customSquare:v="div",customSquareStyles:C,dropOffBoardAction:I="snapback",id:A=0,isDraggablePiece:S=()=>!0,getPositionObject:_=()=>{},onArrowsChange:R=()=>{},onDragOverSquare:M=()=>{},onMouseOutSquare:j=()=>{},onMouseOverSquare:W=()=>{},onPieceClick:Q=()=>{},onPieceDragBegin:te=()=>{},onPieceDragEnd:Y=()=>{},onPieceDrop:X=()=>!0,onPieceDropOffBoard:q=()=>{},onPromotionCheck:oe=(ye,Pe,Oe)=>(Oe==="wP"&&ye[1]==="7"&&Pe[1]==="8"||Oe==="bP"&&ye[1]==="2"&&Pe[1]==="1")&&Math.abs(ye.charCodeAt(0)-Pe.charCodeAt(0))<=1,onPromotionPieceSelect:F=()=>!0,onSparePieceDrop:J=()=>!0,onSquareClick:ue=()=>{},onSquareRightClick:se=()=>{},position:xe="start",promotionDialogVariant:ce="default",promotionToSquare:U=null,showBoardNotation:B=!0,showPromotionDialog:E=!1,snapToCursor:K=!0},be)=>{const[ye,Pe]=g(Uo(xe)),[Oe,Xe]=g({removed:{},added:{}}),[P,Z]=g(void 0),[Ae,Je]=g(E&&!a),[Nt,xt]=g(null),[He,he]=g(U),[Ce,Me]=g([]),Ie=Ye(Ce),[We,Ve]=g(),[Fe,ne]=g(Object.assign(Object.assign({},Fo),w)),[Re,Ot]=g(!1),kt=Ye(),[lt,pt]=g(!1),[ot,Ht]=g(null);Cs(be,()=>({clearPremoves(Ee=!0){Ue(Ee)}})),ee(()=>{ne(Object.assign(Object.assign({},Fo),w))},[w]),ee(()=>{Je(E),he(U)},[U,E]),ee(()=>{var Ee,$,De;Dt();const ve=Uo(xe),Qe=jm(ye,ve),ut=((Ee=Object.keys(Qe.added))===null||Ee===void 0?void 0:Ee.length)<=2?(De=($=Object.entries(Qe.added))===null||$===void 0?void 0:$[0])===null||De===void 0?void 0:De[1][0]:void 0;if(lt)Pe(ve),pt(!1),i&&wn(ut),kt.current&&clearTimeout(kt.current);else if(Re)Pe(ve),pt(!1),i&&wn(ut);else{Bo(ve)&&P!==void 0?Z(ut):Bo(ve)?Z(void 0):Z("b"),Xe(Qe),pt(!0);const st=setTimeout(()=>{Pe(ve),pt(!1),i&&wn(ut)},t);kt.current=st}return Ot(!1),_(ve),yn(),()=>{clearTimeout(kt.current)}},[xe]);const{arrows:on,newArrow:vn,clearArrows:yn,drawNewArrow:cn,onArrowDrawEnd:ln}=$m(u,n,R,h);function er(Ee,$,De,ve){if(Ee===$)return;if(yn(),i&&lt||i&&(P===De[0]||Ie.current.filter(ut=>ut.piece[0]===De[0]).length>0)){const ut=[...Ie.current];ut.push({sourceSq:Ee,targetSq:$,piece:De}),Ie.current=ut,Me([...ut]),Dt();return}if(!i&&lt)return;const Qe=Object.assign({},ye);Ot(!!ve),Z(De[0]),X.length?X(Ee,$,De)||(Ue(),Ot(!1)):(delete Qe[Ee],Qe[$]=De,Pe(Qe)),Dt(),_(Qe)}function Xt(Ee){const $=Object.assign({},ye);delete $[Ee],Pe($),_($)}function wn(Ee){if(Ie.current.length===0)return;const $=Ie.current[0];if($.piece[0]!==void 0&&$.piece[0]!==Ee&&X.length)if(Z($.piece[0]),Ot(!0),X($.sourceSq,$.targetSq,$.piece)){const ve=[...Ie.current];ve.shift(),Ie.current=ve,Me([...ve])}else Ue()}function tr(Ee,$){if(!J(Ee,$))return;const ve=Object.assign({},ye);ve[$]=Ee,Pe(ve),_(ve)}function Ue(Ee=!0){Ee&&Z(void 0),Ie.current=[],Me([])}function Dt(){xt(null),he(null),Je(!1)}function nr(Ee){Ve(Ee)}function O(Ee){if(We){if(We===Ee){Ve(void 0),d&&Ue(!1),se(Ee);return}}else Ve(void 0)}function Lt(){Ve(void 0)}const dt={allowDragOutsideBoard:r,animationDuration:t,arePiecesDraggable:s,arePremovesAllowed:i,arrows:on,autoPromoteToQueen:a,boardOrientation:o,boardWidth:c,chessPieces:Fe,clearArrows:yn,clearCurrentRightClickDown:Lt,currentPosition:ye,currentRightClickDown:We,customArrowColor:h,customBoardStyle:m,customDarkSquareStyle:p,customDropSquareStyle:b,customLightSquareStyle:y,customNotationStyle:f,customPremoveDarkSquareStyle:x,customPremoveLightSquareStyle:k,customSquare:v,customSquareStyles:C,deletePieceFromSquare:Xt,drawNewArrow:cn,dropOffBoardAction:I,handleSetPosition:er,handleSparePieceDrop:tr,id:A,isDraggablePiece:S,isWaitingForAnimation:lt,lastPieceColour:P,lastSquareDraggedOver:ot,newArrow:vn,onArrowDrawEnd:ln,onDragOverSquare:M,onMouseOutSquare:j,onMouseOverSquare:W,onPieceClick:Q,onPieceDragBegin:te,onPieceDragEnd:Y,onPieceDrop:X,onPieceDropOffBoard:q,onPromotionCheck:oe,onPromotionPieceSelect:F,onRightClickDown:nr,onRightClickUp:O,onSparePieceDrop:J,onSquareClick:ue,positionDifferences:Oe,premoves:Ce,promoteFromSquare:Nt,promoteToSquare:He,promotionDialogVariant:ce,setLastSquareDraggedOver:Ht,setPromoteFromSquare:xt,setPromoteToSquare:he,setShowPromoteDialog:Je,showBoardNotation:B,showPromoteDialog:Ae,snapToCursor:K};return e(Il.Provider,Object.assign({value:dt},{children:l}))});function Hm({row:r,col:t}){const{boardOrientation:n,boardWidth:s,customDarkSquareStyle:i,customLightSquareStyle:a,customNotationStyle:o}=an(),c=a.backgroundColor,l=i.backgroundColor,d=t===0,u=r===7,h=d&&u;function m(){return n==="white"?8-r:r+1}function f(){return n==="black"?Or[7-t]:Or[t]}function p(){return e(G,{children:[e("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:c}),qo(s,o))},{children:m()})),e("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:c}),$o(s,o))},{children:f()}))]})}function b(){return e("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:t%2!==0?l:c}),$o(s,o))},{children:f()}))}function y(){return e("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},n==="black"?{color:r%2===0?l:c}:{color:r%2===0?l:c}),qo(s,o))},{children:m()}))}return h?p():u?b():d?y():null}const $o=(r,t)=>Object.assign({alignSelf:"flex-end",paddingLeft:r/8-r/48,fontSize:r/48},t),qo=(r,t)=>Object.assign({alignSelf:"flex-start",paddingRight:r/8-r/48,fontSize:r/48},t),Rl=gn({dragDropManager:void 0});function It(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Ho=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),Wo=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vo={INIT:"@@redux/INIT"+Wo(),REPLACE:"@@redux/REPLACE"+Wo()};function Wm(r){if(typeof r!="object"||r===null)return!1;for(var t=r;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t}function jl(r,t,n){var s;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(It(1));return n(jl)(r,t)}if(typeof r!="function")throw new Error(It(2));var i=r,a=t,o=[],c=o,l=!1;function d(){c===o&&(c=o.slice())}function u(){if(l)throw new Error(It(3));return a}function h(b){if(typeof b!="function")throw new Error(It(4));if(l)throw new Error(It(5));var y=!0;return d(),c.push(b),function(){if(y){if(l)throw new Error(It(6));y=!1,d();var x=c.indexOf(b);c.splice(x,1),o=null}}}function m(b){if(!Wm(b))throw new Error(It(7));if(typeof b.type>"u")throw new Error(It(8));if(l)throw new Error(It(9));try{l=!0,a=i(a,b)}finally{l=!1}for(var y=o=c,w=0;w<y.length;w++){var x=y[w];x()}return b}function f(b){if(typeof b!="function")throw new Error(It(10));i=b,m({type:Vo.REPLACE})}function p(){var b,y=h;return b={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(It(11));function k(){x.next&&x.next(u())}k();var v=y(k);return{unsubscribe:v}}},b[Ho]=function(){return this},b}return m({type:Vo.INIT}),s={dispatch:m,subscribe:h,getState:u,replaceReducer:f},s[Ho]=p,s}function _e(r,t,...n){if(Vm()&&t===void 0)throw new Error("invariant requires an error message argument");if(!r){let s;if(t===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;s=new Error(t.replace(/%s/g,function(){return n[i++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function Vm(){return typeof process<"u"&&!0}function Gm(r,t,n){return t.split(".").reduce((s,i)=>s&&s[i]?s[i]:n||null,r)}function Qm(r,t){return r.filter(n=>n!==t)}function zl(r){return typeof r=="object"}function Km(r,t){const n=new Map,s=a=>{n.set(a,n.has(a)?n.get(a)+1:1)};r.forEach(s),t.forEach(s);const i=[];return n.forEach((a,o)=>{a===1&&i.push(o)}),i}function Ym(r,t){return r.filter(n=>t.indexOf(n)>-1)}const Aa="dnd-core/INIT_COORDS",Es="dnd-core/BEGIN_DRAG",Oa="dnd-core/PUBLISH_DRAG_SOURCE",As="dnd-core/HOVER",Os="dnd-core/DROP",Ds="dnd-core/END_DRAG";function Go(r,t){return{type:Aa,payload:{sourceClientOffset:t||null,clientOffset:r||null}}}const Jm={type:Aa,payload:{clientOffset:null,sourceClientOffset:null}};function Xm(r){return function(n=[],s={publishSource:!0}){const{publishSource:i=!0,clientOffset:a,getSourceClientOffset:o}=s,c=r.getMonitor(),l=r.getRegistry();r.dispatch(Go(a)),Zm(n,c,l);const d=np(n,c);if(d==null){r.dispatch(Jm);return}let u=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");ep(o),u=o(d)}r.dispatch(Go(a,u));const m=l.getSource(d).beginDrag(c,d);if(m==null)return;tp(m),l.pinSource(d);const f=l.getSourceType(d);return{type:Es,payload:{itemType:f,item:m,sourceId:d,clientOffset:a||null,sourceClientOffset:u||null,isSourcePublic:!!i}}}}function Zm(r,t,n){_e(!t.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(s){_e(n.getSource(s),"Expected sourceIds to be registered.")})}function ep(r){_e(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function tp(r){_e(zl(r),"Item must be an object.")}function np(r,t){let n=null;for(let s=r.length-1;s>=0;s--)if(t.canDragSource(r[s])){n=r[s];break}return n}function rp(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function sp(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),s.forEach(function(i){rp(r,i,n[i])})}return r}function ip(r){return function(n={}){const s=r.getMonitor(),i=r.getRegistry();ap(s),lp(s).forEach((o,c)=>{const l=op(o,c,i,s),d={type:Os,payload:{dropResult:sp({},n,l)}};r.dispatch(d)})}}function ap(r){_e(r.isDragging(),"Cannot call drop while not dragging."),_e(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function op(r,t,n,s){const i=n.getTarget(r);let a=i?i.drop(s,r):void 0;return cp(a),typeof a>"u"&&(a=t===0?{}:s.getDropResult()),a}function cp(r){_e(typeof r>"u"||zl(r),"Drop result must either be an object or undefined.")}function lp(r){const t=r.getTargetIds().filter(r.canDropOnTarget,r);return t.reverse(),t}function dp(r){return function(){const n=r.getMonitor(),s=r.getRegistry();up(n);const i=n.getSourceId();return i!=null&&(s.getSource(i,!0).endDrag(n,i),s.unpinSource()),{type:Ds}}}function up(r){_e(r.isDragging(),"Cannot call endDrag while not dragging.")}function Hi(r,t){return t===null?r===null:Array.isArray(r)?r.some(n=>n===t):r===t}function hp(r){return function(n,{clientOffset:s}={}){fp(n);const i=n.slice(0),a=r.getMonitor(),o=r.getRegistry(),c=a.getItemType();return pp(i,o,c),mp(i,a,o),gp(i,a,o),{type:As,payload:{targetIds:i,clientOffset:s||null}}}}function fp(r){_e(Array.isArray(r),"Expected targetIds to be an array.")}function mp(r,t,n){_e(t.isDragging(),"Cannot call hover while not dragging."),_e(!t.didDrop(),"Cannot call hover after drop.");for(let s=0;s<r.length;s++){const i=r[s];_e(r.lastIndexOf(i)===s,"Expected targetIds to be unique in the passed array.");const a=n.getTarget(i);_e(a,"Expected targetIds to be registered.")}}function pp(r,t,n){for(let s=r.length-1;s>=0;s--){const i=r[s],a=t.getTargetType(i);Hi(a,n)||r.splice(s,1)}}function gp(r,t,n){r.forEach(function(s){n.getTarget(s).hover(t,s)})}function bp(r){return function(){if(r.getMonitor().isDragging())return{type:Oa}}}function vp(r){return{beginDrag:Xm(r),publishDragSource:bp(r),hover:hp(r),drop:ip(r),endDrag:dp(r)}}class yp{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function s(a){return(...o)=>{const c=a.apply(t,o);typeof c<"u"&&n(c)}}const i=vp(this);return Object.keys(i).reduce((a,o)=>{const c=i[o];return a[o]=s(c),a},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function wp(r,t){return{x:r.x+t.x,y:r.y+t.y}}function Fl(r,t){return{x:r.x-t.x,y:r.y-t.y}}function _p(r){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:s}=r;return!t||!n||!s?null:Fl(wp(t,s),n)}function xp(r){const{clientOffset:t,initialClientOffset:n}=r;return!t||!n?null:Fl(t,n)}const kr=[],Da=[];kr.__IS_NONE__=!0;Da.__IS_ALL__=!0;function Cp(r,t){return r===kr?!1:r===Da||typeof t>"u"?!0:Ym(t,r).length>0}class Np{subscribeToStateChange(t,n={}){const{handlerIds:s}=n;_e(typeof t=="function","listener must be a function."),_e(typeof s>"u"||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const a=()=>{const o=this.store.getState(),c=o.stateId;try{c===i||c===i+1&&!Cp(o.dirtyHandlerIds,s)||t()}finally{i=c}};return this.store.subscribe(a)}subscribeToOffsetChange(t){_e(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const s=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,t())};return this.store.subscribe(s)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return _e(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(_e(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();return Hi(s,i)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(_e(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const s=this.registry.getSourceType(t),i=this.getItemType();return s!==i?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:s}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),a=this.getItemType();if(a&&!Hi(i,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const c=o.indexOf(t);return s?c===o.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return _p(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return xp(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const Qo=typeof global<"u"?global:self,Bl=Qo.MutationObserver||Qo.WebKitMutationObserver;function Ul(r){return function(){const n=setTimeout(i,0),s=setInterval(i,50);function i(){clearTimeout(n),clearInterval(s),r()}}}function kp(r){let t=1;const n=new Bl(r),s=document.createTextNode("");return n.observe(s,{characterData:!0}),function(){t=-t,s.data=t}}const Sp=typeof Bl=="function"?kp:Ul;class Tp{enqueueTask(t){const{queue:n,requestFlush:s}=this;n.length||(s(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let s=0,i=t.length-this.index;s<i;s++)t[s]=t[s+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Sp(this.flush),this.requestErrorThrow=Ul(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ep{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class Ap{create(t){const n=this.freeTasks,s=n.length?n.pop():new Ep(this.onError,i=>n[n.length]=i);return s.task=t,s}constructor(t){this.onError=t,this.freeTasks=[]}}const $l=new Tp,Op=new Ap($l.registerPendingError);function Dp(r){$l.enqueueTask(Op.create(r))}const La="dnd-core/ADD_SOURCE",Ma="dnd-core/ADD_TARGET",Pa="dnd-core/REMOVE_SOURCE",Ls="dnd-core/REMOVE_TARGET";function Lp(r){return{type:La,payload:{sourceId:r}}}function Mp(r){return{type:Ma,payload:{targetId:r}}}function Pp(r){return{type:Pa,payload:{sourceId:r}}}function Ip(r){return{type:Ls,payload:{targetId:r}}}function Rp(r){_e(typeof r.canDrag=="function","Expected canDrag to be a function."),_e(typeof r.beginDrag=="function","Expected beginDrag to be a function."),_e(typeof r.endDrag=="function","Expected endDrag to be a function.")}function jp(r){_e(typeof r.canDrop=="function","Expected canDrop to be a function."),_e(typeof r.hover=="function","Expected hover to be a function."),_e(typeof r.drop=="function","Expected beginDrag to be a function.")}function Wi(r,t){if(t&&Array.isArray(r)){r.forEach(n=>Wi(n,!1));return}_e(typeof r=="string"||typeof r=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var jt;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(jt||(jt={}));let zp=0;function Fp(){return zp++}function Bp(r){const t=Fp().toString();switch(r){case jt.SOURCE:return`S${t}`;case jt.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function Ko(r){switch(r[0]){case"S":return jt.SOURCE;case"T":return jt.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function Yo(r,t){const n=r.entries();let s=!1;do{const{done:i,value:[,a]}=n.next();if(a===t)return!0;s=!!i}while(!s);return!1}class Up{addSource(t,n){Wi(t),Rp(n);const s=this.addHandler(jt.SOURCE,t,n);return this.store.dispatch(Lp(s)),s}addTarget(t,n){Wi(t,!0),jp(n);const s=this.addHandler(jt.TARGET,t,n);return this.store.dispatch(Mp(s)),s}containsHandler(t){return Yo(this.dragSources,t)||Yo(this.dropTargets,t)}getSource(t,n=!1){return _e(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return _e(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return _e(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return _e(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Ko(t)===jt.SOURCE}isTargetId(t){return Ko(t)===jt.TARGET}removeSource(t){_e(this.getSource(t),"Expected an existing source."),this.store.dispatch(Pp(t)),Dp(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){_e(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Ip(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);_e(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){_e(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,s){const i=Bp(t);return this.types.set(i,n),t===jt.SOURCE?this.dragSources.set(i,s):t===jt.TARGET&&this.dropTargets.set(i,s),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const $p=(r,t)=>r===t;function qp(r,t){return!r&&!t?!0:!r||!t?!1:r.x===t.x&&r.y===t.y}function Hp(r,t,n=$p){if(r.length!==t.length)return!1;for(let s=0;s<r.length;++s)if(!n(r[s],t[s]))return!1;return!0}function Wp(r=kr,t){switch(t.type){case As:break;case La:case Ma:case Ls:case Pa:return kr;case Es:case Oa:case Ds:case Os:default:return Da}const{targetIds:n=[],prevTargetIds:s=[]}=t.payload,i=Km(n,s);if(!(i.length>0||!Hp(n,s)))return kr;const o=s[s.length-1],c=n[n.length-1];return o!==c&&(o&&i.push(o),c&&i.push(c)),i}function Vp(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Gp(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),s.forEach(function(i){Vp(r,i,n[i])})}return r}const Jo={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Qp(r=Jo,t){const{payload:n}=t;switch(t.type){case Aa:case Es:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case As:return qp(r.clientOffset,n.clientOffset)?r:Gp({},r,{clientOffset:n.clientOffset});case Ds:case Os:return Jo;default:return r}}function Kp(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Fn(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),s.forEach(function(i){Kp(r,i,n[i])})}return r}const Yp={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Jp(r=Yp,t){const{payload:n}=t;switch(t.type){case Es:return Fn({},r,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Oa:return Fn({},r,{isSourcePublic:!0});case As:return Fn({},r,{targetIds:n.targetIds});case Ls:return r.targetIds.indexOf(n.targetId)===-1?r:Fn({},r,{targetIds:Qm(r.targetIds,n.targetId)});case Os:return Fn({},r,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ds:return Fn({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function Xp(r=0,t){switch(t.type){case La:case Ma:return r+1;case Pa:case Ls:return r-1;default:return r}}function Zp(r=0){return r+1}function eg(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function tg(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),s.forEach(function(i){eg(r,i,n[i])})}return r}function ng(r={},t){return{dirtyHandlerIds:Wp(r.dirtyHandlerIds,{type:t.type,payload:tg({},t.payload,{prevTargetIds:Gm(r,"dragOperation.targetIds",[])})}),dragOffset:Qp(r.dragOffset,t),refCount:Xp(r.refCount,t),dragOperation:Jp(r.dragOperation,t),stateId:Zp(r.stateId)}}function rg(r,t=void 0,n={},s=!1){const i=sg(s),a=new Np(i,new Up(i)),o=new yp(i,a),c=r(o,t,n);return o.receiveBackend(c),o}function sg(r){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return jl(ng,r&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function ig(r,t){if(r==null)return{};var n=ag(r,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function ag(r,t){if(r==null)return{};var n={},s=Object.keys(r),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=r[i]);return n}let Xo=0;const ds=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var og=ha(function(t){var{children:n}=t,s=ig(t,["children"]);const[i,a]=cg(s);return ee(()=>{if(a){const o=ql();return++Xo,()=>{--Xo===0&&(o[ds]=null)}}},[]),e(Rl.Provider,{value:i,children:n})});function cg(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const t=lg(r.backend,r.context,r.options,r.debugMode),n=!r.context;return[t,n]}function lg(r,t=ql(),n,s){const i=t;return i[ds]||(i[ds]={dragDropManager:rg(r,t,n,s)}),i[ds]}function ql(){return typeof global<"u"?global:window}var dg=function r(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,i,a;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(i=s;i--!==0;)if(!r(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=s;i--!==0;){var o=a[i];if(!r(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const On=typeof window<"u"?rn:ee;function Hl(r,t,n){const[s,i]=g(()=>t(r)),a=Rn(()=>{const o=t(r);dg(s,o)||(i(o),n&&n())},[s,r,n]);return On(a),[s,a]}function ug(r,t,n){const[s,i]=Hl(r,t,n);return On(function(){const o=r.getHandlerId();if(o!=null)return r.subscribeToStateChange(i,{handlerIds:[o]})},[r,i]),s}function Wl(r,t,n){return ug(t,r||(()=>({})),()=>n.reconnect())}function Vl(r,t){const n=[...t||[]];return t==null&&typeof r!="function"&&n.push(r),Be(()=>typeof r=="function"?r():r,n)}function hg(r){return Be(()=>r.hooks.dragSource(),[r])}function fg(r){return Be(()=>r.hooks.dragPreview(),[r])}let ri=!1,si=!1;class mg{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){_e(!ri,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ri=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ri=!1}}isDragging(){if(!this.sourceId)return!1;_e(!si,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return si=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{si=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let ii=!1;class pg{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;_e(!ii,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ii=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ii=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function gg(r,t,n){const s=n.getRegistry(),i=s.addTarget(r,t);return[i,()=>s.removeTarget(i)]}function bg(r,t,n){const s=n.getRegistry(),i=s.addSource(r,t);return[i,()=>s.removeSource(i)]}function Vi(r,t,n,s){let i;if(i!==void 0)return!!i;if(r===t)return!0;if(typeof r!="object"||!r||typeof t!="object"||!t)return!1;const a=Object.keys(r),o=Object.keys(t);if(a.length!==o.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<a.length;l++){const d=a[l];if(!c(d))return!1;const u=r[d],h=t[d];if(i=void 0,i===!1||i===void 0&&u!==h)return!1}return!0}function Gi(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function vg(r){if(typeof r.type=="string")return;const t=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function yg(r){return(t=null,n=null)=>{if(!Yn(t)){const a=t;return r(a,n),a}const s=t;return vg(s),wg(s,n?a=>r(a,n):r)}}function Gl(r){const t={};return Object.keys(r).forEach(n=>{const s=r[n];if(n.endsWith("Ref"))t[n]=r[n];else{const i=yg(s);t[n]=()=>i}}),t}function Zo(r,t){typeof r=="function"?r(t):r.current=t}function wg(r,t){const n=r.ref;return _e(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?gs(r,{ref:s=>{Zo(n,s),Zo(t,s)}}):gs(r,{ref:t})}class _g{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,s=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(s&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Vi(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Vi(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Gl({dragSource:(n,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,Gi(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,Gi(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class xg{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Vi(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Gl({dropTarget:(n,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,Gi(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function jn(){const{dragDropManager:r}=sn(Rl);return _e(r!=null,"Expected drag drop context"),r}function Cg(r,t){const n=jn(),s=Be(()=>new _g(n.getBackend()),[n]);return On(()=>(s.dragSourceOptions=r||null,s.reconnect(),()=>s.disconnectDragSource()),[s,r]),On(()=>(s.dragPreviewOptions=t||null,s.reconnect(),()=>s.disconnectDragPreview()),[s,t]),s}function Ng(){const r=jn();return Be(()=>new mg(r),[r])}class kg{beginDrag(){const t=this.spec,n=this.monitor;let s=null;return typeof t.item=="object"?s=t.item:typeof t.item=="function"?s=t.item(n):s={},s??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const s=this.spec,i=this.monitor,{isDragging:a}=s;return a?a(i):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,s=this.connector,{end:i}=t;i&&i(n.getItem(),n),s.reconnect()}constructor(t,n,s){this.spec=t,this.monitor=n,this.connector=s}}function Sg(r,t,n){const s=Be(()=>new kg(r,t,n),[t,n]);return ee(()=>{s.spec=r},[r]),s}function Tg(r){return Be(()=>{const t=r.type;return _e(t!=null,"spec.type must be defined"),t},[r])}function Eg(r,t,n){const s=jn(),i=Sg(r,t,n),a=Tg(r);On(function(){if(a!=null){const[c,l]=bg(a,i,s);return t.receiveHandlerId(c),n.receiveHandlerId(c),l}},[s,t,n,i,a])}function Ag(r,t){const n=Vl(r,t);_e(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=Ng(),i=Cg(n.options,n.previewOptions);return Eg(n,s,i),[Wl(n.collect,s,i),hg(i),fg(i)]}function Og(r){const n=jn().getMonitor(),[s,i]=Hl(n,r);return ee(()=>n.subscribeToOffsetChange(i)),ee(()=>n.subscribeToStateChange(i)),s}function Dg(r){return Be(()=>r.hooks.dropTarget(),[r])}function Lg(r){const t=jn(),n=Be(()=>new xg(t.getBackend()),[t]);return On(()=>(n.dropTargetOptions=r||null,n.reconnect(),()=>n.disconnectDropTarget()),[r]),n}function Mg(){const r=jn();return Be(()=>new pg(r),[r])}function Pg(r){const{accept:t}=r;return Be(()=>(_e(r.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class Ig{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function Rg(r,t){const n=Be(()=>new Ig(r,t),[t]);return ee(()=>{n.spec=r},[r]),n}function jg(r,t,n){const s=jn(),i=Rg(r,t),a=Pg(r);On(function(){const[c,l]=gg(a,i,s);return t.receiveHandlerId(c),n.receiveHandlerId(c),l},[s,t,i,n,a.map(o=>o.toString()).join("|")])}function zg(r,t){const n=Vl(r,t),s=Mg(),i=Lg(n.options);return jg(n,s,i),[Wl(n.collect,s,i),Dg(i)]}function Ql(r){let t=null;return()=>(t==null&&(t=r()),t)}function Fg(r,t){return r.filter(n=>n!==t)}function Bg(r,t){const n=new Set,s=a=>n.add(a);r.forEach(s),t.forEach(s);const i=[];return n.forEach(a=>i.push(a)),i}class Ug{enter(t){const n=this.entered.length,s=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=Bg(this.entered.filter(s),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=Fg(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class $g{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(s=>{const i=this.config.exposeProperties[s];i!=null&&(n[s]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Kl="__NATIVE_FILE__",Yl="__NATIVE_URL__",Jl="__NATIVE_TEXT__",Xl="__NATIVE_HTML__";var ec=Object.freeze({__proto__:null,FILE:Kl,HTML:Xl,TEXT:Jl,URL:Yl});function ai(r,t,n){const s=t.reduce((i,a)=>i||r.getData(a),"");return s??n}const Qi={[Kl]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[Xl]:{exposeProperties:{html:(r,t)=>ai(r,t,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[Yl]:{exposeProperties:{urls:(r,t)=>ai(r,t,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[Jl]:{exposeProperties:{text:(r,t)=>ai(r,t,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function qg(r,t){const n=Qi[r];if(!n)throw new Error(`native type ${r} has no configuration`);const s=new $g(n);return s.loadDataTransfer(t),s}function oi(r){if(!r)return null;const t=Array.prototype.slice.call(r.types||[]);return Object.keys(Qi).filter(n=>{const s=Qi[n];return s?.matchesTypes?s.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const Hg=Ql(()=>/firefox/i.test(navigator.userAgent)),Zl=Ql(()=>!!window.safari);class tc{interpolate(t){const{xs:n,ys:s,c1s:i,c2s:a,c3s:o}=this;let c=n.length-1;if(t===n[c])return s[c];let l=0,d=o.length-1,u;for(;l<=d;){u=Math.floor(.5*(l+d));const f=n[u];if(f<t)l=u+1;else if(f>t)d=u-1;else return s[u]}c=Math.max(0,d);const h=t-n[c],m=h*h;return s[c]+i[c]*h+a[c]*m+o[c]*h*m}constructor(t,n){const{length:s}=t,i=[];for(let f=0;f<s;f++)i.push(f);i.sort((f,p)=>t[f]<t[p]?-1:1);const a=[],o=[];let c,l;for(let f=0;f<s-1;f++)c=t[f+1]-t[f],l=n[f+1]-n[f],a.push(c),o.push(l/c);const d=[o[0]];for(let f=0;f<a.length-1;f++){const p=o[f],b=o[f+1];if(p*b<=0)d.push(0);else{c=a[f];const y=a[f+1],w=c+y;d.push(3*w/((w+y)/p+(w+c)/b))}}d.push(o[o.length-1]);const u=[],h=[];let m;for(let f=0;f<d.length-1;f++){m=o[f];const p=d[f],b=1/a[f],y=p+d[f+1]-m-m;u.push((m-p-y)*b),h.push(y*b*b)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=u,this.c3s=h}}const Wg=1;function ed(r){const t=r.nodeType===Wg?r:r.parentElement;if(!t)return null;const{top:n,left:s}=t.getBoundingClientRect();return{x:s,y:n}}function Jr(r){return{x:r.clientX,y:r.clientY}}function Vg(r){var t;return r.nodeName==="IMG"&&(Hg()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(r)))}function Gg(r,t,n,s){let i=r?t.width:n,a=r?t.height:s;return Zl()&&r&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function Qg(r,t,n,s,i){const a=Vg(t),c=ed(a?r:t),l={x:n.x-c.x,y:n.y-c.y},{offsetWidth:d,offsetHeight:u}=r,{anchorX:h,anchorY:m}=s,{dragPreviewWidth:f,dragPreviewHeight:p}=Gg(a,t,d,u),b=()=>{let I=new tc([0,.5,1],[l.y,l.y/u*p,l.y+p-u]).interpolate(m);return Zl()&&a&&(I+=(window.devicePixelRatio-1)*p),I},y=()=>new tc([0,.5,1],[l.x,l.x/d*f,l.x+f-d]).interpolate(h),{offsetX:w,offsetY:x}=i,k=w===0||w,v=x===0||x;return{x:k?w:y(),y:v?x:b()}}let Kg=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}};function Yg(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function nc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),s.forEach(function(i){Yg(r,i,n[i])})}return r}class Jg{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,s){return this.sourcePreviewNodeOptions.set(t,s),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,s){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,s);const i=o=>this.handleDragStart(o,t),a=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",a),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const s=o=>this.handleDragEnter(o,t),i=o=>this.handleDragOver(o,t),a=o=>this.handleDrop(o,t);return n.addEventListener("dragenter",s),n.addEventListener("dragover",i),n.addEventListener("drop",a),()=>{n.removeEventListener("dragenter",s),n.removeEventListener("dragover",i),n.removeEventListener("drop",a)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return nc({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return nc({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(ec).some(n=>ec[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=qg(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var s;return(s=this.rootElement)===null||s===void 0?void 0:s.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&ed(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const o=Jr(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:c}=i,l=oi(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const u=this.monitor.getSourceId(),h=this.sourceNodes.get(u),m=this.sourcePreviewNodes.get(u)||h;if(m){const{anchorX:f,anchorY:p,offsetX:b,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),k=Qg(h,m,o,{anchorX:f,anchorY:p},{offsetX:b,offsetY:y});c.setDragImage(m,k.x,k.y)}}try{c?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(c&&!c.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:c}=i,l=oi(c);l&&this.beginDragNativeItem(l,c)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Jr(i)}),a.some(c=>this.monitor.canDropOnTarget(c))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Jr(i),this.scheduleHover(a),(a||[]).some(c=>this.monitor.canDropOnTarget(c))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;i.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}else oi(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Jr(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const a=i.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(i.preventDefault(),a.dragDrop()))},this.options=new Kg(n,s),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Ug(this.isNodeInDocument)}}let Xr;function Xg(){return Xr||(Xr=new Image,Xr.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Xr}const Zg=function(t,n,s){return new Jg(t,n,s)};function rc({isPremovedPiece:r=!1,piece:t,square:n,squares:s}){const{animationDuration:i,arePiecesDraggable:a,boardWidth:o,boardOrientation:c,chessPieces:l,currentPosition:d,deletePieceFromSquare:u,dropOffBoardAction:h,id:m,isDraggablePiece:f,isWaitingForAnimation:p,onPieceClick:b,onPieceDragBegin:y,onPieceDragEnd:w,onPieceDropOffBoard:x,onPromotionCheck:k,positionDifferences:v}=an(),[C,I]=g({opacity:1,zIndex:5,touchAction:"none",cursor:a&&f({piece:t,sourceSquare:n})?"-webkit-grab":"default"}),[{canDrag:A,isDragging:S},_,R]=Ag(()=>({type:"piece",item:()=>(y(t,n),{piece:t,square:n,id:m}),end:(j,W)=>{w(t,n),!W.didDrop()&&(h==="trash"&&u(n),x?.(n,t))},collect:j=>({canDrag:f({piece:t,sourceSquare:n}),isDragging:!!j.isDragging()})}),[t,n,d,m]);R(Xg(),{captureDraggingState:!0}),ee(()=>{I(j=>Object.assign(Object.assign({},j),{opacity:S?0:1}))},[S]),ee(()=>{var j;const W=(j=v.removed)===null||j===void 0?void 0:j[n];if(!v.added||!W)return;const Q=Object.entries(v.added).find(([te,Y])=>Y===W||k(n,te,W));if(p&&W&&Q&&!r){const te=n,Y=Q[0];if(te&&Y){const X=o/8;I(q=>Object.assign(Object.assign({},q),{transform:`translate(${(c==="black"?-1:1)*(Y.charCodeAt(0)-te.charCodeAt(0))*X}px, ${(c==="black"?-1:1)*(Number(te[1])-Number(Y[1]))*X}px)`,transition:`transform ${i}ms`,zIndex:6}))}}},[v]),ee(()=>{const{sourceSq:j}=M();j&&I(W=>Object.assign(Object.assign({},W),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[d]),ee(()=>{I(j=>Object.assign(Object.assign({},j),{cursor:a&&f({piece:t,sourceSquare:n})?"-webkit-grab":"default"}))},[n,d,a]);function M(){return{sourceSq:s[n]}}return e("div",Object.assign({ref:a&&A?_:null,onClick:()=>b(t,n),"data-piece":t,style:C},{children:typeof l[t]=="function"?l[t]({squareWidth:o/8,isDragging:S,square:n}):e("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:e("g",{children:l[t]})}))}))}function e1({square:r,squareColor:t,setSquares:n,squareHasPremove:s,children:i}){const a=Ye(null),{autoPromoteToQueen:o,boardWidth:c,boardOrientation:l,clearArrows:d,currentPosition:u,currentRightClickDown:h,customBoardStyle:m,customDarkSquareStyle:f,customDropSquareStyle:p,customLightSquareStyle:b,customPremoveDarkSquareStyle:y,customPremoveLightSquareStyle:w,customSquare:x,customSquareStyles:k,drawNewArrow:v,handleSetPosition:C,handleSparePieceDrop:I,isWaitingForAnimation:A,lastPieceColour:S,lastSquareDraggedOver:_,onArrowDrawEnd:R,onDragOverSquare:M,onMouseOutSquare:j,onMouseOverSquare:W,onPieceDrop:Q,onPromotionCheck:te,onRightClickDown:Y,onRightClickUp:X,onSquareClick:q,setLastSquareDraggedOver:oe,setPromoteFromSquare:F,setPromoteToSquare:J,setShowPromoteDialog:ue}=an(),[{isOver:se},xe]=zg(()=>({accept:"piece",drop:ce,collect:B=>({isOver:!!B.isOver()})}),[r,u,Q,A,S]);function ce(B){if(B.isSpare){I(B.piece,r);return}te(B.square,r,B.piece)?o?C(B.square,r,B.piece[0]==="w"?"wQ":"bQ"):(F(B.square),J(r),ue(!0)):C(B.square,r,B.piece,!0)}ee(()=>{if(a.current){const{x:B,y:E}=a.current.getBoundingClientRect();n(K=>Object.assign(Object.assign({},K),{[r]:{x:B,y:E}}))}},[c,l]);const U=Object.assign(Object.assign(Object.assign(Object.assign({},t1(r,l,m)),t==="black"?f:b),s&&(t==="black"?y:w)),se&&p);return e("div",Object.assign({ref:xe,style:U,"data-square-color":t,"data-square":r,onTouchMove:B=>{var E;const K=B.touches[0],be=document.elementsFromPoint(K.clientX,K.clientY),ye=(E=be?.find(Pe=>Pe.getAttribute("data-square")))===null||E===void 0?void 0:E.getAttribute("data-square");ye&&ye!==_&&(oe(ye),M(ye))},onMouseOver:B=>{B.buttons===2&&h&&v(h,r),!(B.relatedTarget&&B.currentTarget.contains(B.relatedTarget))&&W(r)},onMouseOut:B=>{B.relatedTarget&&B.currentTarget.contains(B.relatedTarget)||j(r)},onMouseDown:B=>{B.button===2&&Y(r)},onMouseUp:B=>{B.button===2&&(h&&R(h,r),X(r))},onDragEnter:()=>M(r),onClick:()=>{const B=u[r];q(r,B),d()},onContextMenu:B=>{B.preventDefault()}},{children:typeof x=="string"?e(x,Object.assign({ref:a,style:Object.assign(Object.assign(Object.assign({},ic(c)),sc),!s&&k?.[r])},{children:i})):e(x,Object.assign({ref:a,square:r,squareColor:t,style:Object.assign(Object.assign(Object.assign({},ic(c)),sc),!s&&k?.[r])},{children:i}))}))}const sc={display:"flex",justifyContent:"center"},ic=r=>({width:r/8,height:r/8}),t1=(r,t,n)=>n?.borderRadius?r==="a1"?t==="white"?{borderBottomLeftRadius:n.borderRadius}:{borderTopRightRadius:n.borderRadius}:r==="a8"?t==="white"?{borderTopLeftRadius:n.borderRadius}:{borderBottomRightRadius:n.borderRadius}:r==="h1"?t==="white"?{borderBottomRightRadius:n.borderRadius}:{borderTopLeftRadius:n.borderRadius}:r==="h8"?t==="white"?{borderTopRightRadius:n.borderRadius}:{borderBottomLeftRadius:n.borderRadius}:{}:{};function n1(){const[r,t]=g({}),{arePremovesAllowed:n,boardOrientation:s,boardWidth:i,currentPosition:a,id:o,premoves:c,showBoardNotation:l}=an(),d=Be(()=>{const u=[];return n?(c.forEach((h,m)=>{const{sourceSq:f,targetSq:p,piece:b}=h,y=u.find(w=>{var x;return w.piece===b&&((x=w.premovesRoute.at(-1))===null||x===void 0?void 0:x.targetSq)===f});y?y.premovesRoute.push({sourceSq:f,targetSq:p,index:m}):u.push({piece:b,premovesRoute:[{sourceSq:f,targetSq:p,index:m}]})}),u):[]},[c]);return e("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((u,h)=>e("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:i}},{children:[...Array(8)].map((m,f)=>{const p=s==="black"?Or[7-f]+(h+1):Or[f]+(8-h),b=f%2===h%2?"white":"black",y=c.find(x=>x.sourceSq===p||x.targetSq===p),w=d.filter(({premovesRoute:x})=>{var k;return((k=x.at(-1))===null||k===void 0?void 0:k.targetSq)===p}).sort((x,k)=>{var v,C;return((v=k.premovesRoute.at(-1))===null||v===void 0?void 0:v.index)-((C=x.premovesRoute.at(-1))===null||C===void 0?void 0:C.index)}).at(0);return e(e1,Object.assign({square:p,squareColor:b,setSquares:t,squareHasPremove:!!y},{children:[!y&&a[p]&&e(rc,{piece:a[p],square:p,squares:r}),w&&e(rc,{isPremovedPiece:!0,piece:w.piece,square:p,squares:r}),l&&e(Hm,{row:h,col:f})]}),`${f}${h}`)})}),h.toString()))}))}const r1=()=>{const{arrows:r,newArrow:t,boardOrientation:n,boardWidth:s,customArrowColor:i}=an(),a=[...r,t].filter(Boolean);return e("svg",Object.assign({width:s,height:s,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:a.map((o,c)=>{const[l,d,u]=o;if(l===d)return null;const h=qi(n,s,l),m=qi(n,s,d);let f=s/32;const p=c===r.length;r.some(k=>k[0]!==l&&k[1]===d)&&!p&&(f=s/16);const b=m.x-h.x,y=m.y-h.y,w=Math.hypot(y,b),x={x:h.x+b*(w-f)/w,y:h.y+y*(w-f)/w};return e(G,{children:[e("marker",Object.assign({id:`arrowhead-${c}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:e("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:u??i})})),e("line",{x1:h.x,y1:h.y,x2:x.x,y2:x.y,opacity:p?"0.5":"0.65",stroke:u??i,strokeWidth:p?.9*s/40:s/40,markerEnd:`url(#arrowhead-${c})`})]},`${l}-${d}${p?"-active":""}`)})}))};function s1({option:r}){const[t,n]=g(!1),{boardWidth:s,chessPieces:i,customDarkSquareStyle:a,customLightSquareStyle:o,handleSetPosition:c,onPromotionPieceSelect:l,promoteFromSquare:d,promoteToSquare:u,promotionDialogVariant:h}=an(),m=()=>{switch(r[1]){case"Q":return a.backgroundColor;case"R":return o.backgroundColor;case"N":return h==="default"?o.backgroundColor:a.backgroundColor;case"B":return h==="default"?a.backgroundColor:o.backgroundColor}};return e("div",Object.assign({onClick:()=>{l(r,d??void 0,u??void 0)&&c(d,u,r,!0)},onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),"data-piece":r,style:{cursor:"pointer",backgroundColor:t?m():`${m()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof i[r]=="function"?e("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:t?"scale(1)":"scale(0.85)"}},{children:i[r]({squareWidth:s/8,isDragging:!1})})):e("svg",Object.assign({viewBox:"1 1 43 43",width:s/8,height:s/8,style:{transition:"all 0.1s ease-out",transform:t?"scale(1)":"scale(0.85)"}},{children:e("g",{children:i[r]})}))}))}function i1(){const{boardOrientation:r,boardWidth:t,promotionDialogVariant:n,promoteToSquare:s}=an(),i=s?.[1]==="1"?"b":"w",a=[`${i??"w"}Q`,`${i??"w"}R`,`${i??"w"}N`,`${i??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-t/8}px, ${-t/8}px)`},vertical:{transform:`translate(${-t/16}px, ${-t/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*t/8}px)`,width:"100%",height:`${t/4}px`,top:0,backgroundColor:"white",left:0}},c=qi(r,t,s||"a8");return e("div",Object.assign({style:Object.assign({position:"absolute",top:`${c?.y}px`,left:`${c?.x}px`,zIndex:1e3},o[n]),title:"Choose promotion piece"},{children:a.map(l=>e(s1,{option:l},l))}))}const a1={whiteKing:e("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:e("g",{children:e("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function o1({children:r}){try{return e(G,{children:r})}catch(t){return console.log(t),e(td,{showError:!0})}}function td({showError:r=!1}){return e("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[e("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:a1.whiteKing})),r&&e("h1",{children:"Something went wrong"})]}))}function c1(){const r=Ye(null),{boardWidth:t,clearCurrentRightClickDown:n,onPromotionPieceSelect:s,setShowPromoteDialog:i,showPromoteDialog:a,customBoardStyle:o}=an();return ee(()=>{function c(l){r.current&&!r.current.contains(l.target)&&n()}return document.addEventListener("mouseup",c),()=>{document.removeEventListener("mouseup",c)}},[]),t?e("div",Object.assign({style:{perspective:"1000px"}},{children:e("div",Object.assign({ref:r,style:Object.assign(Object.assign({position:"relative"},l1(t)),o)},{children:[e(n1,{}),e(r1,{}),a&&e(G,{children:[e("div",{onClick:()=>{i(!1),s?.()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:t,height:t}}),e(i1,{})]})]}))})):e(td,{})}const l1=r=>({cursor:"default",height:r,width:r});var mn;(function(r){r.mouse="mouse",r.touch="touch",r.keyboard="keyboard"})(mn||(mn={}));class d1{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,n,s,i;return(i=(s=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&s!==void 0?s:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var t,n,s,i;return(i=(s=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&s!==void 0?s:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,n){this.args=t,this.context=n}}function u1(r,t,n,s){return Math.sqrt(Math.pow(Math.abs(n-r),2)+Math.pow(Math.abs(s-t),2))}function h1(r,t,n,s,i){if(!i)return!1;const a=Math.atan2(s-t,n-r)*180/Math.PI+180;for(let o=0;o<i.length;++o){const c=i[o];if(c&&(c.start==null||a>=c.start)&&(c.end==null||a<=c.end))return!0}return!1}const f1={Left:1},m1={Left:0};function ci(r){return r.button===void 0||r.button===m1.Left}function p1(r){return r.buttons===void 0||(r.buttons&f1.Left)===0}function nd(r){return!!r.targetTouches}const g1=1;function b1(r){const t=r.nodeType===g1?r:r.parentElement;if(!t)return;const{top:n,left:s}=t.getBoundingClientRect();return{x:s,y:n}}function v1(r,t){if(r.targetTouches.length===1)return xs(r.targetTouches[0]);if(t&&r.touches.length===1&&r.touches[0].target===t.target)return xs(r.touches[0])}function xs(r,t){return nd(r)?v1(r,t):{x:r.clientX,y:r.clientY}}const ac=(()=>{let r=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return r=!0,!0}}))}catch{}return r})(),pr={[mn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[mn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[mn.keyboard]:{keydown:"keydown"}};class Sr{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(_e(!Sr.isSetUp,"Cannot have two Touch backends at the same time."),Sr.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(Sr.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,n,s,i=!1){const a=ac?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const c=pr[o][n];c&&t.addEventListener(c,s,a)})}removeEventListener(t,n,s,i=!1){const a=ac?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const c=pr[o][n];c&&t.removeEventListener(c,s,a)})}connectDragSource(t,n){const s=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,n),this.addEventListener(n,"start",s),()=>{this.sourceNodes.delete(t),this.removeEventListener(n,"start",s)}}connectDragPreview(t,n,s){return this.sourcePreviewNodeOptions.set(t,s),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,n){const s=this.options.rootElement;if(!this.document||!s)return()=>{};const i=a=>{if(!this.document||!s||!this.monitor.isDragging())return;let o;switch(a.type){case pr.mouse.move:o={x:a.clientX,y:a.clientY};break;case pr.touch.move:var c,l;o={x:((c=a.touches[0])===null||c===void 0?void 0:c.clientX)||0,y:((l=a.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const d=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,u=d&&n.contains(d);if(d===n||u)return this.handleMove(a,t)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(t,n),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,n,s){this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&b1(a)},this.handleTopMoveStartCapture=i=>{ci(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!ci(i))return;const a=xs(i);a&&(nd(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!ci(i))return;const a=i.type===pr.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:o}=this,c=this.options.enableHoverOutsideTarget,l=xs(i,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&h1(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&u1(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const d=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(d),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const u=(o||[]).map(p=>this.targetNodes.get(p)).filter(p=>!!p),h=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,u):this.document.elementsFromPoint(l.x,l.y),m=[];for(const p in h){if(!h.hasOwnProperty(p))continue;let b=h[p];for(b!=null&&m.push(b);b;)b=b.parentElement,b&&m.indexOf(b)===-1&&m.push(b)}const f=m.filter(p=>u.indexOf(p)>-1).map(p=>this._getDropTargetId(p)).filter(p=>!!p).filter((p,b,y)=>y.indexOf(p)===b);if(c)for(const p in this.targetNodes){const b=this.targetNodes.get(p);if(d&&b&&b.contains(d)&&f.indexOf(p)===-1){f.unshift(p);break}}f.reverse(),this.actions.hover(f,{clientOffset:l})},this._getDropTargetId=i=>{const a=this.targetNodes.keys();let o=a.next();for(;o.done===!1;){const c=o.value;if(i===this.targetNodes.get(c))return c;o=a.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!p1(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new d1(s,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(mn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(mn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(mn.keyboard)}}const y1=function(t,n={},s={}){return new Sr(t,n,s)},w1=gn({isCustomDndProviderSet:!1}),_1=({children:r})=>e(G,{children:r}),x1=({customDndBackend:r,customDndBackendOptions:t,children:n})=>{const[s,i]=g(),[a,o]=g(!1),[c,l]=g(!1),{isCustomDndProviderSet:d}=sn(w1);ee(()=>{l("ontouchstart"in window),o(!0),i(window)},[]);const u=d?_1:og;return a?s?e(u,Object.assign({backend:r||(c?y1:Zg),context:s,options:r?t:void 0},{children:n})):e(G,{children:n}):null};function C1({boardContainer:r}){const{boardWidth:t,chessPieces:n,id:s,snapToCursor:i,allowDragOutsideBoard:a}=an(),o=Og(m=>({item:m.getItem(),clientOffset:m.getClientOffset(),sourceClientOffset:m.getSourceClientOffset(),isDragging:m.isDragging()})),{isDragging:c,item:l,clientOffset:d,sourceClientOffset:u}=o,h=Rn((m,f)=>{if(!m||!f)return{display:"none"};let{x:p,y:b}=i?m:f;const y=t/8/2;if(i&&(p-=y,b-=y),!a){const{left:x,top:k}=r,v=x-y,C=k-y,I=x+t-y,A=k+t-y;p=Math.max(v,Math.min(p,I)),b=Math.max(C,Math.min(b,A))}const w=`translate(${p}px, ${b}px)`;return{transform:w,WebkitTransform:w,touchAction:"none"}},[t,a,i,r]);return c&&l.id===s?e("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:e("div",Object.assign({style:h(d,u)},{children:typeof n[l.piece]=="function"?n[l.piece]({squareWidth:t/8,isDragging:!0}):e("svg",Object.assign({viewBox:"1 1 43 43",width:t/8,height:t/8},{children:e("g",{children:n[l.piece]})}))}))})):null}const N1=Ns((r,t)=>{const{customDndBackend:n,customDndBackendOptions:s,onBoardWidthChange:i}=r,a=Lm(r,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,c]=g(r.boardWidth),l=Ye(null),d=Ye(null),[u,h]=g({left:0,top:0}),m=Be(()=>{var f;return(f=l.current)===null||f===void 0?void 0:f.getBoundingClientRect()},[l.current]);return ee(()=>{o&&i?.(o)},[o]),ee(()=>{h({left:m?.left?m?.left:0,top:m?.top?m?.top:0})},[m]),ee(()=>{var f;if(r.boardWidth===void 0&&(!((f=l.current)===null||f===void 0)&&f.offsetWidth)){const p=new ResizeObserver(()=>{var b;c((b=l.current)===null||b===void 0?void 0:b.offsetWidth)});return p.observe(l.current),()=>{p.disconnect()}}},[l.current]),e(o1,{children:e("div",Object.assign({ref:d,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[e("div",{ref:l,style:{width:"100%"}}),e(x1,Object.assign({customDndBackend:n,customDndBackendOptions:s},{children:o&&e(qm,Object.assign({boardWidth:o},a,{ref:t},{children:[e(C1,{boardContainer:u}),e(c1,{})]}))}))]}))})});function k1(r){return r!==null?{comment:r,variations:[]}:{variations:[]}}function S1(r,t,n,s,i){const a={move:r,variations:i};return t&&(a.suffix=t),n&&(a.nag=n),s!==null&&(a.comment=s),a}function T1(...r){const[t,...n]=r;let s=t;for(const i of n)i!==null&&(s.variations=[i,...i.variations],i.variations=[],s=i);return t}function E1(r,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const s=n.variations[0];if(!s){n.comment=t.marker.comment;break}n=s}}return{headers:r,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function A1(r,t){function n(){this.constructor=r}n.prototype=t.prototype,r.prototype=new n}function Gn(r,t,n,s){var i=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Gn.prototype),i.expected=t,i.found=n,i.location=s,i.name="SyntaxError",i}A1(Gn,Error);function li(r,t,n){return n=n||" ",r.length>t?r:(t-=r.length,n+=n.repeat(t),r+n.slice(0,t))}Gn.prototype.format=function(r){var t="Error: "+this.message;if(this.location){var n=null,s;for(s=0;s<r.length;s++)if(r[s].source===this.location.source){n=r[s].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,o=this.location.source+":"+a.line+":"+a.column;if(n){var c=this.location.end,l=li("",a.line.toString().length," "),d=n[i.line-1],u=i.line===c.line?c.column:d.length+1,h=u-i.column||1;t+=`
 --> `+o+`
`+l+` |
`+a.line+" | "+d+`
`+l+" | "+li("",i.column-1," ")+li("",h,"^")}else t+=`
 at `+o}return t};Gn.buildMessage=function(r,t){var n={literal:function(d){return'"'+i(d.text)+'"'},class:function(d){var u=d.parts.map(function(h){return Array.isArray(h)?a(h[0])+"-"+a(h[1]):a(h)});return"["+(d.inverted?"^":"")+u.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function s(d){return d.charCodeAt(0).toString(16).toUpperCase()}function i(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+s(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+s(u)})}function a(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+s(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+s(u)})}function o(d){return n[d.type](d)}function c(d){var u=d.map(o),h,m;if(u.sort(),u.length>0){for(h=1,m=1;h<u.length;h++)u[h-1]!==u[h]&&(u[m]=u[h],m++);u.length=m}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function l(d){return d?'"'+i(d)+'"':"end of input"}return"Expected "+c(r)+" but "+l(t)+" found."};function O1(r,t){t=t!==void 0?t:{};var n={},s=t.grammarSource,i={pgn:sr},a=sr,o="[",c='"',l="]",d=".",u="O-O-O",h="O-O",m="0-0-0",f="0-0",p="$",b="{",y="}",w=";",x="(",k=")",v="1-0",C="0-1",I="1/2-1/2",A="*",S=/^[a-zA-Z]/,_=/^[^"]/,R=/^[0-9]/,M=/^[.]/,j=/^[a-zA-Z1-8\-=]/,W=/^[+#]/,Q=/^[!?]/,te=/^[^}]/,Y=/^[^\r\n]/,X=/^[ \t\r\n]/,q=st("tag pair"),oe=ve("[",!1),F=ve('"',!1),J=ve("]",!1),ue=st("tag name"),se=Qe([["a","z"],["A","Z"]],!1,!1),xe=st("tag value"),ce=Qe(['"'],!0,!1),U=st("move number"),B=Qe([["0","9"]],!1,!1),E=ve(".",!1),K=Qe(["."],!1,!1),be=st("standard algebraic notation"),ye=ve("O-O-O",!1),Pe=ve("O-O",!1),Oe=ve("0-0-0",!1),Xe=ve("0-0",!1),P=Qe([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Z=Qe(["+","#"],!1,!1),Ae=st("suffix annotation"),Je=Qe(["!","?"],!1,!1),Nt=st("NAG"),xt=ve("$",!1),He=st("brace comment"),he=ve("{",!1),Ce=Qe(["}"],!0,!1),Me=ve("}",!1),Ie=st("rest of line comment"),We=ve(";",!1),Ve=Qe(["\r",`
`],!0,!1),Fe=st("variation"),ne=ve("(",!1),Re=ve(")",!1),Ot=st("game termination marker"),kt=ve("1-0",!1),lt=ve("0-1",!1),pt=ve("1/2-1/2",!1),ot=ve("*",!1),Ht=st("whitespace"),on=Qe([" ","	","\r",`
`],!1,!1),vn=function(T,D){return E1(T,D)},yn=function(T){return Object.fromEntries(T)},cn=function(T,D){return[T,D]},ln=function(T,D){return{root:T,marker:D}},er=function(T,D){return T1(k1(T),...D.flat())},Xt=function(T,D,L,le,de){return S1(T,D,L,le,de)},wn=function(T){return T},tr=function(T){return T.replace(/[\r\n]+/g," ")},Ue=function(T){return T.trim()},Dt=function(T){return T},nr=function(T,D){return{result:T,comment:D}},O=t.peg$currPos|0,Lt=[{line:1,column:1}],dt=O,Ee=t.peg$maxFailExpected||[],$=t.peg$silentFails|0,De;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=i[t.startRule]}function ve(T,D){return{type:"literal",text:T,ignoreCase:D}}function Qe(T,D,L){return{type:"class",parts:T,inverted:D,ignoreCase:L}}function ut(){return{type:"end"}}function st(T){return{type:"other",description:T}}function rr(T){var D=Lt[T],L;if(D)return D;if(T>=Lt.length)L=Lt.length-1;else for(L=T;!Lt[--L];);for(D=Lt[L],D={line:D.line,column:D.column};L<T;)r.charCodeAt(L)===10?(D.line++,D.column=1):D.column++,L++;return Lt[T]=D,D}function Mt(T,D,L){var le=rr(T),de=rr(D),Le={source:s,start:{offset:T,line:le.line,column:le.column},end:{offset:D,line:de.line,column:de.column}};return Le}function ie(T){O<dt||(O>dt&&(dt=O,Ee=[]),Ee.push(T))}function jr(T,D,L){return new Gn(Gn.buildMessage(T,D),T,D,L)}function sr(){var T,D,L;return T=O,D=zr(),L=H(),T=vn(D,L),T}function zr(){var T,D,L;for(T=O,D=[],L=Fr();L!==n;)D.push(L),L=Fr();return L=gt(),T=yn(D),T}function Fr(){var T,D,L,le,de,Le,_n;return $++,T=O,gt(),r.charCodeAt(O)===91?(D=o,O++):(D=n,$===0&&ie(oe)),D!==n?(gt(),L=ae(),L!==n?(gt(),r.charCodeAt(O)===34?(le=c,O++):(le=n,$===0&&ie(F)),le!==n?(de=N(),r.charCodeAt(O)===34?(Le=c,O++):(Le=n,$===0&&ie(F)),Le!==n?(gt(),r.charCodeAt(O)===93?(_n=l,O++):(_n=n,$===0&&ie(J)),_n!==n?T=cn(L,de):(O=T,T=n)):(O=T,T=n)):(O=T,T=n)):(O=T,T=n)):(O=T,T=n),$--,T===n&&$===0&&ie(q),T}function ae(){var T,D,L;if($++,T=O,D=[],L=r.charAt(O),S.test(L)?O++:(L=n,$===0&&ie(se)),L!==n)for(;L!==n;)D.push(L),L=r.charAt(O),S.test(L)?O++:(L=n,$===0&&ie(se));else D=n;return D!==n?T=r.substring(T,O):T=D,$--,T===n&&(D=n,$===0&&ie(ue)),T}function N(){var T,D,L;for($++,T=O,D=[],L=r.charAt(O),_.test(L)?O++:(L=n,$===0&&ie(ce));L!==n;)D.push(L),L=r.charAt(O),_.test(L)?O++:(L=n,$===0&&ie(ce));return T=r.substring(T,O),$--,D=n,$===0&&ie(xe),T}function H(){var T,D,L;return T=O,D=re(),gt(),L=Br(),L===n&&(L=null),gt(),T=ln(D,L),T}function re(){var T,D,L,le;for(T=O,D=Wt(),D===n&&(D=null),L=[],le=je();le!==n;)L.push(le),le=je();return T=er(D,L),T}function je(){var T,D,L,le,de,Le,_n,Ur;if(T=O,gt(),it(),gt(),D=Ke(),D!==n){for(L=ht(),L===n&&(L=null),le=[],de=Pt();de!==n;)le.push(de),de=Pt();for(de=gt(),Le=Wt(),Le===n&&(Le=null),_n=[],Ur=ar();Ur!==n;)_n.push(Ur),Ur=ar();T=Xt(D,L,le,Le,_n)}else O=T,T=n;return T}function it(){var T,D,L,le,de,Le;for($++,T=O,D=[],L=r.charAt(O),R.test(L)?O++:(L=n,$===0&&ie(B));L!==n;)D.push(L),L=r.charAt(O),R.test(L)?O++:(L=n,$===0&&ie(B));if(r.charCodeAt(O)===46?(L=d,O++):(L=n,$===0&&ie(E)),L!==n){for(le=gt(),de=[],Le=r.charAt(O),M.test(Le)?O++:(Le=n,$===0&&ie(K));Le!==n;)de.push(Le),Le=r.charAt(O),M.test(Le)?O++:(Le=n,$===0&&ie(K));D=[D,L,le,de],T=D}else O=T,T=n;return $--,T===n&&(D=n,$===0&&ie(U)),T}function Ke(){var T,D,L,le,de,Le;if($++,T=O,D=O,r.substr(O,5)===u?(L=u,O+=5):(L=n,$===0&&ie(ye)),L===n&&(r.substr(O,3)===h?(L=h,O+=3):(L=n,$===0&&ie(Pe)),L===n&&(r.substr(O,5)===m?(L=m,O+=5):(L=n,$===0&&ie(Oe)),L===n&&(r.substr(O,3)===f?(L=f,O+=3):(L=n,$===0&&ie(Xe)),L===n))))if(L=O,le=r.charAt(O),S.test(le)?O++:(le=n,$===0&&ie(se)),le!==n){if(de=[],Le=r.charAt(O),j.test(Le)?O++:(Le=n,$===0&&ie(P)),Le!==n)for(;Le!==n;)de.push(Le),Le=r.charAt(O),j.test(Le)?O++:(Le=n,$===0&&ie(P));else de=n;de!==n?(le=[le,de],L=le):(O=L,L=n)}else O=L,L=n;return L!==n?(le=r.charAt(O),W.test(le)?O++:(le=n,$===0&&ie(Z)),le===n&&(le=null),L=[L,le],D=L):(O=D,D=n),D!==n?T=r.substring(T,O):T=D,$--,T===n&&(D=n,$===0&&ie(be)),T}function ht(){var T,D,L;for($++,T=O,D=[],L=r.charAt(O),Q.test(L)?O++:(L=n,$===0&&ie(Je));L!==n;)D.push(L),D.length>=2?L=n:(L=r.charAt(O),Q.test(L)?O++:(L=n,$===0&&ie(Je)));return D.length<1?(O=T,T=n):T=D,$--,T===n&&(D=n,$===0&&ie(Ae)),T}function Pt(){var T,D,L,le,de;if($++,T=O,gt(),r.charCodeAt(O)===36?(D=p,O++):(D=n,$===0&&ie(xt)),D!==n){if(L=O,le=[],de=r.charAt(O),R.test(de)?O++:(de=n,$===0&&ie(B)),de!==n)for(;de!==n;)le.push(de),de=r.charAt(O),R.test(de)?O++:(de=n,$===0&&ie(B));else le=n;le!==n?L=r.substring(L,O):L=le,L!==n?T=wn(L):(O=T,T=n)}else O=T,T=n;return $--,T===n&&$===0&&ie(Nt),T}function Wt(){var T;return T=ir(),T===n&&(T=nt()),T}function ir(){var T,D,L,le,de;if($++,T=O,r.charCodeAt(O)===123?(D=b,O++):(D=n,$===0&&ie(he)),D!==n){for(L=O,le=[],de=r.charAt(O),te.test(de)?O++:(de=n,$===0&&ie(Ce));de!==n;)le.push(de),de=r.charAt(O),te.test(de)?O++:(de=n,$===0&&ie(Ce));L=r.substring(L,O),r.charCodeAt(O)===125?(le=y,O++):(le=n,$===0&&ie(Me)),le!==n?T=tr(L):(O=T,T=n)}else O=T,T=n;return $--,T===n&&(D=n,$===0&&ie(He)),T}function nt(){var T,D,L,le,de;if($++,T=O,r.charCodeAt(O)===59?(D=w,O++):(D=n,$===0&&ie(We)),D!==n){for(L=O,le=[],de=r.charAt(O),Y.test(de)?O++:(de=n,$===0&&ie(Ve));de!==n;)le.push(de),de=r.charAt(O),Y.test(de)?O++:(de=n,$===0&&ie(Ve));L=r.substring(L,O),T=Ue(L)}else O=T,T=n;return $--,T===n&&(D=n,$===0&&ie(Ie)),T}function ar(){var T,D,L,le;return $++,T=O,gt(),r.charCodeAt(O)===40?(D=x,O++):(D=n,$===0&&ie(ne)),D!==n?(L=re(),L!==n?(gt(),r.charCodeAt(O)===41?(le=k,O++):(le=n,$===0&&ie(Re)),le!==n?T=Dt(L):(O=T,T=n)):(O=T,T=n)):(O=T,T=n),$--,T===n&&$===0&&ie(Fe),T}function Br(){var T,D,L;return $++,T=O,r.substr(O,3)===v?(D=v,O+=3):(D=n,$===0&&ie(kt)),D===n&&(r.substr(O,3)===C?(D=C,O+=3):(D=n,$===0&&ie(lt)),D===n&&(r.substr(O,7)===I?(D=I,O+=7):(D=n,$===0&&ie(pt)),D===n&&(r.charCodeAt(O)===42?(D=A,O++):(D=n,$===0&&ie(ot))))),D!==n?(gt(),L=Wt(),L===n&&(L=null),T=nr(D,L)):(O=T,T=n),$--,T===n&&(D=n,$===0&&ie(Ot)),T}function gt(){var T,D;for($++,T=[],D=r.charAt(O),X.test(D)?O++:(D=n,$===0&&ie(on));D!==n;)T.push(D),D=r.charAt(O),X.test(D)?O++:(D=n,$===0&&ie(on));return $--,D=n,$===0&&ie(Ht),T}if(De=a(),t.peg$library)return{peg$result:De,peg$currPos:O,peg$FAILED:n,peg$maxFailExpected:Ee,peg$maxFailPos:dt};if(De!==n&&O===r.length)return De;throw De!==n&&O<r.length&&ie(ut()),jr(Ee,dt<r.length?r.charAt(dt):null,dt<r.length?Mt(dt,dt+1):Mt(dt,dt))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const us=0xffffffffffffffffn;function di(r,t){return(r<<t|r>>64n-t)&0xffffffffffffffffn}function oc(r,t){return r*t&us}function D1(r){return function(){let t=BigInt(r&us),n=BigInt(r>>64n&us);const s=oc(di(oc(t,5n),7n),9n);return n^=t,t=(di(t,24n)^n^n<<16n)&us,n=di(n,37n),r=n<<64n|t,s}}const Ms=D1(0xa187eb39cdcaed8f31c4b365b102e01en),L1=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Ms()))),M1=Array.from({length:8},()=>Ms()),P1=Array.from({length:16},()=>Ms()),ui=Ms(),ft="w",St="b",Ze="p",Ki="n",hs="b",_r="r",hn="q",rt="k",hi="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Zr{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(t,n){const{color:s,piece:i,from:a,to:o,flags:c,captured:l,promotion:d}=n,u=at(a),h=at(o);this.color=s,this.piece=i,this.from=u,this.to=h,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=u+h,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const m in pe)pe[m]&c&&(this.flags+=xn[m]);l&&(this.captured=l),d&&(this.promotion=d,this.lan+=d)}isCapture(){return this.flags.indexOf(xn.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(xn.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(xn.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(xn.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(xn.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(xn.BIG_PAWN)>-1}}const ct=-1,xn={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},pe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Yi={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},I1={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},R1={...Yi,...I1},fe={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},fi={b:[16,32,17,15],w:[-16,-32,-17,-15]},cc={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},j1=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],z1=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],F1={p:1,n:2,b:4,r:8,q:16,k:32},B1="pnbrqkPNBRQK",lc=[Ki,hs,_r,hn],U1=7,$1=6,q1=1,H1=0,es={[rt]:pe.KSIDE_CASTLE,[hn]:pe.QSIDE_CASTLE},dn={w:[{square:fe.a1,flag:pe.QSIDE_CASTLE},{square:fe.h1,flag:pe.KSIDE_CASTLE}],b:[{square:fe.a8,flag:pe.QSIDE_CASTLE},{square:fe.h8,flag:pe.KSIDE_CASTLE}]},W1={b:q1,w:$1},mi="--";function En(r){return r>>4}function Dr(r){return r&15}function rd(r){return"0123456789".indexOf(r)!==-1}function at(r){const t=Dr(r),n=En(r);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function gr(r){return r===ft?St:ft}function V1(r){const t=r.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(t[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=t[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<i.length;o++){let c=0,l=!1;for(let d=0;d<i[o].length;d++)if(rd(i[o][d])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};c+=parseInt(i[o][d],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[o][d]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};c+=1,l=!1}if(c!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const a=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:c}of a){if(!c.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((t[0].match(c)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(i[0]+i[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function G1(r,t){const n=r.from,s=r.to,i=r.piece;let a=0,o=0,c=0;for(let l=0,d=t.length;l<d;l++){const u=t[l].from,h=t[l].to,m=t[l].piece;i===m&&n!==u&&s===h&&(a++,En(n)===En(u)&&o++,Dr(n)===Dr(u)&&c++)}return a>0?o>0&&c>0?at(n):c>0?at(n).charAt(1):at(n).charAt(0):""}function un(r,t,n,s,i,a=void 0,o=pe.NORMAL){const c=En(s);if(i===Ze&&(c===U1||c===H1))for(let l=0;l<lc.length;l++){const d=lc[l];r.push({color:t,from:n,to:s,piece:i,captured:a,promotion:d,flags:o|pe.PROMOTION})}else r.push({color:t,from:n,to:s,piece:i,captured:a,flags:o})}function dc(r){let t=r.charAt(0);return t>="a"&&t<="h"?r.match(/[a-h]\d.*[a-h]\d/)?void 0:Ze:(t=t.toLowerCase(),t==="o"?rt:t)}function pi(r){return r.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Q1{_board=new Array(128);_turn=ft;_header={};_kings={w:ct,b:ct};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(t=hi,{skipValidation:n=!1}={}){this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:ct,b:ct},this._turn=ft,this._castling={w:0,b:0},this._epSquare=ct,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...R1},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:s=!1}={}){let i=t.split(/\s+/);if(i.length>=2&&i.length<6){const c=["-","-","0","1"];t=i.concat(c.slice(-(6-i.length))).join(" ")}if(i=t.split(/\s+/),!n){const{ok:c,error:l}=V1(t);if(!c)throw new Error(l)}const a=i[0];let o=0;this.clear({preserveHeaders:s});for(let c=0;c<a.length;c++){const l=a.charAt(c);if(l==="/")o+=8;else if(rd(l))o+=parseInt(l,10);else{const d=l<"a"?ft:St;this._put({type:l.toLowerCase(),color:d},at(o)),o++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=pe.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=pe.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=pe.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=pe.QSIDE_CASTLE),this._epSquare=i[3]==="-"?ct:fe[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){let n=0,s="";for(let o=fe.a8;o<=fe.h1;o++){if(this._board[o]){n>0&&(s+=n,n=0);const{color:c,type:l}=this._board[o];s+=c===ft?l.toUpperCase():l.toLowerCase()}else n++;o+1&136&&(n>0&&(s+=n),o!==fe.h1&&(s+="/"),n=0,o+=8)}let i="";this._castling[ft]&pe.KSIDE_CASTLE&&(i+="K"),this._castling[ft]&pe.QSIDE_CASTLE&&(i+="Q"),this._castling[St]&pe.KSIDE_CASTLE&&(i+="k"),this._castling[St]&pe.QSIDE_CASTLE&&(i+="q"),i=i||"-";let a="-";if(this._epSquare!==ct)if(t)a=at(this._epSquare);else{const o=this._epSquare+(this._turn===ft?16:-16),c=[o+1,o-1];for(const l of c){if(l&136)continue;const d=this._turn;if(this._board[l]?.color===d&&this._board[l]?.type===Ze){this._makeMove({color:d,from:l,to:this._epSquare,piece:Ze,captured:Ze,flags:pe.EP_CAPTURE});const u=!this._isKingAttacked(d);if(this._undoMove(),u){a=at(this._epSquare);break}}}}return[s,this._turn,i,a,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:s}=this._board[t],i={w:0,b:1}[n],a={p:0,n:1,b:2,r:3,q:4,k:5}[s];return L1[i][a][t]}_epKey(){return this._epSquare===ct?0n:M1[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return P1[t]}_computeHash(){let t=0n;for(let n=fe.a8;n<=fe.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=ui),t}_updateSetup(t){this._history.length>0||(t!==hi?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(hi)}get(t){return this._board[fe[t]]}findPiece(t){const n=[];for(let s=fe.a8;s<=fe.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==t.color||this._board[s].color===t.color&&this._board[s].type===t.type&&n.push(at(s))}return n}put({type:t,color:n},s){return this._put({type:t,color:n},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},s){if(B1.indexOf(t.toLowerCase())===-1||!(s in fe))return!1;const i=fe[s];if(t==rt&&!(this._kings[n]==ct||this._kings[n]==i))return!1;const a=this._board[i];return a&&a.type===rt&&(this._kings[a.color]=ct),this._set(i,{type:t,color:n}),t===rt&&(this._kings[n]=i),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(fe[t]),n&&n.type===rt&&(this._kings[n.color]=ct),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){this._hash^=this._castlingKey();const t=this._board[fe.e1]?.type===rt&&this._board[fe.e1]?.color===ft,n=this._board[fe.e8]?.type===rt&&this._board[fe.e8]?.color===St;(!t||this._board[fe.a1]?.type!==_r||this._board[fe.a1]?.color!==ft)&&(this._castling.w&=-65),(!t||this._board[fe.h1]?.type!==_r||this._board[fe.h1]?.color!==ft)&&(this._castling.w&=-33),(!n||this._board[fe.a8]?.type!==_r||this._board[fe.a8]?.color!==St)&&(this._castling.b&=-65),(!n||this._board[fe.h8]?.type!==_r||this._board[fe.h8]?.color!==St)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===ct)return;const t=this._epSquare+(this._turn===ft?-16:16),n=this._epSquare+(this._turn===ft?16:-16),s=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||this._board[n]?.color!==gr(this._turn)||this._board[n]?.type!==Ze){this._hash^=this._epKey(),this._epSquare=ct;return}const i=a=>!(a&136)&&this._board[a]?.color===this._turn&&this._board[a]?.type===Ze;s.some(i)||(this._hash^=this._epKey(),this._epSquare=ct)}_attacked(t,n,s){const i=[];for(let a=fe.a8;a<=fe.h1;a++){if(a&136){a+=7;continue}if(this._board[a]===void 0||this._board[a].color!==t)continue;const o=this._board[a],c=a-n;if(c===0)continue;const l=c+119;if(j1[l]&F1[o.type]){if(o.type===Ze){if(c>0&&o.color===ft||c<=0&&o.color===St)if(s)i.push(at(a));else return!0;continue}if(o.type==="n"||o.type==="k")if(s){i.push(at(a));continue}else return!0;const d=z1[l];let u=a+d,h=!1;for(;u!==n;){if(this._board[u]!=null){h=!0;break}u+=d}if(!h)if(s){i.push(at(a));continue}else return!0}}return s?i:!1}attackers(t,n){return n?this._attacked(n,fe[t],!0):this._attacked(this._turn,fe[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(gr(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,fe[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let s=0,i=0;for(let a=fe.a8;a<=fe.h1;a++){if(i=(i+1)%2,a&136){a+=7;continue}const o=this._board[a];o&&(t[o.type]=o.type in t?t[o.type]+1:1,o.type===hs&&n.push(i),s++)}if(s===2)return!0;if(s===3&&(t[hs]===1||t[Ki]===1))return!0;if(s===t[hs]+2){let a=0;const o=n.length;for(let c=0;c<o;c++)a+=n[c];if(a===0||a===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:s=void 0}={}){const i=this._moves({square:n,piece:s});return t?i.map(a=>new Zr(this,a)):i.map(a=>this._moveToSan(a,i))}_moves({legal:t=!0,piece:n=void 0,square:s=void 0}={}){const i=s?s.toLowerCase():void 0,a=n?.toLowerCase(),o=[],c=this._turn,l=gr(c);let d=fe.a8,u=fe.h1,h=!1;if(i)if(i in fe)d=u=fe[i],h=!0;else return[];for(let f=d;f<=u;f++){if(f&136){f+=7;continue}if(!this._board[f]||this._board[f].color===l)continue;const{type:p}=this._board[f];let b;if(p===Ze){if(a&&a!==p)continue;b=f+fi[c][0],this._board[b]||(un(o,c,f,b,Ze),b=f+fi[c][1],W1[c]===En(f)&&!this._board[b]&&un(o,c,f,b,Ze,void 0,pe.BIG_PAWN));for(let y=2;y<4;y++)b=f+fi[c][y],!(b&136)&&(this._board[b]?.color===l?un(o,c,f,b,Ze,this._board[b].type,pe.CAPTURE):b===this._epSquare&&un(o,c,f,b,Ze,Ze,pe.EP_CAPTURE))}else{if(a&&a!==p)continue;for(let y=0,w=cc[p].length;y<w;y++){const x=cc[p][y];for(b=f;b+=x,!(b&136);){if(!this._board[b])un(o,c,f,b,p);else{if(this._board[b].color===c)break;un(o,c,f,b,p,this._board[b].type,pe.CAPTURE);break}if(p===Ki||p===rt)break}}}}if((a===void 0||a===rt)&&(!h||u===this._kings[c])){if(this._castling[c]&pe.KSIDE_CASTLE){const f=this._kings[c],p=f+2;!this._board[f+1]&&!this._board[p]&&!this._attacked(l,this._kings[c])&&!this._attacked(l,f+1)&&!this._attacked(l,p)&&un(o,c,this._kings[c],p,rt,void 0,pe.KSIDE_CASTLE)}if(this._castling[c]&pe.QSIDE_CASTLE){const f=this._kings[c],p=f-2;!this._board[f-1]&&!this._board[f-2]&&!this._board[f-3]&&!this._attacked(l,this._kings[c])&&!this._attacked(l,f-1)&&!this._attacked(l,p)&&un(o,c,this._kings[c],p,rt,void 0,pe.QSIDE_CASTLE)}}if(!t||this._kings[c]===-1)return o;const m=[];for(let f=0,p=o.length;f<p;f++)this._makeMove(o[f]),this._isKingAttacked(c)||m.push(o[f]),this._undoMove();return m}move(t,{strict:n=!1}={}){let s=null;if(typeof t=="string")s=this._moveFromSan(t,n);else if(t===null)s=this._moveFromSan(mi,n);else if(typeof t=="object"){const a=this._moves();for(let o=0,c=a.length;o<c;o++)if(t.from===at(a[o].from)&&t.to===at(a[o].to)&&(!("promotion"in a[o])||t.promotion===a[o].promotion)){s=a[o];break}}if(!s)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&s.flags&pe.NULL_MOVE)throw new Error("Null move not allowed when in check");const i=new Zr(this,s);return this._makeMove(s),this._incPositionCount(),i}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){const n=this._turn,s=gr(n);if(this._push(t),t.flags&pe.NULL_MOVE){n===St&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=ct;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&pe.EP_CAPTURE&&(this._turn===St?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===rt){if(this._kings[n]=t.to,t.flags&pe.KSIDE_CASTLE){const i=t.to-1,a=t.to+1;this._movePiece(a,i)}else if(t.flags&pe.QSIDE_CASTLE){const i=t.to+1,a=t.to-2;this._movePiece(a,i)}this._castling[n]=0}if(this._castling[n]){for(let i=0,a=dn[n].length;i<a;i++)if(t.from===dn[n][i].square&&this._castling[n]&dn[n][i].flag){this._castling[n]^=dn[n][i].flag;break}}if(this._castling[s]){for(let i=0,a=dn[s].length;i<a;i++)if(t.to===dn[s][i].square&&this._castling[s]&dn[s][i].flag){this._castling[s]^=dn[s][i].flag;break}}if(this._hash^=this._castlingKey(),t.flags&pe.BIG_PAWN){let i;n===St?i=t.to-16:i=t.to+16,!(t.to-1&136)&&this._board[t.to-1]?.type===Ze&&this._board[t.to-1]?.color===s||!(t.to+1&136)&&this._board[t.to+1]?.type===Ze&&this._board[t.to+1]?.color===s?(this._epSquare=i,this._hash^=this._epKey()):this._epSquare=ct}else this._epSquare=ct;t.piece===Ze?this._halfMoves=0:t.flags&(pe.CAPTURE|pe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===St&&this._moveNumber++,this._turn=s,this._hash^=ui}undo(){const t=this._hash,n=this._undoMove();if(n){const s=new Zr(this,n);return this._decPositionCount(t),s}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=ui;const s=this._turn,i=gr(s);if(n.flags&pe.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:s})),n.captured)if(n.flags&pe.EP_CAPTURE){let a;s===St?a=n.to-16:a=n.to+16,this._set(a,{type:Ze,color:i})}else this._set(n.to,{type:n.captured,color:i});if(n.flags&(pe.KSIDE_CASTLE|pe.QSIDE_CASTLE)){let a,o;n.flags&pe.KSIDE_CASTLE?(a=n.to+1,o=n.to-1):(a=n.to-2,o=n.to+1),this._movePiece(o,a)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const s=[];let i=!1;for(const m in this._header)this._header[m]&&s.push(`[${m} "${this._header[m]}"]`+t),i=!0;i&&this._history.length&&s.push(t);const a=m=>{const f=this._comments[this.fen()];if(typeof f<"u"){const p=m.length>0?" ":"";m=`${m}${p}{${f}}`}return m},o=[];for(;this._history.length>0;)o.push(this._undoMove());const c=[];let l="";for(o.length===0&&c.push(a(""));o.length>0;){l=a(l);const m=o.pop();if(!m)break;if(!this._history.length&&m.color==="b"){const f=`${this._moveNumber}. ...`;l=l?`${l} ${f}`:f}else m.color==="w"&&(l.length&&c.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(m,this._moves({legal:!0})),this._makeMove(m)}if(l.length&&c.push(a(l)),c.push(this._header.Result||"*"),n===0)return s.join("")+c.join(" ");const d=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},u=function(m,f){for(const p of f.split(" "))if(p){if(m+p.length>n){for(;d();)m--;s.push(t),m=0}s.push(p),m+=p.length,s.push(" "),m++}return d()&&m--,m};let h=0;for(let m=0;m<c.length;m++){if(h+c[m].length>n&&c[m].includes("{")){h=u(h,c[m]);continue}h+c[m].length>n&&m!==0?(s[s.length-1]===" "&&s.pop(),s.push(t),h=0):m!==0&&(s.push(" "),h++),s.push(c[m]),h+=c[m].length}return s.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??Yi[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=Yi[t]||null,!0):!1}getHeaders(){const t={};for(const[n,s]of Object.entries(this._header))s!==null&&(t[n]=s);return t}loadPgn(t,{strict:n=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(t=t.replace(new RegExp(s,"g"),`
`));const i=O1(t);this.reset();const a=i.headers;let o="";for(const d in a)d.toLowerCase()==="fen"&&(o=a[d]),this.header(d,a[d]);if(!n)o&&this.load(o,{preserveHeaders:!0});else if(a.SetUp==="1"){if(!("FEN"in a))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(a.FEN,{preserveHeaders:!0})}let c=i.root;for(;c;){if(c.move){const d=this._moveFromSan(c.move,n);if(d==null)throw new Error(`Invalid move in PGN: ${c.move}`);this._makeMove(d),this._incPositionCount()}c.comment!==void 0&&(this._comments[this.fen()]=c.comment),c=c.variations[0]}const l=i.result;l&&Object.keys(this._header).length&&this._header.Result!==l&&this.setHeader("Result",l)}_moveToSan(t,n){let s="";if(t.flags&pe.KSIDE_CASTLE)s="O-O";else if(t.flags&pe.QSIDE_CASTLE)s="O-O-O";else{if(t.flags&pe.NULL_MOVE)return mi;if(t.piece!==Ze){const i=G1(t,n);s+=t.piece.toUpperCase()+i}t.flags&(pe.CAPTURE|pe.EP_CAPTURE)&&(t.piece===Ze&&(s+=at(t.from)[0]),s+="x"),s+=at(t.to),t.promotion&&(s+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(t,n=!1){let s=pi(t);if(n||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==mi)return{color:this._turn,from:0,to:0,piece:"k",flags:pe.NULL_MOVE};let i=dc(s),a=this._moves({legal:!0,piece:i});for(let m=0,f=a.length;m<f;m++)if(s===pi(this._moveToSan(a[m],a)))return a[m];if(n)return null;let o,c,l,d,u,h=!1;if(c=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),c?(o=c[1],l=c[2],d=c[3],u=c[4],l.length==1&&(h=!0)):(c=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),c&&(o=c[1],l=c[2],d=c[3],u=c[4],l.length==1&&(h=!0))),i=dc(s),a=this._moves({legal:!0,piece:o||i}),!d)return null;for(let m=0,f=a.length;m<f;m++)if(l){if((!o||o.toLowerCase()==a[m].piece)&&fe[l]==a[m].from&&fe[d]==a[m].to&&(!u||u.toLowerCase()==a[m].promotion))return a[m];if(h){const p=at(a[m].from);if((!o||o.toLowerCase()==a[m].piece)&&fe[d]==a[m].to&&(l==p[0]||l==p[1])&&(!u||u.toLowerCase()==a[m].promotion))return a[m]}}else if(s===pi(this._moveToSan(a[m],a)).replace("x",""))return a[m];return null}ascii(){let t=`   +------------------------+
`;for(let n=fe.a8;n<=fe.h1;n++){if(Dr(n)===0&&(t+=" "+"87654321"[En(n)]+" |"),this._board[n]){const s=this._board[n].type,a=this._board[n].color===ft?s.toUpperCase():s.toLowerCase();t+=" "+a+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let s=0;const i=this._turn;for(let a=0,o=n.length;a<o;a++)this._makeMove(n[a]),this._isKingAttacked(i)||(t-1>0?s+=this.perft(t-1):s++),this._undoMove();return s}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let s=fe.a8;s<=fe.h1;s++)this._board[s]==null?n.push(null):n.push({square:at(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(t.push(n),n=[],s+=8);return t}squareColor(t){if(t in fe){const n=fe[t];return(En(n)+Dr(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],s=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const i=n.pop();if(!i)break;t?s.push(new Zr(this,i)):s.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return s}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},s=i=>{i in this._comments&&(n[i]=this._comments[i])};for(;this._history.length>0;)t.push(this._undoMove());for(s(this.fen());;){const i=t.pop();if(!i)break;this._makeMove(i),s(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const i of[rt,hn])n[i]!==void 0&&(n[i]?this._castling[t]|=es[i]:this._castling[t]&=~es[i]);this._updateCastlingRights();const s=this.getCastlingRights(t);return(n[rt]===void 0||n[rt]===s[rt])&&(n[hn]===void 0||n[hn]===s[hn])}getCastlingRights(t){return{[rt]:(this._castling[t]&es[rt])!==0,[hn]:(this._castling[t]&es[hn])!==0}}moveNumber(){return this._moveNumber}}function K1(){const r=Be(()=>new Q1,[]),[t,n]=g(r.fen()),[s,i]=g(null),[a,o]=g(null),[c,l]=g("Connecting..."),[d,u]=g(!1),[h,m]=g(null),[f,p]=g("connecting"),[b,y]=g(60),[w,x]=g(0),[k,v]=g(0),[C,I]=g(!1),[A,S]=g(null),[_,R]=g(null),[M,j]=g(null),[W,Q]=g(null),[te,Y]=g(null),[X,q]=g(null),[oe,F]=g(null),[J,ue]=g(null),[se,xe]=g(!1),[ce,U]=g(!1),[B,E]=g(null),[K,be]=g(!1),[ye,Pe]=g(!1);ee(()=>{Pe(f==="playing"&&a!==null&&s!==null&&!d&&Oe())},[f,a,s,d,t]);const Oe=()=>{if(!s)return!1;const Ce=r.turn();return Ce==="w"&&s==="white"||Ce==="b"&&s==="black"};ee(()=>{async function Ce(){try{const Me=await(await V.auth.apiGetSessionList()).json();if(!Me||!Me.user){console.warn("No active session, redirecting to login"),window.location.href="/login";return}R(Me.user.id),j(Me.user.name),Q(Me.user.image);const Ie=V.baseUrl,We=new URL("/sockets/chess",Ie).href,Ve=new URL("sockets/",`${Ie}/`).pathname;console.log("Using Chess socket base URL:",Ie),console.log("Using Chess socket full path:",We),console.log("Using Chess socket transport path:",Ve);const Fe=qn(We,{path:Ve,transports:["websocket","polling"],withCredentials:!0,tryAllTransports:!0});m(Fe),Fe.on("connect",()=>{p("connecting"),l("Connected, joining game...")}),Fe.on("waiting",()=>{p("waiting"),l("Waiting for opponent...")}),Fe.on("paired",async ne=>{console.log("Received paired message:",ne);try{const Re=await V.profile.getProfileByUserId(ne.opponent);Y(Re.data),o(ne.opponent),p("bidding"),I(!1),S(10),l(`Paired with ${Re.data.name}. Bid your preferred game time (min 60s):`)}catch(Re){console.error("Failed to fetch opponent profile:",Re),o(ne.opponent),p("bidding"),I(!1),S(10),l("Paired with opponent. Bid your preferred game time (min 60s):")}}),Fe.on("start",async ne=>{console.log("Received start message:",ne),r.load(ne.fen),n(r.fen()),i(ne.your_color),o(ne.opponent),x(ne.whiteTime),v(ne.blackTime),p("playing"),S(null);try{const Re=await V.profile.getProfileByUserId(ne.opponent);Y(Re.data),l(`Playing as ${ne.your_color} against ${Re.data.name}`)}catch(Re){console.error("Failed to fetch opponent profile:",Re),l(`Playing as ${ne.your_color} against opponent`)}console.log(`Game started. Your color: ${ne.your_color}, Turn: ${r.turn()}`)}),Fe.on("time_update",ne=>{x(ne.whiteTime),v(ne.blackTime)}),Fe.on("opponent_disconnected",ne=>{console.log("Received opponent_disconnected message:",ne),l(ne.message||"Opponent disconnected"),p("waiting"),r.reset(),n(r.fen()),i(null),o(null),x(0),v(0),S(null),console.warn("Opponent disconnected")}),Fe.on("update",ne=>{console.log("Received update message:",ne),r.load(ne.fen),n(r.fen()),u(!1),U(!1),E(null),console.log(`Board updated. Turn: ${r.turn()}, Your turn: ${Oe()}`)}),Fe.on("win",async ne=>{console.log("Received win message:",ne),p("ended");const Re=ne.winner===_;try{const lt=await V.profile.getProfileByUserId(ne.winner);q(lt.data);const pt=Re?"You win!":`${lt.data.name} wins!`,ot=ne.reason?` (${ne.reason})`:"";l(`Game over: ${pt}${ot}`)}catch(lt){console.error("Failed to fetch winner profile:",lt);const pt=Re?"You win!":"Opponent wins!",ot=ne.reason?` (${ne.reason})`:"";l(`Game over: ${pt}${ot}`)}const Ot=ne.reason?` (${ne.reason})`:"";let kt;Re?kt="You win!":kt=X?`${X.name} wins!`:"Opponent wins!",console.log(`Game ended: ${kt}${Ot}`)}),Fe.on("draw",ne=>{console.log("Received draw message:",ne),p("ended");const Re=ne.reason?` (${ne.reason})`:"";l(`Game over: Draw!${Re}`),console.log(`Game ended: Draw${Re}`)}),Fe.on("error",ne=>{console.log("Received error message:",ne),d&&(r.undo(),n(r.fen()),u(!1)),ue(ne.message||"An error occurred"),console.error("Server error:",ne)}),Fe.on("draw_offered",async ne=>{console.log("Received draw_offered message:",ne);try{const Re=await V.profile.getProfileByUserId(ne.from);F(Re.data)}catch(Re){console.error("Failed to fetch draw offer user profile:",Re)}E(ne.from),be(!0)}),Fe.on("draw_offer_sent",()=>{console.log("Draw offer sent successfully"),U(!0),ue(null)}),Fe.on("draw_declined",()=>{console.log("Draw offer declined"),U(!1),ue("Draw offer declined")}),Fe.on("draw_offer_cancelled",()=>{console.log("Draw offer cancelled"),E(null),be(!1)}),Fe.on("connect_error",ne=>{ue(`Connection error: ${ne.message}`),console.error("Connect error:",ne),h.io.opts.transports=["polling","websocket"]}),Fe.on("disconnect",ne=>{l(`Disconnected: ${ne}`),S(null),console.warn("Socket disconnected:",ne)}),Fe.on("bidding_time_update",ne=>{console.log("Received bidding_time_update:",ne),S(ne.timeLeft)})}catch(Me){console.error("Initialization error:",Me),ue("Failed to initialize the game")}}return Ce(),()=>{h&&h.disconnect()}},[]);const Xe=Ce=>{h&&!C&&Ce>=60?(h.emit("bid",{time:Ce}),I(!0),l(`Bid sent (${Ce}s), waiting for opponent...`),S(null)):Ce<60?ue("Bid time must be at least 60s"):ue("Unable to send bid")},P=Ce=>{h&&(h.emit("move",{move:Ce}),console.log("Move sent:",Ce))},Z=(Ce,Me,Ie)=>{if(d||f!=="playing"||!Oe())return!1;try{const We=r.get(Ce);if(!We||We.color!==r.turn())return!1;let Ve;if(We.type==="p"&&(We.color==="w"&&Me[1]==="8"||We.color==="b"&&Me[1]==="1")){const ne=Ie?Ie[1].toLowerCase():"q";Ve=r.move({from:Ce,to:Me,promotion:ne})}else Ve=r.move({from:Ce,to:Me});return Ve?(n(r.fen()),P(Ve.san),u(!0),console.log("Local move:",Ve.san),!0):!1}catch(We){return console.error("Invalid move:",We),!1}},Ae=Ce=>{const Me=Math.floor(Ce/60),Ie=Ce%60;return`${Me}:${Ie.toString().padStart(2,"0")}`},Je=async()=>{try{await navigator.clipboard.writeText(r.fen()),xe(!0),setTimeout(()=>xe(!1),2e3)}catch(Ce){console.error("Failed to copy FEN:",Ce),ue("Failed to copy FEN")}},Nt=()=>{h&&f==="playing"&&h.emit("resign")},xt=()=>{h&&f==="playing"&&!ce&&h.emit("offer_draw")},He=()=>{h&&B&&(h.emit("accept_draw"),be(!1),E(null))},he=()=>{h&&B&&(h.emit("decline_draw"),be(!1),E(null))};return console.log("Your color",s),e(G,{children:[e(Te,{children:[e("title",{children:"Chess - Strategic Board Game"}),e("meta",{name:"description",content:"Play multiplayer chess with real-time gameplay, move validation, and strategic board game mechanics. Challenge opponents in this classic strategic game."}),e("meta",{name:"keywords",content:"chess, multiplayer, strategy game, board game, real-time, competitive"}),e("link",{rel:"canonical",href:"/projects/chess"}),e("meta",{property:"og:title",content:"Chess - Strategic Board Game"}),e("meta",{property:"og:description",content:"Play multiplayer chess with real-time gameplay, move validation, and strategic board game mechanics. Challenge opponents in this classic strategic game."}),e("meta",{property:"og:image",content:"/chess-board.png"}),e("meta",{property:"og:url",content:"/projects/chess"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Chess - Strategic Board Game"}),e("meta",{name:"twitter:description",content:"Play multiplayer chess with real-time gameplay, move validation, and strategic board game mechanics. Challenge opponents in this classic strategic game."}),e("meta",{name:"twitter:image",content:"/chess-board.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Multiplayer Chess"}),e("div",{className:"flex flex-col lg:flex-row gap-8 justify-center",children:[e("div",{className:"card bg-base-100 shadow-xl w-full lg:w-1/2",children:e("div",{className:"card-body p-0",children:e(N1,{position:t,onPieceDrop:Z,arePiecesDraggable:ye,isDraggablePiece:({piece:Ce})=>(s&&Ce[0].toLowerCase()===(s&&s[0].toLowerCase())&&Oe(),!0),boardOrientation:s||"white",showPromotionDialog:!0})})}),e("div",{className:"card bg-base-100 shadow-2xl w-full lg:w-1/3",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title mb-4",children:"Game Info"}),e("div",{className:"alert alert-info mb-4",children:[e(Et,{className:"h-5 w-5"}),e("span",{children:c})]}),J&&e("div",{className:"alert alert-error mb-4",children:[e(Et,{className:"h-5 w-5"}),e("span",{children:J})]}),e("div",{className:"flex flex-col gap-2 mb-4",children:[e("a",{href:`/profile/${_}`,className:"flex items-center gap-1 hover:text-info",children:[e(et,{name:M,image:W,widthClass:"w-6"}),e("div",{className:"font-bold flex items-center gap-1",children:[e("strong",{children:"You:"})," ",M||"Loading..."]})]}),te?e("a",{href:`/profile/${te.id}`,className:"flex items-center gap-1 hover:text-info",children:[e(et,{name:te.name,image:te.image,widthClass:"w-6"}),e("div",{className:"font-bold flex items-center gap-1",children:[e("strong",{children:"Opponent:"})," ",te.name]})]}):e("div",{className:"flex items-center gap-2",children:[e(Ut,{className:"h-5 w-5"}),e("span",{children:[e("strong",{children:"Opponent:"})," ",a?"Loading...":"Waiting..."]})]}),e("div",{className:"flex items-center gap-2",children:[e(Au,{className:"h-5 w-5"}),e("span",{children:[e("strong",{children:"Your Color:"})," ",s?s.charAt(0).toUpperCase()+s.slice(1):"Not assigned"]})]})]}),f==="playing"&&e("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[e("div",{className:"card shadow-lg "+(Oe()?"bg-success text-success-content":"bg-base-300 text-base-content"),children:e("div",{className:"card-body p-3",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-2",children:[e(kn,{className:"h-5 w-5"}),e("span",{className:"font-semibold",children:"Your Time"})]}),e("span",{className:"text-lg font-mono",children:Ae(s==="white"?w:k)})]})})}),e("div",{className:"card shadow-lg "+(Oe()?"bg-base-300 text-base-content":"bg-success text-success-content"),children:e("div",{className:"card-body p-3",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-2",children:[e(kn,{className:"h-5 w-5"}),e("span",{className:"font-semibold",children:"Opponent's Time"})]}),e("span",{className:"text-lg font-mono",children:Ae(s==="white"?k:w)})]})})})]}),f==="playing"&&e("div",{className:`alert ${Oe()?"alert-success":"alert-warning"} mb-4`,children:[e(Tu,{className:"h-5 w-5"}),e("span",{children:Oe()?"Your Turn":"Opponent's Turn"})]}),ce&&e("div",{className:"alert alert-info mb-4",children:[e(bo,{className:"h-5 w-5"}),e("span",{children:"Draw offer sent, waiting for opponent..."})]}),f==="playing"&&e("div",{className:"flex flex-col gap-2 mb-4",children:[e("button",{onClick:xt,disabled:ce,className:"btn btn-outline btn-info",children:[e(bo,{className:"h-5 w-5 mr-2"}),ce?"Draw Offered":"Offer Draw"]}),e("button",{onClick:Nt,className:"btn btn-outline btn-error",children:[e(ju,{className:"h-5 w-5 mr-2"}),"Resign"]})]}),f==="bidding"&&!C&&e("div",{className:"form-control mb-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Bid Time (seconds, min 60)"})}),e("div",{className:"join",children:[e("input",{type:"number",value:b,onInput:Ce=>y(parseInt(Ce.target.value,10)||60),min:"60",step:"1",className:"input input-bordered join-item w-full"}),e("button",{onClick:()=>Xe(b),className:"btn btn-primary join-item",children:"Submit Bid"})]}),A!==null&&e("div",{className:"alert alert-warning mt-2",children:[e(Fu,{className:"h-5 w-5"}),e("span",{children:["Time left to bid: ",A,"s"]})]})]}),e("div",{className:"flex flex-col gap-2",children:[e("button",{onClick:Je,className:"btn btn-outline",children:[e(pa,{className:"h-5 w-5 mr-2"}),"Copy FEN"]}),se&&e("div",{className:"alert alert-success text-sm",children:"FEN copied to clipboard!"})]})]})})]}),K&&e("div",{className:"modal modal-open",children:e("div",{className:"modal-box",children:[e("h3",{className:"font-bold text-lg",children:"Draw Offer"}),e("p",{className:"py-4",children:[oe?e("a",{href:`/profile/${oe.id}`,className:"flex items-center gap-1 inline-flex",children:[e(et,{name:oe.name,image:oe.image,widthClass:"w-6"}),e("span",{className:"font-bold",children:oe.name})]}):"Your opponent"," ","has offered a draw. Do you accept?"]}),e("div",{className:"modal-action",children:[e("button",{onClick:he,className:"btn btn-outline",children:"Decline"}),e("button",{onClick:He,className:"btn btn-primary",children:"Accept Draw"})]})]})})]})]})}function Y1(r){return z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M392 105c.9-27 .2-56 .1-57H119.3c0 1-.8 30 .1 57H48c0 68 9.9 102.3 21 126.7S95.4 277 127.7 302c30.1 23.3 95.5 53.6 104.3 57.6v28.3c-4.6 10-23.5 28.2-83.3 28.2H128v48h256v-48h-25.7c-60.7 0-75-19.1-78.3-28.2v-28.3c9.3-4.6 80.9-40.3 104.4-57.5 25.2-18.4 50.9-51.5 58.7-70.3S464 167 464 105h-72zM109.6 211.9c-8.8-18.2-14-37.9-15.7-61.9h28.7c.7 6 1.4 11.3 2.3 16.3 6.6 39.2 14.8 70.2 25.7 96.5-17.3-13.5-31.3-30.8-41-50.9zm292.8 0c-9.9 20.3-24 37.7-41.6 51.3 11-26.2 19-56.8 25.8-96.9.8-5 1.6-10.3 2.3-16.3h29.3c-1.8 24-6.9 43.7-15.8 61.9z"},child:[]}]})(r)}function J1(r){return z({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 7a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 12 7Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"},child:[]},{tag:"path",attr:{d:"M7.328 1.47a.749.749 0 0 1 .53-.22h8.284c.199 0 .389.079.53.22l5.858 5.858c.141.14.22.33.22.53v8.284a.749.749 0 0 1-.22.53l-5.858 5.858a.749.749 0 0 1-.53.22H7.858a.749.749 0 0 1-.53-.22L1.47 16.672a.749.749 0 0 1-.22-.53V7.858c0-.199.079-.389.22-.53Zm.84 1.28L2.75 8.169v7.662l5.419 5.419h7.662l5.419-5.418V8.168L15.832 2.75Z"},child:[]}]})(r)}const br=(r,t)=>Math.floor(Math.random()*(t-r+1))+r,X1=["add","sub","mult","div"];function Z1(){const t=new URLSearchParams(window.location.search).get("config");let n={min1:2,max1:100,min2:2,max2:100},s={min1:2,max1:12,min2:2,max2:100},i=120,a={add:!0,sub:!0,mult:!0,div:!0},o=!1;if(t)try{const q=JSON.parse(atob(t));n=q.addRange,s=q.multRange,i=q.duration,a=q.selectedOps,o=!0}catch{}const[c,l]=g(n),[d,u]=g(s),[h,m]=g(i),[f,p]=g(a),[b,y]=g("start"),[w,x]=g(0),[k,v]=g(0),[C,I]=g(null),[A,S]=g(""),[_,R]=g(!1),M=Ye(null),j=()=>{const q=X1.filter(xe=>f[xe]);if(q.length===0)return;const oe=q[br(0,q.length-1)];let F,J,ue,se;if(oe==="add"||oe==="sub"?(F=br(c.min1,c.max1),J=br(c.min2,c.max2)):(F=br(d.min1,d.max1),J=br(d.min2,d.max2)),oe==="add")ue=`${F} + ${J} = `,se=F+J;else if(oe==="sub"){const xe=F+J,ce=Math.random()>.5?F:J;ue=`${xe} - ${ce} = `,se=xe-ce}else if(oe==="mult")ue=`${F} Ã ${J} = `,se=F*J;else{const xe=F*J,ce=Math.random()>.5?F:J;ue=`${xe} Ã· ${ce} = `,se=xe/ce}I({question:ue,answer:se}),S("")},W=()=>{if(!Object.values(f).some(oe=>oe)){alert("Please select at least one operation.");return}x(0),v(h),y("playing"),j()};ee(()=>{o&&W()},[]),ee(()=>{if(b!=="playing")return;if(k<=0){y("ended");return}const q=setInterval(()=>{v(oe=>oe-1)},1e3);return()=>clearInterval(q)},[b,k]),ee(()=>{b==="playing"&&M.current&&M.current.focus()},[b,C]),ee(()=>{(async()=>{if(b==="ended"){const q={additionRange:c,multiplicationRange:d,duration:h,finalScore:w};console.log(JSON.stringify(q,null,2));const oe=(await V.profile.postProfileLogArithmetic(q)).data;R(oe.counted)}})()},[b,c,d,h,w]);const Q=()=>{if(!C)return;const q=parseFloat(A);if(isNaN(q)){S("");return}Math.abs(q-C.answer)<1e-4?(x(oe=>oe+1),j()):S("")},te=q=>{q.key==="Enter"&&Q()},Y=(q,oe,F,J)=>{const ue=parseInt(J,10);isNaN(ue)||q({...oe,[F]:ue})},X=()=>{const oe=btoa(JSON.stringify({addRange:c,multRange:d,duration:h,selectedOps:f})),F=`${window.location.origin}${window.location.pathname}?config=${oe}`;navigator.clipboard.writeText(F).then(()=>{alert("Shareable link copied to clipboard!")})};return b==="start"?e(G,{children:[e(Te,{children:[e("title",{children:"Arithmetic Trainer - Math Learning Game"}),e("meta",{name:"description",content:"Challenge your mental arithmetic skills with this math learning game. Practice addition, subtraction, multiplication, and division with customizable difficulty and timed challenges."}),e("meta",{name:"keywords",content:"arithmetic, math game, mental math, addition, subtraction, multiplication, division, learning"}),e("link",{rel:"canonical",href:"/projects/arithmetic"}),e("meta",{property:"og:title",content:"Arithmetic Trainer - Math Learning Game"}),e("meta",{property:"og:description",content:"Challenge your mental arithmetic skills with this math learning game. Practice addition, subtraction, multiplication, and division with customizable difficulty and timed challenges."}),e("meta",{property:"og:image",content:"/stragedy-rush.png"}),e("meta",{property:"og:url",content:"/projects/arithmetic"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Arithmetic Trainer - Math Learning Game"}),e("meta",{name:"twitter:description",content:"Challenge your mental arithmetic skills with this math learning game. Practice addition, subtraction, multiplication, and division with customizable difficulty and timed challenges."}),e("meta",{name:"twitter:image",content:"/stragedy-rush.png"})]}),e("div",{className:"bg-base-100 mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full p-4",children:[e("h1",{className:"text-2xl font-bold mb-4",children:"Arithmetic Game"}),e("p",{className:"mb-4",children:"The Arithmetic Game is a fast-paced speed drill where you are given two minutes to solve as many arithmetic problems as you can."}),e("p",{className:"mb-4",children:"If you have any questions, please contact me."}),e("h2",{className:"text-xl font-semibold mb-2",children:"Addition"}),e("p",{className:"mb-4",children:[e("input",{type:"checkbox",checked:f.add,onChange:()=>p(q=>({...q,add:!q.add}))})," ","Range: (",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.min1,onChange:q=>Y(l,c,"min1",q.currentTarget.value)}),"to",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.max1,onChange:q=>Y(l,c,"max1",q.currentTarget.value)}),") + (",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.min2,onChange:q=>Y(l,c,"min2",q.currentTarget.value)}),"to",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.max2,onChange:q=>Y(l,c,"max2",q.currentTarget.value)}),")"]}),e("h2",{className:"text-xl font-semibold mb-2",children:"Subtraction"}),e("p",{className:"mb-4",children:[e("input",{type:"checkbox",checked:f.sub,onChange:()=>p(q=>({...q,sub:!q.sub}))})," ","Addition problems in reverse."]}),e("h2",{className:"text-xl font-semibold mb-2",children:"Multiplication"}),e("p",{className:"mb-4",children:[e("input",{type:"checkbox",checked:f.mult,onChange:()=>p(q=>({...q,mult:!q.mult}))})," ","Range: (",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:d.min1,onChange:q=>Y(u,d,"min1",q.currentTarget.value)}),"to",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:d.max1,onChange:q=>Y(u,d,"max1",q.currentTarget.value)}),") Ã (",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:d.min2,onChange:q=>Y(u,d,"min2",q.currentTarget.value)}),"to",e("input",{type:"number",className:"border p-1 w-16 mx-1",value:d.max2,onChange:q=>Y(u,d,"max2",q.currentTarget.value)}),")"]}),e("h2",{className:"text-xl font-semibold mb-2",children:"Division"}),e("p",{className:"mb-4",children:[e("input",{type:"checkbox",checked:f.div,onChange:()=>p(q=>({...q,div:!q.div}))})," ","Multiplication problems in reverse."]}),e("h2",{className:"text-xl font-semibold mb-2",children:"Duration:"}),e("input",{type:"number",className:"border p-1 w-20",value:h,onChange:q=>{const oe=parseInt(q.currentTarget.value,10);isNaN(oe)||m(oe)}}),e("button",{className:"bg-blue-500 text-white p-2 rounded mt-4 mr-4",onClick:W,children:"Start"}),e("button",{className:"bg-green-500 text-white p-2 rounded",onClick:X,children:"Share Config"})]})]}):b==="playing"?e(G,{children:e("div",{className:"relative flex flex-col items-center justify-center h-[100%]",children:[e("div",{className:"absolute top-4 left-4 text-2xl font-bold",children:[e("div",{className:"flex items-center gap-2",children:[e($h,{}),"Seconds left: ",k]}),e("div",{className:"flex items-center gap-2 mt-2",children:[e(Y1,{}),"Score: ",w]}),e("button",{className:"flex items-center gap-2 mt-2 btn btn-error text-lg",onClick:()=>y("ended"),children:[e(J1,{}),"End Game Early"]})]}),e("div",{className:"flex flex-col items-center",children:C&&e("div",{className:"bg-base-300 w-[100vw] p-4 flex items-center justify-center text-4xl",children:[e("span",{children:C.question}),e("input",{type:"number",className:"border p-2 text-2xl w-32 ml-2",value:A,onChange:q=>S(q.currentTarget.value),onKeyDown:te,ref:M})]})})]})}):e(G,{children:e("div",{className:"flex flex-col items-center justify-center h-[100%]",children:[e("h1",{className:"text-3xl font-bold mb-4",children:"Game Over"}),e("p",{className:"text-2xl",children:["Score: ",w]}),e("p",{className:"mb-4",children:_?"Your result was successfully recorded":"Your result did not meet the criteria to be recorded"}),e("button",{className:"bg-blue-500 text-white p-2 rounded",onClick:()=>y("start"),children:"Play Again"})]})})}function ts(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function vt(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function e0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(r)}function t0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(r)}function Dn(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(r)}function n0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function Ln(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function r0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function sd(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(r)}function Ia(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function s0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(r)}function i0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"13 17 18 12 13 7"},child:[]},{tag:"polyline",attr:{points:"6 17 11 12 6 7"},child:[]}]})(r)}function a0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(r)}function o0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(r)}function fs(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function id(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(r)}function c0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(r)}function l0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function ad(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function d0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(r)}function uc(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function u0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(r)}function h0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function f0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function m0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(r)}function p0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},child:[]}]})(r)}function Mn(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(r)}function Ji(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function g0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function Lr(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(r)}function b0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function od(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function Xi(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(r)}function cd(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 3 21 3 21 8"},child:[]},{tag:"line",attr:{x1:"4",y1:"20",x2:"21",y2:"3"},child:[]},{tag:"polyline",attr:{points:"21 16 21 21 16 21"},child:[]},{tag:"line",attr:{x1:"15",y1:"15",x2:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"4",y1:"4",x2:"9",y2:"9"},child:[]}]})(r)}function Qn(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(r)}function ld(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function v0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(r)}function y0(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(r)}function Pn(r){return z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function w0(){const{route:r,url:t}=_t(),[n,s]=g([]),[i,a]=g(!0),[o,c]=g(null),[l,d]=g(!1),[u,h]=g(""),[m,f]=g(null),[p,b]=g(!1),y=async()=>{try{const C=await V.quizspire.getQuizspireDecks();s(C.data)}catch(C){if(C.status===401){r("/login");return}c("Failed to load decks"),console.error(C)}finally{a(!1)}};ee(()=>{y()},[]);const w=n.filter(C=>C.title.toLowerCase().includes(u.toLowerCase())||C.description.toLowerCase().includes(u.toLowerCase())),x=async C=>{try{await V.quizspire.postQuizspireDecks({title:C.title,description:C.description,thumbnail:C.thumbnail,cards:C.cards}),d(!1),y()}catch(I){console.error("Failed to create deck:",I),c("Failed to create deck")}},k=async(C,I)=>{try{await V.quizspire.putQuizspireDecksById(C,I),f(null),y()}catch(A){console.error("Failed to update deck:",A),c("Failed to update deck")}},v=async C=>{if(confirm("Are you sure you want to delete this deck?"))try{await V.quizspire.deleteQuizspireDecksById(C),y()}catch(I){console.error("Failed to delete deck:",I),c("Failed to delete deck")}};return i?e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"flex justify-center",children:e("span",{class:"loading loading-spinner loading-lg"})})}):o?e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"alert alert-error",children:e("span",{children:o})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Quizspire - Interactive Quiz Platform"}),e("meta",{name:"description",content:"Master your flashcards with Quizspire's interactive study modes including flashcards, learn, test, match, and Tetris games. Create and manage custom flashcard decks for effective learning."}),e("meta",{name:"keywords",content:"quizspire, flashcards, learning, study modes, quiz, education, interactive learning"}),e("link",{rel:"canonical",href:"/projects/quizspire"}),e("meta",{property:"og:title",content:"Quizspire - Interactive Quiz Platform"}),e("meta",{property:"og:description",content:"Master your flashcards with Quizspire's interactive study modes including flashcards, learn, test, match, and Tetris games. Create and manage custom flashcard decks for effective learning."}),e("meta",{property:"og:image",content:"/quizspire.png"}),e("meta",{property:"og:url",content:"/projects/quizspire"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Quizspire - Interactive Quiz Platform"}),e("meta",{name:"twitter:description",content:"Master your flashcards with Quizspire's interactive study modes including flashcards, learn, test, match, and Tetris games. Create and manage custom flashcard decks for effective learning."}),e("meta",{name:"twitter:image",content:"/quizspire.png"})]}),e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"mb-8",children:[e("h1",{class:"text-4xl font-bold mb-4",children:"Quizspire"}),e("p",{class:"text-lg text-base-content/70",children:"Master your flashcards with various study modes."})]})}),e("div",{class:"flex flex-col sm:flex-row gap-4 mb-6",children:[e("div",{class:"flex-1",children:e("label",{class:"input input-bordered flex items-center gap-2",children:[e(b0,{class:"w-4 h-4"}),e("input",{type:"text",class:"grow",placeholder:"Search decks...",value:u,onInput:C=>h(C.currentTarget.value)})]})}),e("div",{class:"flex gap-2",children:[e("button",{class:"btn btn-secondary",onClick:()=>b(!0),children:[e(t0,{class:"w-4 h-4 mr-2"}),"Import from Quizlet"]}),e("button",{class:"btn btn-outline",onClick:()=>{try{const C=JSON.stringify(n,null,2),I="data:application/json;charset=utf-8,"+encodeURIComponent(C),A="quizspire-decks.json",S=document.createElement("a");S.setAttribute("href",I),S.setAttribute("download",A),S.click()}catch(C){console.error("Failed to export decks:",C),alert("Failed to export decks. Please try again.")}},children:[e(fs,{class:"w-4 h-4 mr-2"}),"Export All"]}),e("input",{type:"file",accept:".json",class:"hidden",id:"import-decks",onChange:async C=>{const I=C.currentTarget.files?.[0];if(I){const A=new FileReader;A.onload=async S=>{try{const _=JSON.parse(S.target?.result);if(Array.isArray(_)){for(const R of _)try{await V.quizspire.postQuizspireDecks({title:R.title,description:R.description,thumbnail:R.thumbnail,cards:R.cards})}catch(M){console.error("Failed to import deck:",R.title,M)}y(),alert("Decks imported successfully!")}else alert("Invalid JSON format. Expected an array of decks.")}catch(_){console.error("Failed to parse JSON file:",_),alert("Failed to parse JSON file. Please check the file format.")}},A.readAsText(I)}C.currentTarget.value=""}}),e("label",{for:"import-decks",class:"btn btn-outline",children:[e(v0,{class:"w-4 h-4 mr-2"}),"Import"]}),e("button",{class:"btn btn-primary",onClick:()=>d(!0),children:[e(Ji,{class:"w-4 h-4 mr-2"}),"Create Deck"]})]})]}),w.length===0&&n.length>0?e("div",{class:"text-center py-12",children:e("p",{class:"text-xl text-base-content/50",children:"No decks match your search."})}):w.length===0?e("div",{class:"text-center py-12",children:[e("p",{class:"text-xl text-base-content/50 mb-4",children:"No decks found. Create your first deck to get started!"}),e("button",{class:"btn btn-primary btn-lg",onClick:()=>d(!0),children:[e(Ji,{class:"w-5 h-5 mr-2"}),"Create Your First Deck"]})]}):e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(C=>{const I=u?Cr(C.title,u):C.title,A=u?Cr(C.description,u):C.description;return e("div",{class:"card bg-base-100 shadow-2xl",children:[e("div",{class:"card-actions justify-center mb-4",children:e("div",{class:"grid grid-cols-[repeat(auto-fit,minmax(120px,1fr))] gap-2 w-full",children:[e("button",{class:"btn btn-info btn-sm",onClick:()=>r(`/projects/quizspire/${C._id}?fullscreen=true`),children:[e(Dn,{class:"w-4 h-4 mr-1"}),"Flashcards"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const S=new URLSearchParams;S.set("referrer",encodeURIComponent(t));const _=`/projects/quizspire/${C._id}/learn?${S}`;r(_)},children:[e(Mn,{class:"w-4 h-4 mr-1"}),"Learn"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const S=new URLSearchParams;S.set("referrer",encodeURIComponent(t));const _=`/projects/quizspire/${C._id}/test?${S}`;r(_)},children:[e(Qn,{class:"w-4 h-4 mr-1"}),"Test"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const S=new URLSearchParams;S.set("referrer",encodeURIComponent(t));const _=`/projects/quizspire/${C._id}/tetris?${S}`;r(_)},children:[e(ad,{class:"w-4 h-4 mr-1"}),"Tetris"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const S=new URLSearchParams;S.set("referrer",encodeURIComponent(t));const _=`/projects/quizspire/${C._id}/match?${S}`;r(_)},children:[e(cd,{class:"w-4 h-4 mr-1"}),"Match"]}),e("button",{class:"btn btn-success btn-sm",onClick:()=>{const S=new URLSearchParams;S.set("referrer",encodeURIComponent(t)),S.set("deckId",C._id);const _=`/projects/quizspire/host?${S}`;r(_)},children:[e(Mn,{class:"w-4 h-4 mr-1"}),"Host"]})]})}),e("figure",{children:e("img",{src:C.thumbnail?pn(C.thumbnail):"/quizspire.png",alt:C.title,class:"w-full h-48 object-cover cursor-pointer",onClick:()=>window.location.href=`/projects/quizspire/${C._id}`})}),e("div",{class:"card-body",children:[e("div",{class:"cursor-pointer",onClick:()=>window.location.href=`/projects/quizspire/${C._id}`,children:[e("h2",{class:"card-title gap-0",dangerouslySetInnerHTML:{__html:I}}),e("p",{class:"text-sm text-base-content/70",dangerouslySetInnerHTML:{__html:A}}),e("p",{class:"text-xs text-base-content/50",children:[C.cards.length," cards â¢ Created:"," ",new Date(C.createdAt).toLocaleDateString()," â¢ Last modified:"," ",new Date(C.lastModified).toLocaleDateString()]})]}),e("div",{class:"card-actions justify-end mt-4",children:e("div",{class:"flex gap-2 w-full",children:[e("button",{class:"btn btn-outline btn-wide flex-1",onClick:async S=>{try{await navigator.clipboard.writeText(`${window.location.origin}/projects/quizspire/${C._id}`);const _=S.target;console.log(_),_&&(_.classList.add("btn-success"),_.textContent="Copied!",setTimeout(()=>{_.classList.remove("btn-success"),_.innerHTML='<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg>Share'},2e3))}catch(_){console.error("Failed to copy link:",_)}},children:[e(Xi,{class:"w-4 h-4 mr-2"}),"Share"]}),e("button",{class:"btn btn-outline btn-wide flex-1",onClick:()=>f(C),children:[e(id,{class:"w-4 h-4 mr-2"}),"Edit"]}),e("button",{class:"btn btn-outline btn-error btn-wide flex-1",onClick:()=>v(C._id),children:[e(ld,{class:"w-4 h-4 mr-2"}),"Delete"]})]})})]})]},C._id)})}),(l||m)&&e(dd,{deck:m,onSave:C=>{m?k(m._id,C):x(C)},onClose:()=>{d(!1),f(null)}}),p&&e(_0,{onClose:()=>b(!1),onImportSuccess:y})]})}function _0({onClose:r,onImportSuccess:t}){const[n,s]=g(""),[i,a]=g(""),[o,c]=g(""),[l,d]=g(""),[u,h]=g(""),[m,f]=g(""),[p,b]=g(!1),[y,w]=g(null),[x,k]=g(!1),[v,C]=g(!1),I=j=>`https://quizlet.com/webapi/3.4/studiable-item-documents?filters[studiableContainerId]=${j}&filters[studiableContainerType]=1&perPage=1000&page=1`,A=async()=>{if(!n.trim()){w("Please enter a valid numeric Quizlet deck ID.");return}if(!/^\d+$/.test(n.trim())){w("Deck ID must be numeric only (found in the Quizlet deck URL).");return}w(null);const j=I(n.trim());try{const W=await fetch(j);if(W.ok){const Q=await W.json();f(JSON.stringify(Q,null,2)),k(!1);const Y=(Q.responses?.[0]?.models?.studiableItem||[]).some(X=>X.cardSides&&X.cardSides.length>0);C(!Y);return}}catch(W){console.log("Direct fetch failed, falling back to iframe:",W)}h(j),k(!0)},S=()=>{u&&(h(""),setTimeout(()=>h(u),100))},_=j=>{const W=JSON.parse(j);if(!W.responses||!W.responses[0]?.models?.studiableItem)throw new Error("Invalid JSON format. Expected Quizlet API response with studiable items.");return W},R=j=>{const W=j.filter(Q=>Q.cardSides&&Q.cardSides.length>=2).map(Q=>{const te=Q.cardSides.find(X=>X.sideId===1),Y=Q.cardSides.find(X=>X.sideId===2);return{word:[{text:te?.media?.[0]?.plainText||"",type:"text"}],definition:[{text:Y?.media?.[0]?.plainText||"",type:"text"}]}});return{title:i||"Imported Quizlet Deck",description:o||`Imported from Quizlet deck ${n}`,thumbnail:l||"",cards:W}},M=async()=>{if(!m.trim()){w("Please paste the JSON response.");return}b(!0),w(null);try{const W=_(m).responses[0].models.studiableItem||[];if(W.length===0)throw new Error("No flashcards found in this deck. It may be private or empty.");if(!W.some(X=>X.cardSides&&X.cardSides.length>0))throw new Error("This appears to be a private deck. Private decks cannot be imported due to Quizlet restrictions. Make sure the deck is public and try again.");const te=R(W);await V.quizspire.postQuizspireDecks(te);const Y=`Successfully imported deck with ${te.cards.length} flashcards!`;alert(Y),setTimeout(()=>{t(),r()},500)}catch(j){console.error("Import failed:",j),w(j instanceof Error?j.message:"Failed to import data. Please check the JSON format.")}finally{b(!1)}};return e("div",{class:"modal modal-open",children:e("div",{class:"modal-box max-w-7xl max-h-[95vh] overflow-y-auto bg-gradient-to-br from-base-100 to-base-200",children:[e("div",{class:"flex items-center gap-3 mb-6",children:[e("div",{class:"p-3 bg-primary/10 rounded-full",children:e(fs,{class:"w-6 h-6 text-primary"})}),e("div",{children:[e("h3",{class:"font-bold text-xl text-base-content",children:"Import Quizlet Deck"}),e("p",{class:"text-sm text-base-content/70",children:"Import flashcards from a public Quizlet deck"})]})]}),e("div",{class:"space-y-6",children:[e("div",{class:"alert alert-info shadow-lg",children:[e(ts,{class:"w-5 h-5"}),e("div",{children:[e("h4",{class:"font-bold",children:"How to import a Quizlet flashcard deck:"}),e("ol",{class:"list-decimal list-inside mt-2 space-y-1 text-sm",children:[e("li",{children:"Fill in the deck information in the form below"}),e("li",{children:["Find the numeric Quizlet deck ID from the deck URL (e.g., quizlet.com/",e("strong",{children:"48393"}),"/french-verbs - the number only)"]}),e("li",{children:'Enter the deck ID and click "Load Data"'}),e("li",{children:"If direct loading fails, an iframe will appear - copy the JSON text from it"}),e("li",{children:'Paste the JSON in the text area and click "Import Deck"'})]}),e("p",{class:"mt-2 text-xs opacity-75",children:[e("strong",{children:"Note:"})," Private decks cannot be imported due to Quizlet restrictions."]})]})]}),e("div",{class:"bg-base-100 rounded-xl shadow-lg p-6",children:[e("h4",{class:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e(od,{class:"w-5 h-5"}),"Deck Configuration"]}),e("div",{class:"overflow-x-auto",children:e("table",{class:"table table-zebra w-full",children:[e("thead",{children:e("tr",{class:"bg-base-200",children:[e("th",{class:"font-semibold",children:"Field"}),e("th",{class:"font-semibold",children:"Value"}),e("th",{class:"font-semibold w-32",children:"Required"})]})}),e("tbody",{children:[e("tr",{class:"hover",children:[e("td",{class:"font-medium",children:e("div",{class:"flex items-center gap-2",children:[e(Dn,{class:"w-4 h-4 text-primary"}),"Deck Name"]})}),e("td",{children:e("input",{type:"text",class:`input input-bordered input-sm w-full ${i.trim()?"input-success":"input-error"}`,placeholder:"Enter deck name",value:i,onInput:j=>a(j.currentTarget.value)})}),e("td",{children:e("div",{class:"badge badge-error gap-1",children:[e("span",{class:"text-xs",children:"*"}),"Required"]})})]}),e("tr",{class:"hover",children:[e("td",{class:"font-medium",children:e("div",{class:"flex items-center gap-2",children:[e(l0,{class:"w-4 h-4 text-secondary"}),"Description"]})}),e("td",{children:e("input",{type:"text",class:"input input-bordered input-sm w-full",placeholder:"Optional description",value:o,onInput:j=>c(j.currentTarget.value)})}),e("td",{children:e("div",{class:"badge badge-ghost",children:"Optional"})})]}),e("tr",{class:"hover",children:[e("td",{class:"font-medium",children:e("div",{class:"flex items-center gap-2",children:[e(u0,{class:"w-4 h-4 text-accent"}),"Thumbnail URL"]})}),e("td",{children:e("input",{type:"url",class:"input input-bordered input-sm w-full",placeholder:"https://example.com/image.jpg",value:l,onInput:j=>d(j.currentTarget.value)})}),e("td",{children:e("div",{class:"badge badge-ghost",children:"Optional"})})]}),e("tr",{class:"hover",children:[e("td",{class:"font-medium",children:e("div",{class:"flex items-center gap-2",children:[e(d0,{class:"w-4 h-4 text-info"}),"Quizlet Deck ID"]})}),e("td",{children:e("div",{class:"join w-full",children:[e("input",{type:"text",class:`input input-bordered input-sm join-item flex-1 ${n.trim()?/^\d+$/.test(n.trim())?"input-success":"input-warning":"input-error"}`,placeholder:"e.g., 48393",value:n,onInput:j=>s(j.currentTarget.value)}),e("button",{class:"btn btn-primary btn-sm join-item",onClick:A,disabled:!n.trim()||!/^\d+$/.test(n.trim()),children:[e(fs,{class:"w-4 h-4 mr-1"}),"Load Data"]})]})}),e("td",{children:e("div",{class:"badge badge-error gap-1",children:[e("span",{class:"text-xs",children:"*"}),"Required"]})})]})]})]})})]}),v&&e("div",{class:"alert alert-warning shadow-lg animate-pulse",children:[e(f0,{class:"w-5 h-5"}),e("div",{children:[e("h4",{class:"font-bold",children:"Private Deck Detected"}),e("p",{class:"text-sm",children:"This appears to be a private Quizlet deck. Private decks cannot be imported due to Quizlet restrictions. Make sure the deck is public and try again."})]})]}),x&&u&&e("div",{class:"bg-base-100 rounded-xl shadow-lg p-6",children:[e("h4",{class:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e(c0,{class:"w-5 h-5"}),"API Response"]}),e("div",{class:"alert alert-warning mb-4",children:[e(ts,{class:"w-4 h-4"}),e("div",{children:e("p",{class:"text-sm",children:"Direct loading failed. Copy the JSON text from the iframe below."})})]}),e("div",{class:"relative",children:[e("iframe",{src:u,class:"w-full h-64 border-2 border-dashed border-base-300 rounded-lg bg-base-50",title:"Quizlet API Data"}),e("button",{class:"btn btn-sm btn-info absolute top-2 right-2 shadow-lg hover:scale-105 transition-transform",onClick:S,children:[e(g0,{class:"w-4 h-4 mr-1"}),"Reload"]})]})]}),e("div",{class:"bg-base-100 rounded-xl shadow-lg p-6",children:[e("h4",{class:"font-semibold text-lg mb-4 flex items-center gap-2",children:[e(a0,{class:"w-5 h-5"}),"JSON Data"]}),e("div",{class:"form-control",children:[e("div",{class:"relative",children:[e("textarea",{class:`textarea textarea-bordered h-40 font-mono text-sm transition-all duration-300 ${m?"textarea-success focus:textarea-success":"textarea-error"}`,placeholder:'Paste the JSON starting with {"responses":[...',value:m,onInput:j=>f(j.currentTarget.value)}),e("div",{class:"absolute top-2 right-2 text-xs text-base-content/50 bg-base-200 px-2 py-1 rounded",children:"Required for import"})]}),m&&e("div",{class:"label mt-2",children:e("span",{class:"label-text-alt text-success flex items-center gap-1 animate-bounce",children:[e(n0,{class:"w-4 h-4"}),"JSON loaded successfully"]})})]})]}),y&&e("div",{class:"alert alert-error shadow-lg animate-fade-in",children:[e(y0,{class:"w-5 h-5"}),e("div",{children:[e("h4",{class:"font-bold",children:"Import Error"}),e("p",{class:"text-sm",children:y})]})]}),e("div",{class:"modal-action justify-between",children:[e("button",{type:"button",class:"btn btn-ghost",onClick:r,disabled:p,children:[e(Pn,{class:"w-4 h-4 mr-2"}),"Cancel"]}),e("div",{class:"flex gap-3",children:[!i.trim()&&e("div",{class:"text-sm text-error flex items-center gap-1",children:[e(ts,{class:"w-4 h-4"}),"Deck name required"]}),!m.trim()&&e("div",{class:"text-sm text-error flex items-center gap-1",children:[e(ts,{class:"w-4 h-4"}),"JSON data required"]}),e("button",{type:"button",class:`btn btn-primary btn-lg transition-all duration-300 ${i.trim()&&m.trim()&&!v?"hover:scale-105 shadow-lg":"btn-disabled"}`,onClick:M,disabled:!i.trim()||!m.trim()||p||v,children:p?e(G,{children:[e("span",{class:"loading loading-spinner loading-sm"}),e("span",{class:"animate-pulse",children:"Importing..."})]}):e(G,{children:[e(fs,{class:"w-5 h-5 mr-2"}),"Import Deck",e(e0,{class:"w-4 h-4 ml-2"})]})})]})]})]})]})})}function dd({deck:r,onSave:t,onClose:n}){const[s,i]=g(r?.title||""),[a,o]=g(r?.description||""),[c,l]=g(r?.thumbnail||""),[d,u]=g(r?.cards||[]),[h,m]=g(!1),f=async x=>{m(!0);try{return(await V.images.postImagesUpload({image:x})).data.url}catch(k){return console.error("Failed to upload image:",k),null}finally{m(!1)}},p=x=>{x.preventDefault(),s.trim()&&t({title:s.trim(),description:a.trim(),thumbnail:c.trim(),cards:d})},b=()=>{u([...d,{word:[{text:"",type:"text"}],definition:[{text:"",type:"text"}]}])},y=(x,k,v)=>{const C=[...d];C[x][k]=v,u(C)},w=x=>{u(d.filter((k,v)=>v!==x))};return e("div",{class:"modal modal-open",children:e("div",{class:"modal-box max-w-4xl max-h-[90vh] overflow-y-auto",children:[e("h3",{class:"font-bold text-lg mb-4",children:r?"Edit Deck":"Create New Deck"}),e("form",{onSubmit:p,children:[e("div",{class:"space-y-4 mb-6",children:[e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"Title *"})}),e("input",{type:"text",class:"input input-bordered w-full",value:s,onInput:x=>i(x.currentTarget.value),maxLength:100,required:!0})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"Description"})}),e("textarea",{class:"textarea textarea-bordered w-full",value:a,onInput:x=>o(x.currentTarget.value),maxLength:500,rows:3})]})]}),e("div",{class:"form-control mb-6",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"Thumbnail Image"})}),e("input",{type:"file",class:"file-input file-input-bordered",accept:"image/*",disabled:h,onChange:async x=>{const k=x.currentTarget.files?.[0];if(k){const v=await f(k);v&&l(v)}}}),h&&e("span",{class:"loading loading-spinner loading-sm mt-2"})]}),e("div",{class:"mb-4",children:[e("div",{class:"flex justify-between items-center mb-2",children:[e("h4",{class:"font-semibold",children:["Cards (",d.length,"/1000)"]}),e("button",{type:"button",class:"btn btn-sm btn-outline",onClick:b,disabled:d.length>=1e3,children:[e(Ji,{class:"w-4 h-4 mr-1"}),"Add Card"]})]}),e("div",{class:"space-y-4 max-h-96 overflow-y-auto",children:d.map((x,k)=>e("div",{class:"border border-base-300 rounded-lg p-4",children:[e("div",{class:"flex justify-between items-center mb-2",children:[e("span",{class:"font-medium",children:["Card ",k+1]}),e("button",{type:"button",class:"btn btn-ghost btn-sm text-error",onClick:()=>w(k),children:e(ld,{class:"w-4 h-4"})})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"Word/Question"})}),e("textarea",{class:"textarea textarea-bordered textarea-sm",value:x.word.find(v=>v.type==="text")?.text||"",onInput:v=>{const C=v.currentTarget.value,I=x.word.filter(A=>A.type==="media");y(k,"word",[{text:C,type:"text"},...I])},placeholder:"Enter the word or question",rows:2}),e("div",{class:"mt-2",children:[e("label",{class:"label",children:e("span",{class:"label-text-alt",children:"Add Images"})}),e("input",{type:"file",class:"file-input file-input-bordered file-input-xs",accept:"image/*",multiple:!0,disabled:h,onChange:async v=>{const C=Array.from(v.currentTarget.files||[]),I=x.word.find(_=>_.type==="text"),A=x.word.filter(_=>_.type==="media"),S=[];for(const _ of C){const R=await f(_);R&&S.push({mediaUrl:R,type:"media"})}y(k,"word",[I||{text:"",type:"text"},...A,...S])}}),e("div",{class:"flex flex-wrap gap-2 mt-2",children:x.word.filter(v=>v.type==="media").map((v,C)=>e("div",{class:"relative",children:[e("img",{src:pn(v.mediaUrl),alt:`Word image ${C+1}`,class:"w-16 h-16 object-cover rounded"}),e("button",{type:"button",class:"btn btn-circle btn-xs absolute -top-2 -right-2",onClick:()=>{const I=x.word.filter((A,S)=>!(S>0&&x.word[S]===v));y(k,"word",I)},children:"Ã"})]},C))})]})]}),e("div",{children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"Definition/Answer"})}),e("textarea",{class:"textarea textarea-bordered textarea-sm",value:x.definition.find(v=>v.type==="text")?.text||"",onInput:v=>{const C=v.currentTarget.value,I=x.definition.filter(A=>A.type==="media");y(k,"definition",[{text:C,type:"text"},...I])},placeholder:"Enter the definition or answer",rows:2}),e("div",{class:"mt-2",children:[e("label",{class:"label",children:e("span",{class:"label-text-alt",children:"Add Images"})}),e("input",{type:"file",class:"file-input file-input-bordered file-input-xs",accept:"image/*",multiple:!0,disabled:h,onChange:async v=>{const C=Array.from(v.currentTarget.files||[]),I=x.definition.find(_=>_.type==="text"),A=x.definition.filter(_=>_.type==="media"),S=[];for(const _ of C){const R=await f(_);R&&S.push({mediaUrl:R,type:"media"})}y(k,"definition",[I||{text:"",type:"text"},...A,...S])}}),e("div",{class:"flex flex-wrap gap-2 mt-2",children:x.definition.filter(v=>v.type==="media").map((v,C)=>e("div",{class:"relative",children:[e("img",{src:pn(v.mediaUrl),alt:`Definition image ${C+1}`,class:"w-16 h-16 object-cover rounded"}),e("button",{type:"button",class:"btn btn-circle btn-xs absolute -top-2 -right-2",onClick:()=>{const I=x.definition.filter((A,S)=>!(S>0&&x.definition[S]===v));y(k,"definition",I)},children:"Ã"})]},C))})]})]})]})]},k))})]}),e("div",{class:"modal-action",children:[e("button",{type:"button",class:"btn",onClick:n,children:"Cancel"}),e("button",{type:"submit",class:"btn btn-primary",disabled:!s.trim(),children:r?"Update Deck":"Create Deck"})]})]})]})})}async function Ra(r){return(await V.quizspire.getQuizspireDecksById(r)).data}async function x0(r){const n=(await V.profile.getProfileByUserId(r)).data;return{id:n.id,name:n.name,image:n.image,email:"",emailVerified:!1,createdAt:n.createdAt,updatedAt:n.updatedAt,chessWins:n.chessWins,chessLosses:n.chessLosses,draughtsWins:n.draughtsWins,draughtsLosses:n.draughtsLosses,arithmeticScore:n.arithmeticScore,tetrisScore:n.tetrisScore,role:null,banned:n.banned,banReason:n.banReason,banExpires:n.banExpires,age:null}}async function C0(){return(await V.auth.apiGetSessionList()).data?.user||null}function N0(r){return{...r,cards:r.cards.map(t=>({...t,word:t.definition,definition:t.word}))}}function k0({id:r}){const{route:t,url:n}=_t(),[s,i]=g(null),[a,o]=g(null),[c,l]=g(null),[d,u]=g(!0),[h,m]=g(null),[f,p]=g(0),[b,y]=g(!1),[w,x]=g(!1),[k,v]=g(!1),[C,I]=g(!1),[A,S]=g(!1),[_,R]=g(!1),[M,j]=g(!1),W=Ye(null),Q=async()=>{if(!r){m("Invalid deck ID"),u(!1);return}try{const E=await Ra(r);if(i(E),E.userId)try{const K=await x0(E.userId);o(K);const be=await C0();l(be)}catch(K){console.error("Failed to fetch user profile:",K)}}catch(E){if(E.status===401){t("/login");return}m("Failed to load deck"),console.error(E)}finally{u(!1)}};ee(()=>{Q();const E=new URLSearchParams(window.location.search);I(E.get("fullscreen")==="true")},[r]),ee(()=>{const E=K=>{if(s)switch(K.key){case"ArrowLeft":K.preventDefault(),te();break;case"ArrowRight":K.preventDefault(),Y();break;case" ":K.preventDefault(),X();break}};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[s,f,b]);const te=()=>{s&&(p(E=>E>0?E-1:s.cards.length-1),y(!1))},Y=()=>{s&&(p(E=>E<s.cards.length-1?E+1:0),y(!1))},X=()=>{y(E=>!E)},q=()=>{I(E=>!E)};ee(()=>{const E=()=>{S(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",E),()=>document.removeEventListener("fullscreenchange",E)},[]);const oe=async(E,K)=>{try{await V.quizspire.putQuizspireDecksById(E,K),x(!1),Q()}catch(be){console.error("Failed to update deck:",be),m("Failed to update deck")}},F=async()=>{if(!(!s||!c||c.id!==a?.id))try{const E=N0(s);await oe(s._id,{cards:E.cards})}catch(E){console.error("Failed to reverse Q&A:",E),m("Failed to reverse Q&A")}},J=async()=>{if(!(!s||!c))try{const E={...s,title:`${s.title} (Copy)`,userId:c.id,_id:void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},K=await V.quizspire.postQuizspireDecks(E);v(!1),t(`/projects/quizspire/${K.data._id}`)}catch(E){console.error("Failed to copy deck:",E),m("Failed to copy deck to collection")}},ue=async()=>{try{await navigator.clipboard.writeText(window.location.href);const E=document.querySelector('.btn-outline[aria-label="Share deck"]');E&&(E.classList.add("btn-success"),E.textContent="Copied!",setTimeout(()=>{E.classList.remove("btn-success"),E.innerHTML='<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg>Share'},2e3))}catch(E){console.error("Failed to copy link:",E)}};if(d)return e("div",{class:"h-full bg-base-100 flex items-center justify-center",children:e("div",{class:"text-center",children:[e("span",{class:"loading loading-spinner loading-lg"}),e("p",{class:"mt-4 text-base-content/70",children:"Loading deck..."})]})});if(h||!s)return e("div",{class:"h-full bg-base-100 flex items-center justify-center",children:e("div",{class:"text-center",children:[e("div",{class:"alert alert-error max-w-md",children:e("span",{children:h||"Deck not found"})}),e("button",{class:"btn btn-primary mt-4",onClick:()=>t("/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back to Quizspire"]})]})});if(s.cards.length===0)return e("div",{class:"h-full bg-base-100 flex items-center justify-center",children:e("div",{class:"text-center",children:[e("div",{class:"alert alert-warning max-w-md",children:e("span",{children:"This deck has no cards"})}),e("button",{class:"btn btn-primary mt-4",onClick:()=>t("/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back to Quizspire"]})]})});const se=s.cards[f],xe=se.word,ce=se.definition,U=(E,K)=>E.length<=K?E:E.substring(0,K)+"...",B=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e("div",{class:"h-full bg-base-100",children:[e("div",{class:"bg-base-200 border-b border-base-300 px-4 py-3 w-full",children:e("div",{class:"navbar w-full min-h-0",children:[e("div",{class:"navbar-start",children:e("div",{class:"flex items-center gap-3",children:[e("button",{class:"btn btn-ghost btn-sm hover:scale-105 transition-transform duration-200",onClick:()=>t("/projects/quizspire"),"aria-label":"Back to Quizspire",children:e(vt,{class:"w-4 h-4"})}),e("div",{class:"cursor-pointer",onClick:()=>j(!0),children:[e("h1",{class:"text-lg font-bold text-base-content",children:s.title}),e("div",{class:"flex items-center gap-2 mt-1",children:[e("span",{class:"text-xs text-base-content/60",children:[s.cards.length," cards"]}),e("button",{class:"btn btn-ghost btn-xs hover:scale-105 transition-transform duration-200",onClick:()=>j(!0),"aria-label":"Deck information",children:e(h0,{class:"w-3 h-3"})})]})]})]})}),e("div",{class:"navbar-center",children:a&&e("a",{href:`/profile/${a.id}`,class:"flex items-center gap-2 link link-hover hover:scale-105 transition-transform duration-200",children:[e(et,{name:a.name,image:a.image||"",widthClass:"w-6"}),e("span",{class:"text-sm font-medium",children:a.name})]})}),e("div",{class:"flex gap-2 navbar-end",children:[e("button",{class:"btn btn-outline btn-sm hover:scale-105 transition-transform duration-200",onClick:ue,"aria-label":"Share deck",children:[e(Xi,{class:"w-4 h-4 mr-1"}),"Share"]}),c?.id===a?.id&&e("button",{class:"btn btn-accent btn-sm hover:scale-105 transition-transform duration-200",onClick:F,"aria-label":"Reverse Q&A",children:[e(Rf,{class:"w-4 h-4 mr-1"}),"Reverse Q&A"]}),c&&c.id!==a.id?e("button",{class:"btn btn-primary btn-sm hover:scale-105 transition-transform duration-200",onClick:()=>v(!0),"aria-label":"Add to collection",children:[e(o0,{class:"w-4 h-4 mr-1"}),"Add to Collection"]}):c?.id===a.id?e("button",{class:"btn btn-primary btn-sm hover:scale-105 transition-transform duration-200",onClick:()=>x(!0),"aria-label":"Edit deck",children:[e(id,{class:"w-4 h-4 mr-1"}),"Edit"]}):null]})]})}),e("div",{class:`flex flex-col items-center ${A?"pt-8":"pt-4"} h-[95%]`,children:[e("div",{class:"mb-4 text-base-content/70",children:[f+1," / ",s.cards.length]}),!C&&e("div",{class:"mb-4 text-center",children:e("h3",{class:"text-lg font-semibold text-base-content/80",children:b?"Definition/Answer":"Word/Question"})}),!C&&e("div",{class:"mb-8 w-full max-w-4xl",children:e("div",{class:"grid grid-cols-[repeat(auto-fit,minmax(120px,1fr))] gap-2 w-full",children:[e("button",{class:`btn btn-sm ${C?"btn-primary":"btn-info"}`,onClick:q,children:[e(Dn,{class:"w-4 h-4 mr-1"}),"Flashcards"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const E=new URLSearchParams;E.set("referrer",encodeURIComponent(n));const K=`/projects/quizspire/${s._id}/learn?${E}`;t(K)},children:[e(Mn,{class:"w-4 h-4 mr-1"}),"Learn"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const E=new URLSearchParams;E.set("referrer",encodeURIComponent(n));const K=`/projects/quizspire/${s._id}/test?${E}`;t(K)},children:[e(Qn,{class:"w-4 h-4 mr-1"}),"Test"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const E=new URLSearchParams;E.set("referrer",encodeURIComponent(n));const K=`/projects/quizspire/${s._id}/tetris?${E}`;t(K)},children:[e(ad,{class:"w-4 h-4 mr-1"}),"Tetris"]}),e("button",{class:"btn btn-info btn-sm",onClick:()=>{const E=new URLSearchParams;E.set("referrer",encodeURIComponent(n));const K=`/projects/quizspire/${s._id}/match?${E}`;t(K)},children:[e(cd,{class:"w-4 h-4 mr-1"}),"Match"]}),e("button",{class:"btn btn-success btn-sm",onClick:()=>{const E=new URLSearchParams;E.set("referrer",encodeURIComponent(n)),E.set("deckId",s._id);const K=`/projects/quizspire/host?${E}`;t(K)},children:[e(Mn,{class:"w-4 h-4 mr-1"}),"Host"]})]})}),e("div",{ref:W,class:`w-full ${C?"max-w-[90%] h-[75%] min-h-128":"max-w-4xl h-128"} cursor-pointer transition-transform duration-300 hover:scale-105 focus:outline focus:outline-primary`,onClick:X,role:"button",tabIndex:0,"aria-label":`Flashcard ${f+1}. Click or press space to flip.`,onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),X())},children:e("div",{class:`card bg-base-100 shadow h-full transition-transform duration-500 ${b?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d"},children:[e("div",{class:`card-body absolute inset-0 backface-hidden ${b?"opacity-0":"opacity-100"} transition-opacity duration-250`,children:e("div",{class:"h-full flex items-center justify-center",children:e("div",{class:`grid gap-2 w-full h-full max-h-full ${xe.length===1?"grid-cols-1 grid-rows-1":xe.length===2?"grid-cols-1 grid-rows-2 sm:grid-cols-2 sm:grid-rows-1":xe.length===3||xe.length===4?"grid-cols-2 grid-rows-2":"grid-cols-3 grid-rows-2"}`,children:xe.map((E,K)=>e("div",{class:`flex items-center justify-center p-2 ${xe.length===1||xe.length===2?"col-span-1 row-span-1":xe.length===3&&K===0?"col-span-2 row-span-1":"col-span-1 row-span-1"}`,children:E.type==="text"?e("p",{class:"text-lg text-center break-words",children:E.text}):e("img",{src:pn(E.mediaUrl),alt:"Word media",class:"w-full h-full max-w-full max-h-full object-contain rounded"})},K))})})}),e("div",{class:`card-body absolute inset-0 backface-hidden rotate-y-180 ${b?"opacity-100":"opacity-0"} transition-opacity duration-250`,children:e("div",{class:"h-full flex items-center justify-center",children:e("div",{class:`grid gap-2 w-full h-full max-h-full ${ce.length===1?"grid-cols-1 grid-rows-1":ce.length===2?"grid-cols-1 grid-rows-2 sm:grid-cols-2 sm:grid-rows-1":ce.length===3||ce.length===4?"grid-cols-2 grid-rows-2":"grid-cols-3 grid-rows-2"}`,children:ce.map((E,K)=>e("div",{class:`flex items-center justify-center p-2 ${ce.length===1||ce.length===2?"col-span-1 row-span-1":ce.length===3&&K===0?"col-span-2 row-span-1":"col-span-1 row-span-1"}`,children:E.type==="text"?e("p",{class:"text-lg text-center break-words",children:E.text}):e("img",{src:pn(E.mediaUrl),alt:"Definition media",class:"w-full h-full max-w-full max-h-full object-contain rounded"})},K))})})})]})}),e("div",{className:`relative h-16 flex items-center w-full ${C?"max-w-[90%]":"max-w-4xl"} mt-8`,children:[e("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 transform",children:e("button",{className:"btn btn-accent btn-lg",onClick:()=>{const E=new URLSearchParams;E.set("referrer",encodeURIComponent(n)),E.set("deckId",s._id);const K=`/projects/quizspire/host?${E}`;t(K)},"aria-label":"Host card",children:[e(Xi,{className:"w-6 h-6 mr-2"}),"Host"]})}),e("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform flex space-x-4",children:[e("button",{className:"btn btn-outline btn-lg",onClick:te,disabled:s.cards.length<=1,"aria-label":"Previous card",children:e(sd,{className:"w-6 h-6"})}),e("button",{className:"btn btn-primary btn-lg",onClick:X,"aria-label":"Flip card",children:[e(Lr,{className:"w-6 h-6 mr-2"}),"Flip"]}),e("button",{className:"btn btn-outline btn-lg",onClick:Y,disabled:s.cards.length<=1,"aria-label":"Next card",children:e(Ia,{className:"w-6 h-6"})})]}),e("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 transform",children:e("button",{className:"btn btn-outline btn-lg",onClick:q,"aria-label":C?"Exit card fullscreen":"Enter card fullscreen",children:C?e(p0,{className:"w-6 h-6"}):e(m0,{className:"w-6 h-6"})})})]}),e("div",{class:"mt-4 text-sm text-base-content/50 text-center",children:"Use arrow keys to navigate, spacebar to flip, escape to go back"})]}),M&&e("dialog",{className:"modal modal-open",children:e("div",{className:"modal-box max-w-md",children:[e("h3",{className:"font-bold text-lg mb-4",children:s.title}),e("div",{className:"space-y-4",children:[e("div",{children:[e("h4",{className:"font-semibold text-sm text-base-content/70 mb-2",children:"Description"}),e("div",{className:"text-sm",children:s.description.length>200?e("div",{children:[e("p",{className:"mb-2",children:_?s.description:U(s.description,200)}),e("button",{className:"text-xs text-primary hover:text-primary-focus transition-colors duration-200",onClick:()=>R(!_),children:_?"Show less":"Show more"})]}):e("p",{children:s.description})})]}),e("div",{className:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("h4",{className:"font-semibold text-sm text-base-content/70",children:"Cards"}),e("p",{className:"text-lg font-bold",children:s.cards.length})]}),e("div",{children:[e("h4",{className:"font-semibold text-sm text-base-content/70",children:"Created"}),e("p",{className:"text-sm",children:B(s.createdAt)})]})]}),a&&e("div",{children:[e("h4",{className:"font-semibold text-sm text-base-content/70 mb-2",children:"Author"}),e("a",{href:`/profile/${a.id}`,className:"flex items-center gap-2 link link-hover",children:[e(et,{name:a.name,image:a.image||"",widthClass:"w-6"}),e("span",{className:"text-sm",children:a.name})]})]})]}),e("div",{className:"modal-action",children:e("button",{className:"btn",onClick:()=>j(!1),children:"Close"})})]})}),w&&e(dd,{deck:s,onSave:E=>{s._id&&oe(s._id,E)},onClose:()=>x(!1)}),k&&e("dialog",{className:"modal modal-open",children:e("div",{className:"modal-box",children:[e("h3",{className:"font-bold text-lg",children:"Add to Collection"}),e("p",{className:"py-4",children:"Are you sure you want to add this deck to your collection? This will create a copy of the deck in your account."}),e("div",{className:"alert alert-warning",children:e("span",{children:["â ï¸ Note: Images in the deck will still be managed by ",a.name,": they cannot edit the images, but they can delete them."]})}),e("div",{className:"modal-action",children:[e("button",{className:"btn",onClick:()=>v(!1),children:"Cancel"}),e("button",{className:"btn btn-primary",onClick:J,children:"Add to Collection"})]})]})})]})}function S0({id:r}){const{route:t,query:n}=_t(),s=r,[i,a]=g(null),[o,c]=g(!0),[l,d]=g(null),[u,h]=g(null),[m,f]=g(null),[p,b]=g(!1),y=async()=>{if(!s){d("Invalid deck ID"),c(!1);return}try{const S=await Ra(s);a(S);const _=w(S);h({currentQuestionIndex:0,questions:_,answers:new Array(_.length).fill(null),answered:!1,completed:!1})}catch(S){if(S.status===401){t("/login");return}d("Failed to load deck"),console.error(S)}finally{c(!1)}},w=S=>{const _=[...S.cards].sort(()=>Math.random()-.5),R=[];for(const M of _){const j=M.word.find(q=>q.type==="text")?.text||"Question",W=M.definition.find(q=>q.type==="text")?.text||"Answer",Q=S.cards.filter(q=>q!==M).map(q=>q.definition.find(oe=>oe.type==="text")?.text).filter(q=>q&&q!==W).slice(0,3),te=[W,...Q];if(te.length<2)for(;te.length<4;)te.push(`Option ${te.length+1}`);const Y=te.sort(()=>Math.random()-.5),X=Y.indexOf(W);R.push({card:M,question:j,options:Y,correctIndex:X})}return R},x=S=>{if(p||!u)return;f(S),b(!0);const _=[...u.answers];_[u.currentQuestionIndex]=S,h({...u,answers:_,answered:!0})},k=()=>{u&&(u.currentQuestionIndex<u.questions.length-1?(h({...u,currentQuestionIndex:u.currentQuestionIndex+1,answered:!1}),f(null),b(!1)):h({...u,completed:!0}))},v=()=>{if(!i)return;const S=w(i);h({currentQuestionIndex:0,questions:S,answers:new Array(S.length).fill(null),answered:!1,completed:!1}),f(null),b(!1)};if(ee(()=>{y()},[s]),o)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"flex justify-center",children:e("span",{class:"loading loading-spinner loading-lg"})})});if(l||!i)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"text-center",children:[e("div",{class:"alert alert-error max-w-md",children:e("span",{children:l||"Deck not found"})}),e("button",{class:"btn btn-primary mt-4",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back"]})]})});if(i.cards.length===0)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"text-center",children:[e("div",{class:"alert alert-warning max-w-md",children:e("span",{children:"This deck has no cards"})}),e("button",{class:"btn btn-primary mt-4",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back"]})]})});if(i.cards.length<2)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"text-center",children:[e("div",{class:"alert alert-warning max-w-md",children:e("span",{children:"This deck needs at least 2 cards for the learn mode"})}),e("button",{class:"btn btn-primary mt-4",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back"]})]})});if(!u)return null;const C=(u.currentQuestionIndex+(u.answered?1:0))/u.questions.length*100,I=u.answers.filter((S,_)=>S!==null&&S===u.questions[_].correctIndex).length;if(u.completed)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"max-w-2xl mx-auto",children:[e("div",{class:"text-center mb-8",children:[e("h1",{class:"text-3xl font-bold mb-2",children:"Quiz Complete!"}),e("p",{class:"text-lg text-base-content/70",children:[i.title," - Learn Mode"]})]}),e("div",{class:"card bg-base-100 shadow-xl",children:e("div",{class:"card-body text-center",children:[e("div",{class:"stats stats-vertical lg:stats-horizontal shadow mb-6",children:[e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Questions"}),e("div",{class:"stat-value",children:u.questions.length})]}),e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Correct"}),e("div",{class:"stat-value text-success",children:I})]}),e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Accuracy"}),e("div",{class:"stat-value text-primary",children:[Math.round(I/u.questions.length*100),"%"]})]})]}),e("div",{class:"flex gap-4 justify-center",children:[e("button",{class:"btn btn-primary btn-lg",onClick:v,children:[e(Lr,{class:"w-5 h-5 mr-2"}),"Try Again"]}),e("button",{class:"btn btn-outline btn-lg",onClick:()=>{t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire")},children:[e(vt,{class:"w-5 h-5 mr-2"}),"Back"]})]})]})})]})});const A=u.questions[u.currentQuestionIndex];return e(G,{children:[e(Te,{children:[e("title",{children:"Quizspire Learn - Study Mode"}),e("meta",{name:"description",content:"Learn flashcards with Quizspire's interactive study mode. Match questions to answers with immediate feedback and progress tracking for effective memorization."}),e("meta",{name:"keywords",content:"quizspire learn, flashcards study, memorization, spaced repetition, learning mode"}),e("link",{rel:"canonical",href:`/projects/quizspire/${r}/learn`}),e("meta",{property:"og:title",content:"Quizspire Learn - Study Mode"}),e("meta",{property:"og:description",content:"Learn flashcards with Quizspire's interactive study mode. Match questions to answers with immediate feedback and progress tracking for effective memorization."}),e("meta",{property:"og:image",content:"/quizspire.png"}),e("meta",{property:"og:url",content:`/projects/quizspire/${r}/learn`}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Quizspire Learn - Study Mode"}),e("meta",{name:"twitter:description",content:"Learn flashcards with Quizspire's interactive study mode. Match questions to answers with immediate feedback and progress tracking for effective memorization."}),e("meta",{name:"twitter:image",content:"/quizspire.png"})]}),e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"max-w-2xl mx-auto",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("button",{class:"btn btn-ghost",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back"]}),e("div",{class:"text-center",children:[e("h1",{class:"text-xl font-bold",children:i.title}),e("p",{class:"text-sm text-base-content/70",children:"Learn Mode"})]}),e("div",{class:"text-right",children:[e("div",{class:"text-sm font-medium",children:[u.currentQuestionIndex+1," / ",u.questions.length]}),e("div",{class:"text-xs text-base-content/50",children:[I," correct"]})]})]}),e("div",{class:"mb-8",children:e("progress",{class:"progress progress-primary w-full",value:C,max:"100"})}),e("div",{class:"card bg-base-100 shadow-xl mb-6",children:e("div",{class:"card-body",children:[e("h2",{class:"card-title text-xl mb-4",children:"Match the definition:"}),e("div",{class:"text-center",children:e("div",{class:"bg-base-200 rounded-lg p-6 mb-6",children:e("p",{class:"text-2xl font-semibold",children:A.question})})}),e("div",{class:"grid grid-cols-1 gap-3",children:A.options.map((S,_)=>{let R="btn btn-outline btn-block justify-start h-auto py-4";return p?_===A.correctIndex?R+=" btn-success":_===m&&(R+=" btn-error"):_===m&&(R+=" btn-primary"),e("button",{class:R,onClick:()=>x(_),disabled:p,children:e("div",{class:"flex items-center w-full",children:[e("span",{class:"flex-shrink-0 w-8 h-8 rounded-full bg-base-300 flex items-center justify-center mr-3 font-medium",children:String.fromCharCode(65+_)}),e("span",{class:"text-left flex-1",children:S}),p&&_===A.correctIndex&&e(Ln,{class:"w-5 h-5 ml-2 text-success"}),p&&_===m&&_!==A.correctIndex&&e(Pn,{class:"w-5 h-5 ml-2 text-error"})]})},_)})})]})}),p&&e("div",{class:"text-center",children:e("button",{class:"btn btn-primary btn-lg",onClick:k,children:u.currentQuestionIndex<u.questions.length-1?e(G,{children:["Next Question",e(Ia,{class:"w-5 h-5 ml-2"})]}):"View Results"})})]})})]})}const T0=r=>{try{const t=atob(r),[n,s]=t.split("-");return{questionCount:parseInt(n),testType:s}}catch{return null}},E0=r=>btoa(`${r.questionCount}-${r.testType}`);function A0({deck:r,onStart:t,onClose:n}){const[s,i]=g(Math.min(10,r.cards.length)),[a,o]=g("match"),[c,l]=g(!1),[d,u]=g(""),h=r.cards.length,m=p=>{const b=E0(p),y=`${window.location.origin}${window.location.pathname}?test=${b}`;u(y),l(!0),t(p)},f=async()=>{try{await navigator.clipboard.writeText(d)}catch(p){console.error("Failed to copy:",p)}};return c?e("div",{class:"modal modal-open",children:e("div",{class:"modal-box animate-in fade-in-0 zoom-in-95 duration-300",children:[e("h3",{class:"font-bold text-xl mb-4 flex items-center gap-2",children:[e(Qn,{class:"text-primary"}),"Test Link Generated!"]}),e("div",{class:"alert alert-success mb-4",children:[e(Ln,{class:"w-5 h-5"}),e("span",{children:"Your test has been configured. Share this link to let others take the same test!"})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"Shareable Test Link"})}),e("div",{class:"join",children:[e("input",{type:"text",class:"input input-bordered join-item flex-1",value:d,readonly:!0}),e("button",{class:"btn btn-primary join-item",onClick:f,children:[e(Dn,{class:"w-4 h-4"}),"Copy"]})]})]}),e("div",{class:"modal-action",children:[e("button",{class:"btn btn-outline",onClick:()=>l(!1),children:"Back"}),e("button",{class:"btn btn-primary",onClick:n,children:"Start Test"})]})]})}):e("div",{class:"modal modal-open",children:e("div",{class:"modal-box max-w-lg animate-in fade-in-0 zoom-in-95 duration-300",children:[e("h3",{class:"font-bold text-2xl mb-6 flex items-center gap-3",children:[e("div",{class:"p-2 bg-primary/10 rounded-full",children:e(Qn,{class:"w-6 h-6 text-primary"})}),"Configure Your Test"]}),e("div",{class:"space-y-6",children:[e("div",{class:"card bg-base-100 shadow-sm border",children:e("div",{class:"card-body p-4",children:[e("div",{class:"flex items-center gap-3 mb-3",children:[e(Dn,{class:"w-5 h-5 text-primary"}),e("span",{class:"font-semibold",children:"Number of Questions"})]}),e("input",{type:"range",min:"1",max:h,value:s,class:"range range-primary range-lg w-full",onInput:p=>i(parseInt(p.currentTarget.value))}),e("div",{class:"flex justify-between text-sm text-base-content/70 mt-2",children:[e("span",{class:"badge badge-outline",children:"1"}),e("span",{class:"badge badge-primary badge-lg font-bold",children:s}),e("span",{class:"badge badge-outline",children:h})]})]})}),e("div",{class:"card bg-base-100 shadow-sm border",children:e("div",{class:"card-body p-4",children:[e("div",{class:"flex items-center gap-3 mb-3",children:[e(Mn,{class:"w-5 h-5 text-primary"}),e("span",{class:"font-semibold",children:"Test Type"})]}),e("div",{class:"grid grid-cols-2 gap-3",children:[e("div",{class:`card cursor-pointer transition-all duration-200 ${a==="match"?"bg-primary text-primary-content shadow-lg scale-105":"bg-base-100 hover:bg-base-200"}`,onClick:()=>o("match"),children:e("div",{class:"card-body p-4 text-center",children:[e("div",{class:"text-2xl mb-2",children:"ð¯"}),e("div",{class:"font-bold",children:"Match"}),e("div",{class:"text-xs opacity-80",children:"Multiple Choice"})]})}),e("div",{class:`card cursor-pointer transition-all duration-200 ${a==="typing"?"bg-primary text-primary-content shadow-lg scale-105":"bg-base-100 hover:bg-base-200"}`,onClick:()=>o("typing"),children:e("div",{class:"card-body p-4 text-center",children:[e("div",{class:"text-2xl mb-2",children:"â¨ï¸"}),e("div",{class:"font-bold",children:"Typing"}),e("div",{class:"text-xs opacity-80",children:"Type Answer"})]})})]}),e("div",{class:"text-sm text-base-content/70 mt-3 p-3 bg-base-200 rounded-lg",children:a==="match"?"Select the correct answer from multiple choices. Perfect for quick testing!":"Type the exact answer as shown. Great for memorization practice!"})]})})]}),e("div",{class:"modal-action mt-8",children:[e("button",{class:"btn btn-ghost",onClick:n,children:[e(vt,{class:"w-4 h-4 mr-2"}),"Cancel"]}),e("button",{class:"btn btn-primary btn-lg",onClick:()=>m({questionCount:s,testType:a}),children:[e(Mn,{class:"w-5 h-5 mr-2"}),"Generate Test Link"]})]})]})})}function O0({questions:r,onAnswer:t,onComplete:n}){const[s,i]=g(0),[a,o]=g({}),[c]=g(Date.now()),[l,d]=g(null),[u,h]=g(!1),m=r[s],f=(s+1)/r.length*100,p=(b,y)=>{if(u)return;d(y),h(!0);const w={...a,[m.id]:b};o(w),t(m.id,b),setTimeout(()=>{s<r.length-1?(i(s+1),d(null),h(!1)):n()},1500)};return e("div",{class:"min-h-full bg-gradient-to-br from-primary/5 via-base-100 to-secondary/5",children:e("div",{class:"container mx-auto px-4 py-8 max-w-4xl",children:[e("div",{class:"text-center mb-8",children:[e("div",{class:"inline-flex items-center gap-3 mb-4",children:[e("div",{class:"p-3 bg-primary/10 rounded-full",children:e(Qn,{class:"w-8 h-8 text-primary"})}),e("div",{children:[e("h1",{class:"text-3xl font-bold",children:"Match Test"}),e("p",{class:"text-base-content/70",children:"Multiple Choice Questions"})]})]}),e("div",{class:"max-w-md mx-auto mb-6",children:[e("div",{class:"flex justify-between text-sm mb-2",children:[e("span",{children:["Question ",s+1," of ",r.length]}),e("span",{children:[Math.round(f),"% Complete"]})]}),e("progress",{class:"progress progress-primary w-full h-3",value:f,max:"100"})]})]}),e("div",{class:"card bg-base-100 shadow-2xl border animate-in fade-in-0 slide-in-from-bottom-4 duration-500",children:e("div",{class:"card-body p-8",children:[e("div",{class:"text-center mb-8",children:[e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4",children:e("span",{class:"text-2xl font-bold text-primary",children:s+1})}),e("h2",{class:"card-title text-2xl justify-center mb-2",children:m.question}),e("p",{class:"text-base-content/60",children:"Select the correct answer"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.options.map((b,y)=>{let w="btn btn-outline justify-start h-auto py-4 px-6 transition-all duration-200 hover:scale-105",x=!1,k=l===y;return u?(x=b===m.answer,x?w+=" btn-success text-success-content":k?w+=" btn-error text-error-content":w+=" btn-ghost opacity-50"):k&&(w+=" btn-primary"),e("button",{class:`group ${w}`,onClick:()=>p(b,y),disabled:u,children:e("div",{class:"flex items-center w-full",children:[e("div",{class:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-4 font-bold text-lg transition-all ${u?x?"bg-success text-success-content":k?"bg-error text-error-content":"bg-base-300":k?"bg-primary text-primary-content":"bg-base-200 group-hover:bg-base-300"}`,children:String.fromCharCode(65+y)}),e("span",{class:"text-left flex-1",children:b}),u&&x&&e(Ln,{class:"w-6 h-6 ml-2 text-success animate-in zoom-in-50 duration-300"}),u&&k&&!x&&e(Pn,{class:"w-6 h-6 ml-2 text-error animate-in zoom-in-50 duration-300"})]})},y)})}),u&&e("div",{class:"text-center mt-6 animate-in fade-in-0 slide-in-from-bottom-2 duration-500",children:e("div",{class:`alert ${l!==null&&m.options[l]===m.answer?"alert-success":"alert-error"}`,children:e("div",{class:"flex items-center justify-center gap-2",children:l!==null&&m.options[l]===m.answer?e(G,{children:[e(Ln,{class:"w-5 h-5"}),e("span",{class:"font-semibold",children:"Correct!"})]}):e(G,{children:[e(Pn,{class:"w-5 h-5"}),e("span",{class:"font-semibold",children:"Incorrect"})]})})})})]})})]})})}function D0({questions:r,onAnswer:t,onComplete:n}){const[s,i]=g(0),[a,o]=g({}),[c,l]=g(""),[d]=g(Date.now()),[u,h]=g(!1),[m,f]=g(!1),p=r[s],b=(s+1)/r.length*100,y=()=>{if(!c.trim())return;const x=c.toLowerCase().trim()===p.answer.toLowerCase().trim();f(x),h(!0);const k={...a,[p.id]:c};o(k),t(p.id,c),setTimeout(()=>{s<r.length-1?(i(s+1),l(""),h(!1)):n()},2e3)},w=x=>{x.key==="Enter"&&y()};return e("div",{class:"min-h-full bg-gradient-to-br from-secondary/5 via-base-100 to-accent/5",children:e("div",{class:"container mx-auto px-4 py-8 max-w-4xl",children:[e("div",{class:"text-center mb-8",children:[e("div",{class:"inline-flex items-center gap-3 mb-4",children:[e("div",{class:"p-3 bg-secondary/10 rounded-full",children:e(Dn,{class:"w-8 h-8 text-secondary"})}),e("div",{children:[e("h1",{class:"text-3xl font-bold",children:"Typing Test"}),e("p",{class:"text-base-content/70",children:"Type the exact answer"})]})]}),e("div",{class:"max-w-md mx-auto mb-6",children:[e("div",{class:"flex justify-between text-sm mb-2",children:[e("span",{children:["Question ",s+1," of ",r.length]}),e("span",{children:[Math.round(b),"% Complete"]})]}),e("progress",{class:"progress progress-secondary w-full h-3",value:b,max:"100"})]})]}),e("div",{class:"card bg-base-100 shadow-2xl border animate-in fade-in-0 slide-in-from-bottom-4 duration-500",children:e("div",{class:"card-body p-8",children:[e("div",{class:"text-center mb-8",children:[e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-secondary/10 rounded-full mb-4",children:e("span",{class:"text-2xl font-bold text-secondary",children:s+1})}),e("h2",{class:"card-title text-2xl justify-center mb-2",children:p.question}),e("p",{class:"text-base-content/60",children:"Type the answer exactly as shown"})]}),e("div",{class:"max-w-md mx-auto",children:[e("div",{class:"form-control",children:e("input",{type:"text",class:`input input-bordered input-lg text-center text-xl py-6 transition-all duration-200 ${u?m?"input-success":"input-error":""}`,placeholder:"Type your answer...",value:c,onInput:x=>l(x.currentTarget.value),onKeyPress:w,autoFocus:!0,disabled:u})}),u&&e("div",{class:"text-center mt-6 animate-in fade-in-0 slide-in-from-bottom-2 duration-500",children:[e("div",{class:`alert ${m?"alert-success":"alert-error"}`,children:e("div",{class:"flex items-center justify-center gap-2",children:m?e(G,{children:[e(Ln,{class:"w-5 h-5"}),e("span",{class:"font-semibold",children:"Correct!"})]}):e(G,{children:[e(Pn,{class:"w-5 h-5"}),e("span",{class:"font-semibold",children:"Incorrect"})]})})}),!m&&e("div",{class:"mt-2 text-sm",children:[e("span",{class:"font-medium",children:"Correct answer: "}),e("span",{class:"font-mono",children:p.answer})]})]}),!u&&e("div",{class:"text-center mt-6",children:e("button",{class:"btn btn-secondary btn-lg px-8",onClick:y,disabled:!c.trim(),children:s<r.length-1?"Submit & Next":"Finish Test"})})]})]})})]})})}function L0({result:r,questions:t,testType:n,onRestart:s,onBack:i}){const a=Math.round(r.score/r.totalQuestions*100),o=Math.round(r.timeTaken/6e4*10)/10,l=a>=90?{message:"Outstanding!",color:"text-success",icon:"ð"}:a>=80?{message:"Great job!",color:"text-success",icon:"ð"}:a>=70?{message:"Good work!",color:"text-warning",icon:"ð"}:a>=60?{message:"Keep practicing!",color:"text-warning",icon:"ð"}:{message:"Room for improvement",color:"text-error",icon:"ðª"};return e("div",{class:"min-h-full bg-gradient-to-br from-base-100 via-base-200/20 to-base-100",children:e("div",{class:"container mx-auto px-4 py-8 max-w-6xl",children:[e("div",{class:"text-center mb-12",children:[e("div",{class:"inline-flex items-center gap-4 mb-6",children:[e("div",{class:"text-6xl",children:l.icon}),e("div",{children:[e("h1",{class:"text-4xl font-bold mb-2",children:"Test Complete!"}),e("p",{class:`text-xl font-semibold ${l.color}`,children:l.message})]})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e("div",{class:"card bg-base-100 shadow-xl border",children:e("div",{class:"card-body text-center",children:[e("div",{class:"radial-progress text-primary mb-4 mx-auto",style:`--value:${a}; --size:4rem; --thickness:0.5rem;`,children:e("span",{class:"text-lg font-bold",children:[a,"%"]})}),e("h3",{class:"font-semibold",children:"Accuracy"}),e("p",{class:"text-sm text-base-content/70",children:[r.score," out of ",r.totalQuestions," correct"]})]})}),e("div",{class:"card bg-base-100 shadow-xl border",children:e("div",{class:"card-body text-center",children:[e("div",{class:"text-4xl mb-4",children:"â±ï¸"}),e("h3",{class:"font-semibold",children:"Time Taken"}),e("p",{class:"text-2xl font-bold text-primary",children:[o,"m"]}),e("p",{class:"text-sm text-base-content/70",children:"minutes"})]})}),e("div",{class:"card bg-base-100 shadow-xl border",children:e("div",{class:"card-body text-center",children:[e("div",{class:`text-4xl mb-4 ${a>=70?"text-success":a>=50?"text-warning":"text-error"}`,children:(a>=70||a>=50,"ð¯")}),e("h3",{class:"font-semibold",children:"Score"}),e("p",{class:"text-2xl font-bold",children:[r.score,"/",r.totalQuestions]}),e("p",{class:"text-sm text-base-content/70",children:"questions"})]})})]}),e("div",{class:"flex flex-col sm:flex-row gap-4 justify-center",children:[e("button",{class:"btn btn-primary btn-lg",onClick:s,children:[e(Lr,{class:"w-5 h-5 mr-2"}),"Take Test Again"]}),e("button",{class:"btn btn-outline btn-lg",onClick:i,children:[e(vt,{class:"w-5 h-5 mr-2"}),"Back to Deck"]})]})]}),e("div",{class:"card bg-base-100 shadow-xl border",children:e("div",{class:"card-body",children:[e("h2",{class:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e(Dn,{class:"w-6 h-6"}),"Review Your Answers"]}),e("div",{class:"space-y-6",children:r.answers.map((d,u)=>{const h=t.find(f=>f.id===d.questionId);if(!h)return null;const m=d.isCorrect;return e("div",{class:`border-l-4 rounded-lg p-6 transition-all duration-300 hover:shadow-md ${m?"border-l-success bg-success/5":"border-l-error bg-error/5"}`,children:e("div",{class:"flex items-start gap-4",children:[e("div",{class:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${m?"bg-success text-success-content":"bg-error text-error-content"}`,children:m?e(Ln,{class:"w-6 h-6"}):e(Pn,{class:"w-6 h-6"})}),e("div",{class:"flex-1",children:[e("div",{class:"flex items-center gap-2 mb-3",children:[e("span",{class:"badge badge-outline",children:["Question ",u+1]}),e("span",{class:`badge ${m?"badge-success":"badge-error"}`,children:m?"Correct":"Incorrect"})]}),e("h3",{class:"font-semibold text-lg mb-4",children:h.question}),e("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{class:"space-y-2",children:[e("p",{class:"text-sm font-medium text-base-content/70 uppercase tracking-wide",children:"Your Answer"}),e("div",{class:`p-3 rounded-lg border-2 ${m?"border-success bg-success/10 text-success":"border-error bg-error/10 text-error"}`,children:e("p",{class:"font-medium",children:d.userAnswer||"(no answer)"})})]}),e("div",{class:"space-y-2",children:[e("p",{class:"text-sm font-medium text-base-content/70 uppercase tracking-wide",children:"Correct Answer"}),e("div",{class:"p-3 rounded-lg border-2 border-success bg-success/10 text-success",children:e("p",{class:"font-medium",children:d.correctAnswer})})]})]})]})]})},d.questionId)})})]})})]})})}function M0({deckId:r}){const{route:t,query:n}=_t(),s=n.test,[i,a]=g(null),[o,c]=g(!0),[l,d]=g(null),[u,h]=g(!1),[m,f]=g(!1),[p,b]=g(!1),[y,w]=g([]),[x,k]=g({}),[v,C]=g(null),[I,A]=g(null),[S,_]=g(null);ee(()=>{(async()=>{try{const X=await Ra(r);if(a(X),s){const q=T0(s);if(q){const oe=R(X,q);w(oe),C(q),f(!0),_(Date.now())}}}catch(X){if(X.status===401){t("/login");return}d("Failed to load deck"),console.error(X)}finally{c(!1)}})()},[r,s]);const R=(Y,X,q)=>{let oe=[...Y.cards];oe=oe.sort(()=>Math.random()-.5);const F=oe.slice(0,X.questionCount);return X.testType==="match"?F.map((J,ue)=>{const se=J.word.find(B=>B.type==="text")?.text||"",xe=J.definition.find(B=>B.type==="text")?.text||"",ce=F.filter((B,E)=>E!==ue).map(B=>B.definition.find(E=>E.type==="text")?.text||"").filter(B=>B&&B!==xe).slice(0,3),U=[xe,...ce].sort(()=>Math.random()-.5);return{id:`q-${ue}`,question:se,answer:xe,options:U}}):F.map((J,ue)=>({id:`q-${ue}`,question:J.word.find(se=>se.type==="text")?.text||"",answer:J.definition.find(se=>se.type==="text")?.text||""}))},M=Y=>{if(!i||i.cards.length<Y.questionCount){d("Not enough cards in deck");return}const X=R(i,Y);w(X),C(Y),h(!1),f(!0),_(Date.now())},j=(Y,X)=>{k(q=>({...q,[Y]:X})),w(q=>q.map(oe=>oe.id===Y?{...oe,userAnswer:X}:oe))},W=()=>{if(!S||!y.length)return;const X=Date.now()-S,q=y.map(F=>({questionId:F.id,userAnswer:F.userAnswer||"",correctAnswer:F.answer,isCorrect:(F.userAnswer||"").toLowerCase().trim()===F.answer.toLowerCase().trim()})),oe=q.filter(F=>F.isCorrect).length;A({score:oe,totalQuestions:y.length,timeTaken:X,answers:q}),b(!0)},Q=()=>{f(!1),b(!1),w([]),A(null),_(null),h(!0)},te=()=>{t(n.referrer&&decodeURIComponent(n.referrer)||`/projects/quizspire/${r}`)};return o?e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"flex justify-center",children:e("span",{class:"loading loading-spinner loading-lg"})})}):l||!i?e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"alert alert-error max-w-md mx-auto",children:e("span",{children:l||"Deck not found"})}),e("div",{class:"text-center mt-4",children:e("button",{class:"btn btn-primary",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back"]})})]}):i.cards.length<2?e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"alert alert-warning max-w-md mx-auto",children:e("span",{children:"This deck needs at least 2 cards to take a test"})}),e("div",{class:"text-center mt-4",children:e("button",{class:"btn btn-primary",onClick:()=>t(`/projects/quizspire/${r}`),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back to Deck"]})})]}):e("div",{class:"min-h-full bg-base-100",children:[e("div",{class:"bg-base-200 border-b border-base-300 px-4 py-3",children:e("div",{class:"navbar w-full min-h-0",children:e("div",{class:"navbar-start",children:[e("button",{class:"btn btn-ghost btn-sm",onClick:te,children:e(vt,{class:"w-4 h-4"})}),e("div",{class:"ml-4",children:[e("h1",{class:"text-xl font-bold",children:i.title}),e("p",{class:"text-sm text-base-content/70",children:"Test Mode"})]})]})})}),!m&&!p&&e("div",{class:"container mx-auto px-4 py-8 text-center",children:e("div",{class:"max-w-md mx-auto",children:[e(Qn,{class:"w-16 h-16 mx-auto mb-4 text-primary"}),e("h1",{class:"text-2xl font-bold mb-4",children:"Ready to Test?"}),e("p",{class:"text-base-content/70 mb-6",children:"Put your knowledge to the test with flashcards from this deck."}),e("button",{class:"btn btn-primary btn-lg",onClick:()=>h(!0),children:[e(Mn,{class:"w-5 h-5 mr-2"}),"Start Test"]})]})}),m&&!p&&v&&(v.testType==="match"?e(O0,{questions:y,onAnswer:j,onComplete:W}):e(D0,{questions:y,onAnswer:j,onComplete:W})),p&&I&&e(L0,{result:I,questions:y,testType:v?.testType||"match",onRestart:Q,onBack:te}),u&&e(A0,{deck:i,onStart:M,onClose:()=>h(!1)})]})}function ud({intermediateCallback:r}){return e(G,{children:[e(Te,{children:[e("title",{children:"Tetris - Classic Block Puzzle Game"}),e("meta",{name:"description",content:"Play the classic Tetris block puzzle game built with PixiJS. Experience real-time gameplay with high score tracking and smooth controls."}),e("meta",{name:"keywords",content:"tetris, puzzle game, block game, pixijs, classic game, arcade"}),e("link",{rel:"canonical",href:"/projects/tetris"}),e("meta",{property:"og:title",content:"Tetris - Classic Block Puzzle Game"}),e("meta",{property:"og:description",content:"Play the classic Tetris block puzzle game built with PixiJS. Experience real-time gameplay with high score tracking and smooth controls."}),e("meta",{property:"og:image",content:"/colorful-tetris.png"}),e("meta",{property:"og:url",content:"/projects/tetris"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Tetris - Classic Block Puzzle Game"}),e("meta",{name:"twitter:description",content:"Play the classic Tetris block puzzle game built with PixiJS. Experience real-time gameplay with high score tracking and smooth controls."}),e("meta",{name:"twitter:image",content:"/colorful-tetris.png"})]}),e(P0,{intermediateCallback:r})]})}function P0({intermediateCallback:r}){const{query:t}=_t();if(!t.reloaded){const s=new URL(window.location.href);return s.searchParams.set("reloaded","true"),window.location.href=s.toString(),e("p",{onClick:()=>{const i=new URL(window.location.href);i.searchParams.set("reloaded","true"),window.location.href=i.toString()},children:"Click To Manually Load Tetris"})}ee(()=>{window.tetrisConfig={logHighScore:n,intermediateCallback:r};const s=document.createElement("script");return s.src="/dist/bundle.js",s.async=!0,document.body.appendChild(s),()=>{console.log("Unmounting Tetris"),window.tetrisUnload&&(console.log("Found & running Tetris unload function"),window.tetrisUnload()),document.body.contains(s)&&document.body.removeChild(s)}},[]);async function n(s){const i=(await V.profile.postProfileLogTetris({finalScore:s})).data;console.log("Update Tetris high score message:",i.message)}return e("div",{class:"h-full",children:e("canvas",{id:"game-canvas",class:"mx-auto mt-4"})})}function I0({id:r}){const{route:t,query:n}=_t(),[s,i]=g(null),[a,o]=g(!0),[c,l]=g(null),[d,u]=g(!1),[h,m]=g(null),[f,p]=g({correct:!1,show:!1}),[b,y]=g(null),[w,x]=g(0),k=async()=>{try{const S=await V.quizspire.getQuizspireDecksById(r);i(S.data)}catch(S){if(S.status===401){t("/login");return}l("Failed to load deck"),console.error(S)}finally{o(!1)}};ee(()=>{k()},[r]);const v=()=>{if(!s||s.cards.length===0)return null;const S=s.cards[Math.floor(Math.random()*s.cards.length)],_=S.definition.find(W=>W.type==="text")?.text||"",R=S.word.find(W=>W.type==="text")?.text||"",M=s.cards.filter(W=>W!==S).map(W=>W.definition.find(Q=>Q.type==="text")?.text||"").filter(W=>W&&W!==_).slice(0,3);for(;M.length<3;)M.push(`Option ${M.length+1}`);const j=[_,...M].sort(()=>Math.random()-.5);return{question:R,answers:j,correctAnswer:_}},C=S=>{p({correct:S,show:!0}),setTimeout(()=>{if(p({correct:!1,show:!1}),S)u(!1),b&&(b(),y(null));else{const _=v();_?m(_):(u(!1),b&&(b(),y(null)))}},1500)},I=S=>{const _=S===h.correctAnswer;C(_)},A=async()=>(console.log("RUNNING INTERMEDIATE CALLBACK"),new Promise(S=>{x(_=>{const R=_+1;if(R%5===0){const M=v();if(M)return m(M),u(!0),y(()=>S),R}return S(),R})}));return a?e("div",{class:"h-full bg-base-100 flex items-center justify-center",children:e("div",{class:"text-center",children:[e("span",{class:"loading loading-spinner loading-lg"}),e("p",{class:"mt-4 text-base-content/70",children:"Loading Tetris Quiz..."})]})}):c||!s?e("div",{class:"h-full bg-base-100 flex items-center justify-center",children:e("div",{class:"text-center",children:[e("div",{class:"alert alert-error max-w-md",children:e("span",{children:c||"Deck not found"})}),e("button",{class:"btn btn-primary mt-4",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),children:[e(vt,{class:"w-4 h-4 mr-2"}),"Back"]})]})}):e("div",{class:"h-full bg-base-100 relative",children:[e("div",{class:"bg-base-200 border-b border-base-300 px-4 py-3",children:e("div",{class:"navbar w-full min-h-0",children:e("div",{class:"navbar-start",children:[e("button",{class:"btn btn-ghost btn-sm",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||"/projects/quizspire"),"aria-label":"Back",children:e(vt,{class:"w-4 h-4"})}),e("div",{class:"ml-4",children:[e("h1",{class:"text-xl font-bold",children:[s.title," - Tetris Quiz"]}),e("p",{class:"text-sm text-base-content/70",children:"Answer questions correctly to keep playing!"})]})]})})}),e("div",{class:"h-[calc(100%-4rem)]",children:e(ud,{intermediateCallback:A})}),d&&h&&e("div",{class:"modal modal-open",children:e("div",{class:"modal-box max-w-2xl w-full mx-4",children:[e("div",{class:"flex items-center gap-3 mb-6",children:[e("div",{class:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e("span",{class:"text-2xl",children:"â"})}),e("div",{children:[e("h3",{class:"font-bold text-xl text-primary",children:"Quiz Question!"}),e("p",{class:"text-sm text-base-content/60",children:"Answer correctly to continue playing"})]})]}),e("div",{class:"bg-base-200/50 rounded-lg p-6 mb-6 border border-base-300",children:e("p",{class:"text-lg md:text-xl font-medium leading-relaxed whitespace-normal break-words",children:h.question})}),e("div",{class:"space-y-3 mb-6",children:h.answers.map((S,_)=>e("button",{class:"btn btn-outline w-full min-h-fit h-auto py-4 px-6 text-left justify-start hover:btn-primary hover:border-primary transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>I(S),disabled:f.show,children:e("div",{class:"flex items-start gap-3 w-full",children:[e("span",{class:"badge badge-outline badge-lg group-hover:badge-primary flex-shrink-0 mt-0.5",children:String.fromCharCode(65+_)}),e("span",{class:"whitespace-normal break-words leading-relaxed text-sm md:text-base",children:S})]})},_))}),f.show&&e("div",{class:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:e("div",{class:`alert ${f.correct?"alert-success":"alert-error"} shadow-lg`,children:e("div",{class:"inline-flex items-center gap-3 text-lg font-semibold animate-pulse",children:f.correct?e(G,{children:[e(Ln,{class:"w-6 h-6 animate-bounce"}),e("span",{children:"Correct! Well done!"})]}):e(G,{children:[e(Pn,{class:"w-6 h-6 animate-bounce"}),e("span",{children:"Not quite right. Try again!"})]})})})})]})})]})}function R0({deckId:r}){const{route:t,query:n}=_t(),[s,i]=g(null),[a,o]=g([]),[c,l]=g([]),[d,u]=g(new Set),[h,m]=g({attempts:0,correctMatches:0,startTime:Date.now()}),[f,p]=g(!1),[b,y]=g(!0),[w,x]=g(null);ee(()=>{if(!r){x("No deck ID provided"),y(!1);return}(async()=>{try{const j=await V.quizspire.getQuizspireDecksById(r);i(j.data),k(j.data)}catch(j){if(j.status===401){t("/login");return}x("Failed to load deck"),console.error(j)}finally{y(!1)}})()},[r]);const k=M=>{const j=[],W=Math.min(M.cards.length,8);for(let te=0;te<W;te++){const Y=M.cards[te];j.push({id:`q-${te}`,type:"question",content:Y.word.find(X=>X.type==="text")?.text||"Question",cardId:`card-${te}`,isFlipped:!1,isMatched:!1,isAnimating:!1}),j.push({id:`a-${te}`,type:"answer",content:Y.definition.find(X=>X.type==="text")?.text||"Answer",cardId:`card-${te}`,isFlipped:!1,isMatched:!1,isAnimating:!1})}const Q=j.sort(()=>Math.random()-.5);o(Q),m({attempts:0,correctMatches:0,startTime:Date.now()})},v=M=>{if(M.isFlipped||M.isMatched||c.length>=2)return;const j=[...c,M];if(o(W=>W.map(Q=>Q.id===M.id?{...Q,isFlipped:!0,isAnimating:!0}:Q)),l(j),j.length===2){const[W,Q]=j,te=W.cardId===Q.cardId;m(Y=>({...Y,attempts:Y.attempts+1,correctMatches:te?Y.correctMatches+1:Y.correctMatches})),setTimeout(()=>{te?(o(Y=>Y.map(X=>X.id===W.id||X.id===Q.id?{...X,isMatched:!0,isAnimating:!1}:X)),u(Y=>new Set([...Y,W.cardId]))):o(Y=>Y.map(X=>X.id===W.id||X.id===Q.id?{...X,isFlipped:!1,isAnimating:!1}:X)),l([])},1e3)}else setTimeout(()=>{o(W=>W.map(Q=>Q.id===M.id?{...Q,isAnimating:!1}:Q))},300)};ee(()=>{const M=a.length/2;if(d.size===M&&M>0&&!f){const j=Date.now(),W=j-h.startTime,Q={...h,endTime:j,completionTime:W};m(Q),p(!0),C(Q)}},[d,a.length,h,f]);const C=M=>{if(!r)return;const j=`quizspire-match-${r}`,W=JSON.parse(localStorage.getItem(j)||"[]"),Q={date:new Date().toISOString(),attempts:M.attempts,completionTime:M.completionTime,accuracy:M.correctMatches/(M.attempts||1)*100};W.push(Q),localStorage.setItem(j,JSON.stringify(W))},I=()=>{s&&(p(!1),u(new Set),l([]),k(s))},A=M=>{const j=Math.floor(M/1e3),W=Math.floor(j/60),Q=j%60;return`${W}:${Q.toString().padStart(2,"0")}`};if(b)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"flex justify-center",children:e("span",{class:"loading loading-spinner loading-lg"})})});if(w||!s)return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"alert alert-error",children:e("span",{children:w||"Deck not found"})})});const S=a.length,_=Math.min(4,Math.ceil(Math.sqrt(S))),R=Math.ceil(S/_);if(f){const M=Math.round(h.correctMatches/h.attempts*100);return e("div",{class:"container mx-auto px-4 py-8",children:e("div",{class:"max-w-2xl mx-auto",children:e("div",{class:"card bg-base-100 shadow-2xl",children:e("div",{class:"card-body text-center",children:[e("div",{class:"text-6xl mb-4",children:"ð"}),e("h2",{class:"card-title justify-center text-3xl mb-6",children:"Congratulations!"}),e("p",{class:"text-lg mb-6",children:"You've completed the matching game!"}),e("div",{class:"stats stats-vertical lg:stats-horizontal shadow mb-6",children:[e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Completion Time"}),e("div",{class:"stat-value text-primary",children:A(h.completionTime||0)})]}),e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Attempts"}),e("div",{class:"stat-value text-secondary",children:h.attempts})]}),e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Accuracy"}),e("div",{class:"stat-value text-accent",children:[M,"%"]})]})]}),e("div",{class:"card-actions justify-center gap-4",children:[e("button",{class:"btn btn-primary btn-lg",onClick:I,children:[e(Lr,{class:"w-5 h-5 mr-2"}),"Play Again"]}),e("button",{class:"btn btn-outline btn-lg",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||`/projects/quizspire/${r}`),children:[e(uc,{class:"w-5 h-5 mr-2"}),"Back"]})]})]})})})})}return e(G,{children:[e(Te,{children:[e("title",{children:"Quizspire Match - Memory Game"}),e("meta",{name:"description",content:"Play Quizspire's matching game to memorize flashcards. Match question cards with their corresponding answer cards in this interactive memory challenge."}),e("meta",{name:"keywords",content:"quizspire match, memory game, flashcards matching, memorization game, concentration game"}),e("link",{rel:"canonical",href:`/projects/quizspire/${r}/match`}),e("meta",{property:"og:title",content:"Quizspire Match - Memory Game"}),e("meta",{property:"og:description",content:"Play Quizspire's matching game to memorize flashcards. Match question cards with their corresponding answer cards in this interactive memory challenge."}),e("meta",{property:"og:image",content:"/quizspire.png"}),e("meta",{property:"og:url",content:`/projects/quizspire/${r}/match`}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Quizspire Match - Memory Game"}),e("meta",{name:"twitter:description",content:"Play Quizspire's matching game to memorize flashcards. Match question cards with their corresponding answer cards in this interactive memory challenge."}),e("meta",{name:"twitter:image",content:"/quizspire.png"})]}),e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"mb-6",children:[e("h1",{class:"text-3xl font-bold mb-2",children:[s.title," - Match Game"]}),e("p",{class:"text-base-content/70",children:"Match the questions with their answers!"})]}),e("div",{class:"flex justify-center mb-6",children:e("div",{class:"stats stats-horizontal shadow",children:[e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Attempts"}),e("div",{class:"stat-value",children:h.attempts})]}),e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Matches"}),e("div",{class:"stat-value text-success",children:[d.size,"/",a.length/2]})]}),e("div",{class:"stat",children:[e("div",{class:"stat-title",children:"Time"}),e("div",{class:"stat-value countdown",children:e("span",{style:`--value:${Math.floor((Date.now()-h.startTime)/1e3)};`,children:Math.floor((Date.now()-h.startTime)/1e3)})})]})]})}),e("div",{class:"grid gap-4 mx-auto",style:`grid-template-columns: repeat(${_}, minmax(0, 1fr)); grid-template-rows: repeat(${R}, minmax(0, 1fr))`,children:a.map(M=>e("div",{class:`card bg-base-100 shadow cursor-pointer transition-all duration-300 ${M.isMatched?"bg-success/20 border-success":M.isFlipped?"bg-primary/20 border-primary":"hover:bg-base-200"} ${M.isAnimating?"animate-pulse":""}`,onClick:()=>v(M),children:e("div",{class:"card-body p-4 min-h-[120px] flex items-center justify-center",children:[e("div",{class:`text-center transition-all duration-500 ${M.isFlipped||M.isMatched?"opacity-100":"opacity-0"}`,children:[e("div",{class:`badge badge-outline mb-2 ${M.type==="question"?"badge-primary":"badge-secondary"}`,children:M.type==="question"?"Question":"Answer"}),e("div",{class:"text-sm font-medium break-words",children:M.content})]}),e("div",{class:`absolute inset-0 flex items-center justify-center transition-all duration-500 ${M.isFlipped||M.isMatched?"opacity-0 rotate-y-180":"opacity-100"}`,children:e("div",{class:"text-4xl opacity-50",children:M.type==="question"?"â":"ð¡"})})]})},M.id))}),e("div",{class:"flex justify-center gap-4 mt-8",children:[e("button",{class:"btn btn-outline",onClick:I,children:[e(Lr,{class:"w-4 h-4 mr-2"}),"Restart"]}),e("button",{class:"btn btn-ghost",onClick:()=>t(n.referrer&&decodeURIComponent(n.referrer)||`/projects/quizspire/${r}`),children:[e(uc,{class:"w-4 h-4 mr-2"}),"Back"]})]})]})]})}function j0(){const{route:r,query:t}=_t(),[n,s]=g(null),[i,a]=g("connecting"),[o,c]=g(null),[l,d]=g(null),[u,h]=g(null),[m,f]=g(null),[p,b]=g(null),[y,w]=g(null),[x,k]=g(null),[v,C]=g(null),[I,A]=g(!1),[S,_]=g(null),[R,M]=g(0),[j,W]=g({}),[Q,te]=g([]),[Y,X]=g(null),[q,oe]=g(""),[F,J]=g({winCondition:"correct_answers",correctAnswersThreshold:10,resetOnIncorrect:!1,questionTimeLimit:30,allowLateJoin:!0,hostParticipates:!0}),ue=(P,Z)=>{console.log(`[SOCKET EMIT] ${P}`,Z)},se=(P,Z)=>{console.log(`[SOCKET RECEIVE] ${P}`,Z)};ee(()=>{async function P(){try{const Z=await(await V.auth.apiGetSessionList()).json();Z&&Z.user?(b(Z.user.id),w(Z.user.name),k(Z.user.image)):console.log("No active session, allowing guest access");const Je=V.baseUrl,Nt=new URL("/sockets/quizspire",Je).href,xt=new URL("sockets/",`${Je}/`).pathname;console.log("Using Quizspire socket base URL:",Je),console.log("Using Quizspire socket full path:",Nt),console.log("Using Quizspire socket transport path:",xt);const He=qn(Nt,{path:xt,transports:["websocket","polling"],withCredentials:!0,tryAllTransports:!0});s(He),He.on("connect",()=>{se("connect"),a("lobby"),C(null),c(null),d(null),h(null),f(null),te([])}),He.on("lobby_created",he=>{se("lobby_created",he),c(he),a("settings")}),He.on("lobby_joined",he=>{se("lobby_joined",he),c(he),a("settings")}),He.on("lobby_update",async he=>{se("lobby_update",he),c(he);for(const Ce of he.players)if(!Ce.isGuest&&!j[Ce.userId])try{const Me=await V.profile.getProfileByUserId(Ce.userId);W(Ie=>({...Ie,[Ce.userId]:Me.data}))}catch(Me){console.error("Failed to fetch player profile:",Me)}}),He.on("question",he=>{se("question",he),d(he),_(null),M(he.timeLimit),a("playing"),h(null),X(null)}),He.on("answer_feedback",he=>{se("answer_feedback",he),X(he)}),He.on("leaderboard_update",he=>{se("leaderboard_update",he),te(he.leaderboard)}),He.on("question_results",he=>{se("question_results",he),h(he),a("results")}),He.on("game_ended",he=>{se("game_ended",he),f(he),a("ended"),d(null),h(null)}),He.on("kicked",he=>{se("kicked",he),C(`You were kicked: ${he.reason}`),a("lobby"),c(null),d(null),h(null),f(null),te([])}),He.on("error",he=>{se("error",he),C(he.message||"An error occurred")}),He.on("connect_error",he=>{se("connect_error",he),C(`Connection error: ${he.message}`),n.io.opts.transports=["polling","websocket"]}),He.on("disconnect",he=>{se("disconnect",he),C(`Disconnected: ${he}`),a("connecting"),c(null),d(null),h(null),f(null),te([])})}catch(Z){console.error("Initialization error:",Z),C("Failed to initialize the game")}}return P(),()=>{n&&n.disconnect()}},[]),ee(()=>{if(R>0&&i==="playing"){const P=setTimeout(()=>M(R-1),1e3);return()=>clearTimeout(P)}},[R,i]);const xe=P=>{n&&p?(ue("create_lobby",{deckId:P,settings:F}),n.emit("create_lobby",{deckId:P,settings:F})):C("You must be logged in to create a lobby")},ce=(P,Z)=>{if(n){const Ae={code:P};Z&&(Ae.username=Z),ue("join_lobby",Ae),n.emit("join_lobby",Ae)}},U=()=>{n&&(ue("start_game",{settings:F}),n.emit("start_game",{settings:F}))},B=P=>{n&&S===null&&(_(P),ue("submit_answer",{selectedIndex:P}),n.emit("submit_answer",{selectedIndex:P}))},E=P=>{n&&(ue("kick_player",{userId:P}),n.emit("kick_player",{userId:P}))},K=()=>{n&&(ue("leave_lobby"),n.emit("leave_lobby"),a("lobby"),c(null),d(null),h(null),f(null),te([]))},be=()=>{n&&(ue("restart_game"),n.emit("restart_game"))},ye=async()=>{if(o?.code)try{await navigator.clipboard.writeText(o.code),A(!0),setTimeout(()=>A(!1),2e3)}catch(P){console.error("Failed to copy code:",P),C("Failed to copy lobby code")}},Pe=P=>P.type==="text"?e("span",{children:P.text}):e("img",{src:P.mediaUrl,alt:"Content",className:"max-w-full max-h-32 object-contain rounded"}),Oe=(P,Z=!1)=>{const Ae=Xe(P.userId);return e("div",{className:`flex items-center gap-3 p-3 rounded-lg ${P.isGuest?"bg-base-300 border border-info/20":"bg-base-200"}`,children:[e(et,{name:Ae.name,image:Ae.image,widthClass:"w-10"}),e("div",{className:"flex-1",children:[e("div",{className:"font-medium flex items-center gap-2",children:[Ae.name,P.isHost&&e(Iu,{className:"w-4 h-4 text-warning"}),P.isGuest&&e(Ut,{className:"w-4 h-4 text-info"})]}),e("div",{className:"text-sm text-base-content/70",children:P.isHost?"Host":P.isGuest?"Guest":"Player"})]}),Z&&e("button",{className:"btn btn-ghost btn-sm text-error",onClick:()=>E(P.userId),title:"Kick player",children:e(An,{className:"w-4 h-4"})})]},P.userId)},Xe=P=>{const Z=o?.players?.find(Ae=>Ae.userId===P);return Z?.isGuest?{name:Z.username,image:null}:j[P]||{name:"Loading...",image:null}};return i==="connecting"?e("div",{className:"container mx-auto p-4",children:e("div",{className:"flex items-center justify-center min-h-full",children:e("div",{className:"text-center",children:[e("span",{className:"loading loading-spinner loading-lg"}),e("p",{className:"mt-4 text-base-content/70",children:"Connecting to Quizspire..."})]})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Quizspire Host - Create Quiz Games"}),e("meta",{name:"description",content:"Host interactive quiz games with Quizspire. Create multiplayer quiz sessions, manage players, and track scores in real-time. Perfect for educational gaming and competitive learning."}),e("meta",{name:"keywords",content:"quizspire host, quiz games, multiplayer quiz, educational games, real-time scoring"}),e("link",{rel:"canonical",href:"/projects/quizspire/host"}),e("meta",{property:"og:title",content:"Quizspire Host - Create Quiz Games"}),e("meta",{property:"og:description",content:"Host interactive quiz games with Quizspire. Create multiplayer quiz sessions, manage players, and track scores in real-time. Perfect for educational gaming and competitive learning."}),e("meta",{property:"og:image",content:"/quizspire.png"}),e("meta",{property:"og:url",content:"/projects/quizspire/host"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Quizspire Host - Create Quiz Games"}),e("meta",{name:"twitter:description",content:"Host interactive quiz games with Quizspire. Create multiplayer quiz sessions, manage players, and track scores in real-time. Perfect for educational gaming and competitive learning."}),e("meta",{name:"twitter:image",content:"/quizspire.png"})]}),e("div",{className:"container mx-auto p-4",children:e("div",{className:"flex flex-col lg:flex-row gap-8 justify-center",children:[e("div",{className:"card bg-base-100 shadow-xl w-full lg:w-2/3",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center justify-between mb-6",children:[e("div",{className:"flex items-center gap-3",children:[e("button",{className:"btn btn-ghost btn-sm",onClick:()=>r(t.referrer&&decodeURIComponent(t.referrer)||"/projects/quizspire"),children:[e(qs,{className:"w-4 h-4 mr-2"}),"Back"]}),e("h1",{className:"text-2xl font-bold",children:"Quizspire Host"})]}),o&&e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-sm text-base-content/70",children:"Lobby Code:"}),e("button",{className:"btn btn-outline btn-sm",onClick:ye,children:[e(pa,{className:"w-4 h-4 mr-2"}),o.code]}),I&&e("span",{className:"text-sm text-success",children:"Copied!"})]})]}),v&&e("div",{className:"alert alert-error mb-4",children:[e(Et,{className:"h-5 w-5"}),e("span",{children:[v," - make sure you've navigated to the page from the correct deck & the deck has valid cards."]})]}),i==="lobby"&&e("div",{className:"text-center py-12",children:[e("h2",{className:"text-xl font-semibold mb-4",children:"Create or Join a Lobby"}),e("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e("button",{className:"btn btn-primary",onClick:()=>xe(t.deckId),disabled:!p,children:[e(Ws,{className:"w-4 h-4 mr-2"}),"Create Lobby"]}),e("button",{className:"btn btn-outline",onClick:()=>{const P=prompt("Enter lobby code:");if(P)if(p)ce(P);else{const Z=prompt("Enter your username:");Z&&ce(P,Z)}},children:[e(yo,{className:"w-4 h-4 mr-2"}),"Join Lobby"]})]}),!p&&e("p",{className:"text-sm text-base-content/70 mt-4",children:"You can join as a guest, but creating a lobby requires login."})]}),i==="settings"&&o&&e("div",{children:[e("h2",{className:"text-xl font-semibold mb-4",children:"Game Settings"}),e("div",{className:"overflow-x-auto mb-6",children:e("table",{className:"table table-zebra",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Setting"}),e("th",{children:"Value"})]})}),e("tbody",{children:[e("tr",{children:[e("td",{className:"font-medium",children:"Win Condition"}),e("td",{children:e("select",{className:"select select-bordered select-sm",value:F.winCondition,onChange:P=>J(Z=>({...Z,winCondition:P.target.value})),disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost,children:[e("option",{value:"correct_answers",children:"Correct Answers"}),e("option",{value:"score",children:"Score Threshold"}),e("option",{value:"time",children:"Time Limit"})]})})]}),F.winCondition==="correct_answers"?e("tr",{children:[e("td",{className:"font-medium",children:"Correct Answers Threshold"}),e("td",{children:e("input",{type:"number",className:"input input-bordered input-sm",value:F.correctAnswersThreshold,onChange:P=>J(Z=>({...Z,correctAnswersThreshold:parseInt(P.target.value)||10})),min:"1",disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]}):F.winCondition==="score"?e("tr",{children:[e("td",{className:"font-medium",children:"Score Threshold"}),e("td",{children:e("input",{type:"number",className:"input input-bordered input-sm",value:F.scoreThreshold,onChange:P=>J(Z=>({...Z,scoreThreshold:parseInt(P.target.value)||1e3})),min:"1",disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]}):e("tr",{children:[e("td",{className:"font-medium",children:"Time Limit (seconds)"}),e("td",{children:e("input",{type:"number",className:"input input-bordered input-sm",value:F.timeLimit,onChange:P=>J(Z=>({...Z,timeLimit:parseInt(P.target.value)||300})),min:"60",disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]}),e("tr",{children:[e("td",{className:"font-medium",children:"Question Time Limit (seconds)"}),e("td",{children:e("input",{type:"number",className:"input input-bordered input-sm",value:F.questionTimeLimit,onChange:P=>J(Z=>({...Z,questionTimeLimit:parseInt(P.target.value)||30})),min:"5",max:"120",disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]}),e("tr",{children:[e("td",{className:"font-medium",children:"Reset on Incorrect Answer"}),e("td",{children:e("input",{type:"checkbox",className:"toggle toggle-sm",checked:F.resetOnIncorrect,onChange:P=>J(Z=>({...Z,resetOnIncorrect:P.target.checked})),disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]}),e("tr",{children:[e("td",{className:"font-medium",children:"Allow Late Join"}),e("td",{children:e("input",{type:"checkbox",className:"toggle toggle-sm",checked:F.allowLateJoin,onChange:P=>J(Z=>({...Z,allowLateJoin:P.target.checked})),disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]}),e("tr",{children:[e("td",{className:"font-medium",children:"Host Participates"}),e("td",{children:e("input",{type:"checkbox",className:"toggle toggle-sm",checked:F.hostParticipates,onChange:P=>J(Z=>({...Z,hostParticipates:P.target.checked})),disabled:o?.players&&!o?.players?.find(P=>P.userId===p)?.isHost})})]})]})]})}),e("div",{className:"alert alert-info mb-4",children:[e(Et,{className:"h-5 w-5"}),e("div",{children:[e("div",{className:"font-bold",children:"Host Participates"}),e("div",{children:"When disabled, the game ends immediately regardless of whether the host has answered the current question."})]})]}),o?.players&&o?.players?.find(P=>P.userId===p)?.isHost?e("div",{className:"flex justify-center",children:e("button",{className:"btn btn-success btn-lg",onClick:U,disabled:o?.players&&o?.players?.length<(F.hostParticipates?1:2),children:[e(Ws,{className:"w-5 h-5 mr-2"}),"Start Game"]})}):e("div",{className:"text-center text-base-content/70",children:[e(Du,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e("p",{children:"Waiting for host to start the game..."})]})]}),i==="playing"&&l&&e("div",{children:[e("div",{className:"text-center mb-6",children:[e("div",{className:"text-2xl font-bold mb-2",children:["Question ",l.questionIndex+1]}),e("div",{className:"text-lg text-warning font-semibold",children:["Time Left: ",R,"s"]}),Y&&e("div",{className:`alert ${Y.isCorrect?"alert-success":"alert-error"} mt-4`,children:e("span",{children:[Y.isCorrect?"Correct!":"Incorrect!","Points gained: ",Y.pointsGained]})})]}),e("div",{className:"mb-8 p-6 bg-base-200 rounded-lg",children:e("div",{className:"text-center",children:l.question.map((P,Z)=>e("div",{className:"mb-2",children:Pe(P)},Z))})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.options.map((P,Z)=>e("button",{className:`btn btn-lg h-auto py-4 ${S===Z?Y?.correctIndex===Z?"btn-success":"btn-error":S!==null?Y?.correctIndex===Z?"btn-success":"btn-disabled":"btn-outline"}`,onClick:()=>B(Z),disabled:S!==null,children:e("div",{className:"text-left w-full",children:P.map((Ae,Je)=>e("div",{className:"mb-1",children:Pe(Ae)},Je))})},Z))})]}),i==="results"&&u&&e("div",{children:[e("h2",{className:"text-xl font-semibold mb-4 text-center",children:["Question ",u.questionIndex+1," Results"]}),e("div",{className:"mb-6 p-4 bg-base-200 rounded-lg",children:e("div",{className:"text-center",children:[e("div",{className:"text-lg font-semibold mb-2",children:"Correct Answer:"}),e("div",{className:"text-success font-bold",children:l?.options[u.correctIndex]?.map((P,Z)=>e("div",{children:Pe(P)},Z))})]})}),e("div",{className:"space-y-3",children:u.results.map(P=>{const Z=Xe(P.userId);return e("div",{className:`flex items-center justify-between p-3 rounded-lg ${P.isGuest?"bg-base-300 border border-info/20":"bg-base-200"}`,children:[e("div",{className:"flex items-center gap-3",children:[e(et,{name:Z.name,image:Z.image,widthClass:"w-8"}),e("span",{className:"font-medium flex items-center gap-2",children:[Z.name,P.isGuest&&e(Ut,{className:"w-3 h-3 text-info"})]})]}),e("div",{className:"flex items-center gap-4",children:[e("span",{className:`font-bold ${P.isCorrect?"text-success":"text-error"}`,children:P.isCorrect?e(G,{children:[e(Yt,{className:"inline w-4 h-4 mr-1"})," ","Correct"]}):e(G,{children:[e(An,{className:"inline w-4 h-4 mr-1"})," ","Incorrect"]})}),e("span",{className:"text-sm text-base-content/70",children:["Score: ",P.score]})]})]},P.userId)})})]}),i==="ended"&&m&&e("div",{className:"text-center",children:[e("div",{className:"mb-6",children:[e(vo,{className:"w-16 h-16 text-warning mx-auto mb-4"}),e("h2",{className:"text-2xl font-bold mb-2",children:"Game Over!"}),e("p",{className:"text-base-content/70",children:m.reason})]}),e("div",{className:"mb-6",children:[e("h3",{className:"text-xl font-semibold mb-4",children:"Winner"}),e("div",{className:"flex items-center justify-center gap-4 p-4 bg-warning/10 rounded-lg",children:[e(et,{name:Xe(m.winner.userId).name,image:Xe(m.winner.userId).image,widthClass:"w-12"}),e("div",{children:[e("div",{className:"text-lg font-bold flex items-center gap-2",children:[m.winner.username,m.winner.isGuest&&e(Ut,{className:"w-4 h-4 text-info"})]}),e("div",{className:"text-sm text-base-content/70",children:[m.winner.score," points â¢"," ",m.winner.correctAnswers," correct"]})]})]})]}),e("div",{className:"mb-6",children:[e("h3",{className:"text-lg font-semibold mb-4",children:"Final Scores"}),e("div",{className:"space-y-2",children:m.finalScores.map((P,Z)=>{const Ae=Xe(P.userId);return e("div",{className:`flex items-center justify-between p-3 rounded-lg ${P.isGuest?"bg-base-300 border border-info/20":"bg-base-200"}`,children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"font-bold text-lg w-8",children:[Z+1,"."]}),e(et,{name:Ae.name,image:Ae.image,widthClass:"w-8"}),e("span",{className:"font-medium flex items-center gap-2",children:[Ae.name,P.isGuest&&e(Ut,{className:"w-3 h-3 text-info"})]})]}),e("div",{className:"text-right",children:[e("div",{className:"font-bold",children:[P.score," pts"]}),e("div",{className:"text-sm text-base-content/70",children:[P.correctAnswers," correct"]})]})]},P.userId)})})]}),e("div",{className:"flex gap-4 justify-center",children:[o?.players&&o?.players?.find(P=>P.userId===p)?.isHost&&e("button",{className:"btn btn-success",onClick:be,children:[e(Ws,{className:"w-4 h-4 mr-2"}),"Restart Game"]}),e("button",{className:"btn btn-primary",onClick:()=>r(t.referrer&&decodeURIComponent(t.referrer)||"/projects/quizspire"),children:[e(qs,{className:"w-4 h-4 mr-2"}),"Back to Quizspire"]})]})]})]})}),e("div",{className:"card bg-base-100 shadow-xl w-full lg:w-1/3",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title mb-4",children:[e(yo,{className:"w-5 h-5 mr-2"}),"Players (",o?.players?.length||0,")"]}),o&&e("div",{className:"space-y-3",children:o?.players&&o.players.map(P=>Oe(P,o?.players&&o?.players?.find(Z=>Z.userId===p)?.isHost&&P.userId!==p))}),Q.length>0&&e("div",{className:"mt-6",children:[e("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e(vo,{className:"w-4 h-4 text-warning"}),"Leaderboard"]}),e("div",{className:"space-y-2",children:Q.map((P,Z)=>{const Ae=Xe(P.userId);return e("div",{className:`flex items-center justify-between p-2 rounded ${P.isGuest?"bg-base-300 border border-info/20":"bg-base-200"}`,children:[e("div",{className:"flex items-center gap-2",children:[e("span",{className:"font-bold w-6",children:[Z+1,"."]}),e(et,{name:Ae.name,image:Ae.image,widthClass:"w-6"}),e("span",{className:"text-sm flex items-center gap-1",children:[Ae.name,P.isGuest&&e(Ut,{className:"w-3 h-3 text-info"})]})]}),e("div",{className:"text-right text-sm",children:[e("div",{className:"font-bold",children:P.score}),e("div",{className:"text-base-content/70",children:[P.correctAnswers," correct"]})]})]},P.userId)})})]}),o&&o?.players&&o.players.length<2&&e("div",{className:"alert alert-info mt-4",children:[e(Hu,{className:"w-4 h-4"}),e("span",{children:"Share the lobby code with friends to join!"})]}),i!=="ended"&&e("div",{className:"mt-6",children:e("button",{className:"btn btn-outline btn-error w-full",onClick:K,children:[e(qs,{className:"w-4 h-4 mr-2"}),"Leave Lobby"]})})]})})]})})]})}function z0(){const[r,t]=g(""),[n,s]=g(""),[i,a]=g(""),[o,c]=g(""),[l,d]=g(!1),[u,h]=g(""),{route:m}=_t(),f=v=>{t(v.target.value)},p=v=>{s(v.target.value)},b=v=>{a(v.target.value)},y=v=>{c(v.target.value)};async function w(){if(d(!0),i!=o){h("Passwords must match"),d(!1);return}try{const v=await V.auth.apiSignUpEmailCreate({name:r,email:n,password:i,rememberMe:!0});if(v.data?.user&&!v.data.user.emailVerified){window.location.href=`/email-verification?email=${encodeURIComponent(n)}`;return}window.location.href="/"}catch(v){console.log(v);const C=v?.error?.message||"ERROR: REGISTER FAILED";h(C),console.log("ERROR:",v?.error?.message||v),d(!1)}}async function x(v){d(!0);try{const C=(await V.auth.socialSignIn({provider:v,callbackURL:new URL("/",window.location.origin).href})).data;window.location.href=C.url;return}catch(C){const I=C?.error?.message||"ERROR: REGISTER FAILED";h(I),console.log("ERROR:",C?.error?.message||C),d(!1)}}function k(v){v.preventDefault(),w()}return e(G,{children:[e(Te,{children:[e("title",{children:"Sign Up - My Website"}),e("meta",{name:"description",content:"Create a new account to access interactive games, leaderboards, and community features. Join the platform with secure registration."}),e("meta",{name:"keywords",content:"sign up, register, create account, new user, registration, join platform"}),e("link",{rel:"canonical",href:"/signup"}),e("meta",{property:"og:title",content:"Sign Up - My Website"}),e("meta",{property:"og:description",content:"Create a new account to access interactive games, leaderboards, and community features. Join the platform with secure registration."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/signup"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Sign Up - My Website"}),e("meta",{name:"twitter:description",content:"Create a new account to access interactive games, leaderboards, and community features. Join the platform with secure registration."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full",children:e("div",{className:"card-body",children:[e("h1",{className:"text-center text-xl font-bold",children:"Create Your Account"}),e("form",{className:"fieldset",onSubmit:k,children:[e("label",{className:"label",children:"Name"}),e("label",{className:"input w-full",children:[e(Ut,{}),e("input",{type:"text",required:!0,placeholder:"Name",onInput:f})]}),e("label",{className:"label",children:"Email"}),e("label",{className:"input w-full",children:[e(Jn,{}),e("input",{type:"text",required:!0,placeholder:"Email",onInput:p})]}),e("label",{className:"label",children:"Password"}),e("label",{className:"input w-full",children:[e(Er,{}),e("input",{type:"password",required:!0,placeholder:"Password",onInput:b})]}),e("label",{className:"label",children:"Confirm Password"}),e("label",{className:"input w-full",children:[e(Er,{}),e("input",{type:"password",required:!0,placeholder:"Confirm Password",onInput:y})]}),e("button",{disabled:l,className:"btn btn-neutral mt-4",type:"submit",children:"Sign Up"}),e("div",{children:e("p",{className:"text-center",children:["Already have an account?"," ",e("a",{className:"link-accent",href:"/login",children:"Sign in here"})]})})]}),u&&e("p",{className:"text-error",children:u}),e("div",{className:"divider",children:"Sign Up With"}),e("button",{className:"btn text-black bg-white font-bold",onClick:()=>x("google"),children:[e(Ca,{}),"Google"]}),e("button",{className:"btn text-white bg-black font-bold",onClick:()=>x("twitter"),children:[e(xa,{}),"Twitter (X)"]}),e("div",{className:"alert alert-info mt-3",children:e("div",{children:[e("h3",{className:"font-bold",children:"Note"}),e("div",{className:"text-sm",children:"Account name & icon changes require manual verification before being publicly displayed."})]})})]})})]})}function F0(){const[r,t]=g(null),[n,s]=g(null),[i,a]=g("loading"),[o,c]=g(!1),[l,d]=g(!1),[u,h]=g(60),f=new URLSearchParams(window.location.search).get("email");ee(()=>{p()},[]);const p=async()=>{try{const x=await V.auth.apiGetSessionList();x.data?(s(x.data),t(x.data.user),x.data.user.emailVerified?a("success"):f?await b(f):a("error")):a("error")}catch(x){console.error("Session check error:",x),a("error")}},b=async x=>{c(!0);try{await V.auth.apiSendVerificationEmailCreate({email:x,callbackURL:window.location.origin+"/email-verification"}),a("idle"),y()}catch(k){console.error("Send email error:",k),a("error")}finally{c(!1)}},y=()=>{d(!1);let x=60;h(x);const k=setInterval(()=>{x-=1,h(x),x<=0&&(clearInterval(k),d(!0))},1e3)},w=async()=>{!r||!l||await b(r.email)};return e(G,{children:[e(Te,{children:[e("title",{children:"Email Verification - My Website"}),e("meta",{name:"description",content:"Verify your email address to complete account setup and access all platform features. Check your inbox for the verification link."}),e("meta",{name:"keywords",content:"email verification, verify email, account verification, email confirmation, account setup"}),e("link",{rel:"canonical",href:"/email-verification"}),e("meta",{property:"og:title",content:"Email Verification - My Website"}),e("meta",{property:"og:description",content:"Verify your email address to complete account setup and access all platform features. Check your inbox for the verification link."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/email-verification"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Email Verification - My Website"}),e("meta",{name:"twitter:description",content:"Verify your email address to complete account setup and access all platform features. Check your inbox for the verification link."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"min-h-full flex items-center justify-center bg-base-200 px-4",children:e("div",{className:"max-w-md w-full",children:e("div",{className:"card bg-base-100 shadow-xl",children:e("div",{className:"card-body text-center",children:[e("div",{className:"mb-4",children:[i==="loading"&&e("div",{className:"flex justify-center mb-4",children:e("span",{className:"loading loading-spinner loading-lg"})}),i==="success"&&e(Su,{className:"mx-auto text-6xl text-success mb-4"}),i==="error"&&e(Et,{className:"mx-auto text-6xl text-error mb-4"}),i==="idle"&&e(Jn,{className:"mx-auto text-6xl text-primary mb-4"})]}),e("h1",{className:"card-title text-2xl justify-center mb-4",children:[i==="loading"&&"Checking Status...",i==="success"&&"Email Verified!",i==="error"&&"Verification Failed",i==="idle"&&"Check Your Email"]}),e("p",{className:"text-base-content/70 mb-6",children:[i==="loading"&&"Checking your email verification status...",i==="success"&&"Your email has been successfully verified! You can now access all features of the application.",i==="error"&&"There was an issue with email verification. Please try again or contact support.",i==="idle"&&`Please check your email (${r?.email}) for a verification link.`]}),i==="success"&&e("div",{className:"space-y-4",children:e("a",{href:"/profile",className:"btn btn-primary w-full",children:"Go to Profile"})}),(i==="error"||i==="idle")&&f&&e("div",{className:"space-y-4",children:[e("button",{onClick:w,disabled:!l||o,className:"btn btn-outline btn-primary w-full",children:o?e("span",{className:"loading loading-spinner loading-sm"}):e(G,{children:[e(qu,{className:"mr-2"}),"Resend Verification Email"]})}),!l&&u>0&&e("p",{className:"text-sm text-base-content/60",children:["Resend available in ",u," seconds"]}),e("div",{className:"divider",children:"Already verified?"}),e("a",{href:"/profile",className:"btn btn-neutral w-full",children:"Go to Profile"})]}),e("div",{className:"mt-8 text-xs text-base-content/50",children:e("p",{children:"Didn't receive the email? Check your spam folder or contact support if you're still having issues."})})]})})})})]})}function B0(){return e(G,{children:[e(Te,{children:[e("title",{children:"Admin Panel - My Website"}),e("meta",{name:"description",content:"Administrative control panel for managing users, comments, connections, and profile verifications. Access administrative tools and moderation features."}),e("meta",{name:"keywords",content:"admin panel, administration, user management, moderation, admin tools, control panel"}),e("link",{rel:"canonical",href:"/admin"}),e("meta",{property:"og:title",content:"Admin Panel - My Website"}),e("meta",{property:"og:description",content:"Administrative control panel for managing users, comments, connections, and profile verifications. Access administrative tools and moderation features."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/admin"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Admin Panel - My Website"}),e("meta",{name:"twitter:description",content:"Administrative control panel for managing users, comments, connections, and profile verifications. Access administrative tools and moderation features."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[e(Wu,{}),"Admin Panel"]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e("a",{href:"/admin/users",className:"card shadow-lg hover:shadow-xl transition-shadow duration-300",children:e("div",{className:"card-body items-center text-center",children:[e(ya,{className:"w-12 h-12 text-primary mb-4"}),e("h2",{className:"card-title",children:"User Management"}),e("p",{children:"Manage users, ban/unban, change passwords, and add custom fields"})]})}),e("a",{href:"/admin/comments",className:"card shadow-lg hover:shadow-xl transition-shadow duration-300",children:e("div",{className:"card-body items-center text-center",children:[e(ma,{className:"w-12 h-12 text-secondary mb-4"}),e("h2",{className:"card-title",children:"Pending Comments"}),e("p",{children:"Review and accept pending blog comments"})]})}),e("a",{href:"/admin/connections",className:"card shadow-lg hover:shadow-xl transition-shadow duration-300",children:e("div",{className:"card-body items-center text-center",children:[e(Ti,{className:"w-12 h-12 text-success mb-4"}),e("h2",{className:"card-title",children:"Connection Management"}),e("p",{children:"Monitor active WebSocket connections, send events and notifications"})]})}),e("a",{href:"/admin/profiles",className:"card shadow-lg hover:shadow-xl transition-shadow duration-300",children:e("div",{className:"card-body items-center text-center",children:[e(Ju,{className:"w-12 h-12 text-info mb-4"}),e("h2",{className:"card-title",children:"Profile Verification"}),e("p",{children:"Verify or reject changes to user profiles including names and icons"})]})})]})]})]})}function U0(){const[r,t]=g([]),[n,s]=g(!0),[i,a]=g(""),[o,c]=g(null),[l,d]=g(!1),[u,h]=g(!1),[m,f]=g(!1),[p,b]=g(""),[y,w]=g(""),[x,k]=g(null),[v,C]=g(""),[I,A]=g("permanent"),[S,_]=g(1);ee(()=>{R()},[]);const R=async()=>{try{s(!0);const F=await V.auth.listUsers();t(F.data.users),a("")}catch(F){a(F instanceof Error?F.message:"Failed to fetch users"),console.error("Error fetching users:",F)}finally{s(!1)}},M=async F=>{try{await V.auth.unbanUser({userId:F}),await R()}catch(J){a(J instanceof Error?J.message:"Failed to unban user")}},j=async()=>{if(!(!o||!p.trim()))try{await V.auth.setUserPassword({userId:o.id,newPassword:p}),d(!1),b(""),c(null),a("")}catch(F){a(F instanceof Error?F.message:"Failed to change password")}},W=async F=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await V.auth.removeUser({userId:F}),await R()}catch(J){a(J instanceof Error?J.message:"Failed to delete user")}},Q=async()=>{if(!(!o||!y.trim()))try{const F=y;await V.auth.updateUser({userId:o.id,data:F}),h(!1),w(""),c(null),await R()}catch(F){a(F instanceof Error?F.message:"Failed to add custom field")}},te=F=>new Date(F).toLocaleDateString("en-uk",{year:"numeric",month:"long",day:"numeric"}),Y=(F,J)=>{if(F==="permanent")return null;const ue=new Date;switch(F){case"hours":return ue.getTime()+J*60*60*1e3;case"days":return ue.getTime()+J*24*60*60*1e3;case"weeks":return ue.getTime()+J*7*24*60*60*1e3;case"months":return ue.getTime()+J*30*24*60*60*1e3;default:return null}},X=F=>{k(F),C(""),A("permanent"),_(1),f(!0)},q=async()=>{if(!x)return;const F=I==="permanent"?void 0:Y(I,S);try{const J={userId:x.id};v.trim()&&(J.banReason=v.trim()),F!=null&&(J.banExpiresIn=Math.floor(F/1e3)),await V.auth.banUser(J),f(!1),k(null),C(""),await R(),a("")}catch(J){a(J instanceof Error?J.message:"Failed to ban user")}},oe=()=>["Spam","Harassment","Inappropriate content","Violation of terms","Multiple complaints","Impersonation","Malicious behavior","Admin discretion"];return e(G,{children:[e(Te,{children:[e("title",{children:"User Management - My Website"}),e("meta",{name:"description",content:"Admin panel for managing users. Ban/unban users, change passwords, add custom fields, and perform administrative user operations."}),e("meta",{name:"keywords",content:"admin users, user management, ban users, user administration, account management"}),e("link",{rel:"canonical",href:"/admin/users"}),e("meta",{property:"og:title",content:"User Management - My Website"}),e("meta",{property:"og:description",content:"Admin panel for managing users. Ban/unban users, change passwords, add custom fields, and perform administrative user operations."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/admin/users"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"User Management - My Website"}),e("meta",{name:"twitter:description",content:"Admin panel for managing users. Ban/unban users, change passwords, add custom fields, and perform administrative user operations."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e("a",{href:"/admin",class:"btn btn-ghost btn-sm",children:"â Back to Admin"}),e(ya,{}),"User Management"]}),i&&e("div",{role:"alert",className:"alert alert-error mb-4",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:i})]}),n?e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})}):e("div",{className:"overflow-x-auto",children:e("table",{className:"table table-zebra w-full",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Name"}),e("th",{children:"Email"}),e("th",{children:"ID"}),e("th",{children:"Role"}),e("th",{children:"Status"}),e("th",{children:"Created"}),e("th",{children:"Actions"})]})}),e("tbody",{children:r.map(F=>e("tr",{children:[e("td",{children:e("a",{href:`/profile/${F.id}`,className:"flex items-center gap-3",children:[e(et,{name:F.name,image:F.image}),e("div",{children:[e("div",{className:"font-bold",children:F.name}),F.emailVerified&&e("span",{className:"badge badge-success badge-sm mr-1",children:"Verified Email"})]})]})}),e("td",{children:F.email}),e("td",{children:F.id}),e("td",{children:e("span",{className:`badge ${F.role==="admin"?"badge-primary":"badge-secondary"}`,children:F.role||"user"})}),e("td",{children:F.banned?e("span",{className:"badge badge-error",children:"Banned"}):e("span",{className:"badge badge-success",children:"Normal"})}),e("td",{children:te(F.createdAt)}),e("td",{children:e("div",{className:"flex gap-1",children:[F.banned?e("button",{className:"btn btn-sm btn-success",onClick:()=>M(F.id),title:"Unban user",children:e(il,{})}):e("button",{className:"btn btn-sm btn-error",onClick:()=>X(F),title:"Ban user",children:e(Rr,{})}),e("button",{className:"btn btn-sm btn-secondary",onClick:()=>{c(F),d(!0)},title:"Change password",children:e(Er,{})}),e("button",{className:"btn btn-sm btn-info",onClick:()=>{c(F),h(!0)},title:"Set user data",children:e($u,{})}),e("button",{className:"btn btn-sm btn-error",onClick:()=>W(F.id),title:"Delete user",children:e(va,{})})]})})]},F.id))})]})}),l&&o&&e("div",{className:"modal modal-open",children:e("div",{className:"modal-box",children:[e("h3",{className:"font-bold text-lg flex items-center gap-2",children:[e(Er,{}),"Change Password for ",o.name]}),e("div",{className:"py-4",children:e("input",{type:"password",placeholder:"Enter new password",className:"input input-bordered w-full",value:p,onChange:F=>b(F.currentTarget.value)})}),e("div",{className:"modal-action",children:[e("button",{className:"btn btn-ghost",onClick:()=>{d(!1),b(""),c(null)},children:"Cancel"}),e("button",{className:"btn btn-primary",onClick:j,disabled:!p.trim(),children:"Change Password"})]})]})}),u&&o&&e("div",{className:"modal modal-open",children:e("div",{className:"modal-box",children:[e("h3",{className:"font-bold text-lg flex items-center gap-2",children:[e(nl,{}),"Set User Data for ",o.name]}),e("p",{className:"text-sm text-base-content/70 mb-4",children:["Store arbitrary JSON data with this user (e.g., custom fields, metadata). This will be stored as ",'{ "customField": "value" }',"."]}),e("div",{className:"py-4",children:e("input",{type:"text",placeholder:"Enter value (e.g., admin notes, internal flags)",className:"input input-bordered w-full",value:y,onChange:F=>w(F.currentTarget.value)})}),e("div",{className:"modal-action",children:[e("button",{className:"btn btn-ghost",onClick:()=>{h(!1),w(""),c(null)},children:"Cancel"}),e("button",{className:"btn btn-primary",onClick:Q,disabled:!y.trim(),children:"Save Data"})]})]})}),e(hd,{isOpen:m,user:x,onClose:()=>{f(!1),k(null),C("")},onSubmit:()=>q(),banReason:v,setBanReason:C,banDuration:I,setBanDuration:A,banDurationValue:S,setBanDurationValue:_,getPresetBanReasons:oe})]})]})}const $0=(r,t)=>{if(r==="permanent")return null;const n=new Date;switch(r){case"hours":return n.getTime()+t*60*60*1e3;case"days":return n.getTime()+t*24*60*60*1e3;case"weeks":return n.getTime()+t*7*24*60*60*1e3;case"months":return n.getTime()+t*30*24*60*60*1e3;default:return null}};function q0(r){const[t,n]=g(null),[s,i]=g(""),[a,o]=g("permanent"),[c,l]=g(1);return{banUserSelected:t,setBanUserSelected:n,banReason:s,setBanReason:i,banDuration:a,setBanDuration:o,banDurationValue:c,setBanDurationValue:l,openBanDialog:m=>{n(m),i(""),o("permanent"),l(1)},handleAdvancedBanUser:async()=>{if(!t)return;const m=a==="permanent"?void 0:$0(a,c);try{const f={userId:t.id};s.trim()&&(f.banReason=s.trim()),m!=null&&(f.banExpiresIn=Math.floor(m/1e3)),await V.auth.banUser(f),n(null),i(""),r()}catch(f){console.error("Failed to ban user:",f)}},getPresetBanReasons:()=>["Spam","Harassment","Inappropriate content","Violation of terms","Multiple complaints","Impersonation","Malicious behavior","Admin discretion"]}}function hd({isOpen:r,user:t,onClose:n,onSubmit:s,banReason:i,setBanReason:a,banDuration:o,setBanDuration:c,banDurationValue:l,setBanDurationValue:d,getPresetBanReasons:u}){if(!r||!t)return null;const h=(m,f)=>{if(m==="permanent")return null;const p=new Date;switch(m){case"hours":return p.getTime()+f*60*60*1e3;case"days":return p.getTime()+f*24*60*60*1e3;case"weeks":return p.getTime()+f*7*24*60*60*1e3;case"months":return p.getTime()+f*30*24*60*60*1e3;default:return null}};return e("div",{className:"modal modal-open",children:e("div",{className:"modal-box max-w-md",children:[e("h3",{className:"font-bold text-lg flex items-center gap-2 mb-4",children:[e(Et,{className:"text-error"}),"Ban User: ",t.name]}),e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Ban Reason (Optional)"})}),e("textarea",{className:"textarea textarea-bordered w-full h-24 resize-none",placeholder:"Enter reason for ban...",value:i,onChange:m=>a(m.currentTarget.value),maxLength:500}),e("div",{className:"label",children:e("span",{className:"label-text-alt text-base-content/60",children:[i.length,"/500 characters"]})}),e("div",{className:"mt-2",children:[e("label",{className:"label",children:e("span",{className:"label-text text-sm",children:"Quick Select:"})}),e("div",{className:"flex flex-wrap gap-1",children:u().map(m=>e("button",{className:"btn btn-xs btn-outline",onClick:()=>a(m),type:"button",children:m},m))})]})]}),e("div",{children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Ban Duration"})}),e("div",{className:"flex gap-2",children:[e("select",{className:"select select-bordered flex-1",value:o,onChange:m=>c(m.currentTarget.value),children:[e("option",{value:"permanent",children:[e(Uu,{className:"inline mr-2"}),"Permanent"]}),e("option",{value:"hours",children:[e(kn,{className:"inline mr-2"}),"Hours"]}),e("option",{value:"days",children:[e(kn,{className:"inline mr-2"}),"Days"]}),e("option",{value:"weeks",children:[e(kn,{className:"inline mr-2"}),"Weeks"]}),e("option",{value:"months",children:[e(kn,{className:"inline mr-2"}),"Months"]})]}),o!=="permanent"&&e("input",{type:"number",className:"input input-bordered w-20",min:"1",max:"999",value:l,onChange:m=>d(parseInt(m.currentTarget.value)||1)})]}),o!=="permanent"&&e("div",{className:"label",children:e("span",{className:"label-text-alt text-base-content/60",children:["Expires:"," ",h(o,l)?new Date(h(o,l)).toLocaleString():"Invalid date"]})})]})]}),e("div",{className:"alert alert-warning mt-4",children:[e(Et,{}),e("div",{children:[e("div",{className:"font-semibold",children:"Warning"}),e("div",{className:"text-sm",children:"This will restrict the user's access. Ensure the ban is justified and follows community guidelines."})]})]}),e("div",{className:"modal-action",children:[e("button",{className:"btn btn-ghost",onClick:()=>{n(),a("")},children:"Cancel"}),e("button",{className:"btn btn-error",onClick:s,children:[e(Rr,{className:"mr-2"}),"Ban User"]})]})]})})}function H0(){const[r,t]=g([]),[n,s]=g(!0),[i,a]=g("");ee(()=>{o()},[]);const o=async()=>{try{s(!0);const d=await V.blog.getBlogAdminCommentsPending();t(d.data),a("")}catch(d){a(d instanceof Error?d.message:"Failed to fetch pending comments"),console.error("Error fetching comments:",d)}finally{s(!1)}},c=async d=>{try{await V.blog.patchBlogAdminCommentsByCommentIdModerate(d,{action:"accept"}),t(u=>u.filter(h=>h._id!==d))}catch(u){a(u instanceof Error?u.message:"Failed to accept comment")}},l=async d=>{try{await V.blog.patchBlogAdminCommentsByCommentIdModerate(d,{action:"delete"}),t(u=>u.filter(h=>h._id!==d))}catch(u){a(u instanceof Error?u.message:"Failed to delete comment")}};return e(G,{children:[e(Te,{children:[e("title",{children:"Pending Comments - My Website"}),e("meta",{name:"description",content:"Admin panel for managing pending blog comments. Review, accept, or reject user comments before they are published."}),e("meta",{name:"keywords",content:"admin comments, pending comments, comment moderation, blog comments, content moderation"}),e("link",{rel:"canonical",href:"/admin/comments"}),e("meta",{property:"og:title",content:"Pending Comments - My Website"}),e("meta",{property:"og:description",content:"Admin panel for managing pending blog comments. Review, accept, or reject user comments before they are published."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/admin/comments"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Pending Comments - My Website"}),e("meta",{name:"twitter:description",content:"Admin panel for managing pending blog comments. Review, accept, or reject user comments before they are published."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e("a",{href:"/admin",class:"btn btn-ghost btn-sm",children:"â Back to Admin"}),e(ma,{}),"Pending Comments"]}),i&&e("div",{role:"alert",className:"alert alert-error mb-4",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:i})]}),n?e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})}):r.length===0?e("div",{className:"text-center py-8",children:e("h2",{className:"text-lg font-medium text-base-content/70",children:"No pending comments"})}):e("div",{className:"space-y-6",children:r.map((d,u)=>e(wl,{content:d.content,createdAt:d.createdAt,authorId:d.authorId,showAcceptButton:!0,onAccept:c,showDeleteButton:!0,onDelete:l,commentId:d._id},d._id||u))})]})]})}function W0(){const[r,t]=g([]),[n,s]=g(!0),[i,a]=g(""),[o,c]=g(null),[l,d]=g(!1),[u,h]=g(!1),[m,f]=g(!1),[p,b]=g(!1),[y,w]=g({eventName:"",eventPayload:""}),[x,k]=g({type:"info",text:"",time:"3000"});ee(()=>{v()},[]);const v=async()=>{try{s(!0);const _=await V.connections.getConnections();t(_.data.connections),a("")}catch(_){a(_ instanceof Error?_.message:"Failed to fetch connections")}finally{s(!1)}},C=async _=>{try{let R;try{R=JSON.parse(y.eventPayload||"{}")}catch{a("Invalid JSON payload");return}await V.connections.postConnectionsSendEvent({socketId:_,event:y.eventName,data:R}),d(!1),f(!1),w({eventName:"",eventPayload:""}),a(""),a("Event sent successfully"),setTimeout(()=>a(""),3e3)}catch(R){a(R instanceof Error?R.message:"Failed to send event")}},I=async _=>{try{const R={type:x.type,text:x.text,time:parseInt(x.time)||3e3};await V.connections.postConnectionsSendEvent({socketId:_,event:"notification",data:R}),h(!1),b(!1),k({type:"info",text:"",time:"3000"}),a(""),a("Notification sent successfully"),setTimeout(()=>a(""),3e3)}catch(R){a(R instanceof Error?R.message:"Failed to send notification")}},A=async _=>{if(confirm("Are you sure you want to disconnect this connection? The user will reconnect automatically unless their client has issues."))try{await V.connections.postConnectionsDisconnect({socketId:_}),await v(),a("")}catch(R){a(R instanceof Error?R.message:"Failed to disconnect connection")}},S=_=>new Date(_).toLocaleString("en-uk",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return e(G,{children:[e(Te,{children:[e("title",{children:"Connection Management - My Website"}),e("meta",{name:"description",content:"Admin panel for managing WebSocket connections. Monitor active users, send events and notifications, and manage real-time connections."}),e("meta",{name:"keywords",content:"admin connections, websocket management, real-time connections, user monitoring, connection management"}),e("link",{rel:"canonical",href:"/admin/connections"}),e("meta",{property:"og:title",content:"Connection Management - My Website"}),e("meta",{property:"og:description",content:"Admin panel for managing WebSocket connections. Monitor active users, send events and notifications, and manage real-time connections."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/admin/connections"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Connection Management - My Website"}),e("meta",{name:"twitter:description",content:"Admin panel for managing WebSocket connections. Monitor active users, send events and notifications, and manage real-time connections."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e("a",{href:"/admin",className:"btn btn-ghost btn-sm",children:"â Back to Admin"}),e(Ti,{}),"Connection Management"]}),e("div",{className:"mb-4 flex gap-2",children:[e("button",{className:"btn btn-primary",onClick:()=>f(!0),children:[e(Hs,{}),"Broadcast Event"]}),e("button",{className:"btn btn-secondary",onClick:()=>b(!0),children:[e(Sn,{}),"Broadcast Notification"]})]}),i&&e("div",{role:"alert",className:`alert mb-4 ${i.includes("success")?"alert-success":"alert-error"}`,children:e("span",{children:i})}),n?e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})}):e("div",{className:"overflow-x-auto",children:e("table",{className:"table table-zebra w-full",children:[e("thead",{children:e("tr",{children:[e("th",{children:"User"}),e("th",{children:"IP Address"}),e("th",{children:"Connected At"}),e("th",{children:"Route"}),e("th",{children:"Actions"})]})}),e("tbody",{children:r.map(_=>e("tr",{children:[e("td",{children:_.userData?e("a",{href:`/profile/${_.userData.id}`,className:"flex items-center gap-3",children:[e(et,{name:_.userData.name,image:_.userData.image}),e("div",{className:"flex flex-col",children:[e("div",{className:"font-bold",children:_.userData.name}),_.userData.banned&&e("span",{className:"badge badge-error badge-sm",children:"Banned"})]})]}):e("div",{className:"flex items-center gap-3",children:[e(Ti,{className:"w-8 h-8 text-base-content opacity-40"}),e("span",{children:"Anonymous"})]})}),e("td",{children:_.socketInfo.ip||"Unknown"}),e("td",{children:S(_.connectedAt)}),e("td",{className:"font-mono text-sm",children:_.route}),e("td",{children:e("div",{className:"flex gap-1",children:[e("button",{className:"btn btn-sm btn-info",title:"Send custom event",onClick:()=>{c(_),d(!0)},children:e(Hs,{})}),e("button",{className:"btn btn-sm btn-warning",title:"Send notification",onClick:()=>{c(_),h(!0)},children:e(Sn,{})}),e("button",{className:"btn btn-sm btn-error",title:"Force disconnect",onClick:()=>A(_.socketId),children:e(An,{})})]})})]},_.socketId))})]})}),(l||m)&&e("div",{className:"modal modal-open",children:e("div",{className:"modal-box",children:[e("h3",{className:"font-bold text-lg flex items-center gap-2",children:[e(Hs,{}),l?"Send Event to Connection":"Broadcast Event"]}),e("div",{className:"py-4",children:[e("div",{className:"form-control mb-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Event Name"})}),e("input",{type:"text",placeholder:"notification",className:"input input-bordered",value:y.eventName,onChange:_=>w(R=>({...R,eventName:_.currentTarget.value}))})]}),e("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Event Payload (JSON)"})}),e("textarea",{placeholder:'{"key": "value"}',className:"textarea textarea-bordered",value:y.eventPayload,onChange:_=>w(R=>({...R,eventPayload:_.currentTarget.value})),rows:4})]})]}),e("div",{className:"modal-action",children:[e("button",{className:"btn btn-ghost",onClick:()=>{d(!1),f(!1),w({eventName:"",eventPayload:""})},children:"Cancel"}),e("button",{className:"btn btn-primary",onClick:()=>C(l?o?.socketId:void 0),disabled:!y.eventName.trim(),children:"Send Event"})]})]})}),(u||p)&&e("div",{className:"modal modal-open",children:e("div",{className:"modal-box",children:[e("h3",{className:"font-bold text-lg flex items-center gap-2",children:[e(Sn,{}),u?"Send Notification to Connection":"Broadcast Notification"]}),e("div",{className:"py-4",children:[e("div",{className:"form-control mb-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Notification Type"})}),e("select",{className:"select select-bordered",value:x.type,onChange:_=>k(R=>({...R,type:_.currentTarget.value})),children:[e("option",{value:"info",children:"Info"}),e("option",{value:"success",children:"Success"}),e("option",{value:"warning",children:"Warning"}),e("option",{value:"error",children:"Error"})]})]}),e("div",{className:"form-control mb-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Message Text"})}),e("textarea",{placeholder:"Enter notification message...",className:"textarea textarea-bordered",value:x.text,onChange:_=>k(R=>({...R,text:_.currentTarget.value})),rows:3})]}),e("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Duration (ms)"})}),e("input",{type:"number",placeholder:"3000",className:"input input-bordered",value:x.time,onChange:_=>k(R=>({...R,time:_.currentTarget.value})),min:"1000",max:"10000"})]})]}),e("div",{className:"modal-action",children:[e("button",{className:"btn btn-ghost",onClick:()=>{h(!1),b(!1),k({type:"info",text:"",time:"3000"})},children:"Cancel"}),e("button",{className:"btn btn-primary",onClick:()=>I(u?o?.socketId:void 0),disabled:!x.text.trim(),children:"Send Notification"})]})]})})]})]})}function fd({banned:r,banReason:t,banExpires:n,className:s=""}){if(!r)return null;const i=new Date,a=n?new Date(n):null;if(a&&a<=i)return null;const c=l=>new Date(l).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return e("div",{className:`alert alert-error ${s}`,children:[e(Rr,{}),e("div",{className:"flex flex-col gap-1",children:[e("div",{className:"font-semibold",children:"User is Banned"}),t&&e("div",{className:"flex items-start gap-2 text-sm",children:[e(Mu,{className:"mt-0.5 flex-shrink-0"}),e("span",{children:t})]}),a&&e("div",{className:"flex items-center gap-2 text-sm",children:[e(kn,{}),e("span",{children:["Expires: ",c(a)]})]})]})]})}function V0(){const[r,t]=g([]),[n,s]=g([]),[i,a]=g(!0),[o,c]=g(""),l=async()=>{try{a(!0);const[f,p]=await Promise.all([V.admin.getAdminProfileUnverified(),V.auth.listUsers()]);t(f.data),s(p.data.users||[]),c("")}catch(f){c(f instanceof Error?f.message:"Failed to fetch data"),console.error("Error fetching data:",f)}finally{a(!1)}},d=q0(l);ee(()=>{l()},[]);const u=f=>n.find(p=>p.id===f),h=async f=>{try{await V.admin.postAdminProfileByUserIdVerify(f),await l()}catch(p){c(p instanceof Error?p.message:"Failed to verify profile")}},m=async f=>{try{await V.auth.unbanUser({userId:f}),await l()}catch(p){c(p instanceof Error?p.message:"Failed to unban user")}};return e(G,{children:[e(Te,{children:[e("title",{children:"Profile Verification - My Website"}),e("meta",{name:"description",content:"Admin panel for verifying user profile changes including names and images. Review and approve or reject profile modifications."}),e("meta",{name:"keywords",content:"admin profiles, profile verification, user verification, profile moderation, admin panel"}),e("link",{rel:"canonical",href:"/admin/profiles"}),e("meta",{property:"og:title",content:"Profile Verification - My Website"}),e("meta",{property:"og:description",content:"Admin panel for verifying user profile changes including names and images. Review and approve or reject profile modifications."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/admin/profiles"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Profile Verification - My Website"}),e("meta",{name:"twitter:description",content:"Admin panel for verifying user profile changes including names and images. Review and approve or reject profile modifications."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e("a",{href:"/admin",className:"btn btn-ghost btn-sm",children:"â Back to Admin"}),e(ya,{}),"Profile Verification"]}),o&&e("div",{role:"alert",className:"alert alert-error mb-4",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:o})]}),i?e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})}):r.length===0?e("div",{className:"text-center py-8",children:e("h2",{className:"text-lg font-medium text-base-content/70",children:"No unverified profiles"})}):e("div",{className:"overflow-x-auto",children:e("table",{className:"table table-zebra w-full",children:[e("thead",{children:e("tr",{children:[e("th",{children:"User ID"}),e("th",{children:"Current Profile"}),e("th",{children:"Proposed Changes"}),e("th",{children:"Status"}),e("th",{children:"Actions"})]})}),e("tbody",{children:r.map(f=>{const p=u(f.id);return e("tr",{children:[e("td",{children:f.id}),e("td",{children:e("a",{href:`/profile/${f.id}`,className:"flex items-center gap-3",children:[e(et,{name:f.verifiedName||"No Name",image:f.verifiedImage}),e("div",{children:e("div",{className:"font-bold",children:f.verifiedName||"No verified name"})})]})}),e("td",{children:e("a",{href:`/profile/${f.id}`,className:"flex items-center gap-3",children:[e(et,{name:f.name,image:f.image}),e("div",{children:[e("div",{className:"font-bold",children:f.name}),e("div",{className:"text-sm opacity-70",children:["New Icon:"," ",f.image!=f.verifiedImage?"Yes":"No"]})]})]})}),e("td",{children:p?p.banned?e(fd,{banned:p.banned,banReason:p.banReason,banExpires:p.banExpires,className:"text-xs"}):e("span",{className:"badge badge-success",children:"Active"}):e("span",{className:"badge badge-neutral",children:"Unknown"})}),e("td",{children:e("div",{className:"flex gap-1",children:[e("button",{className:"btn btn-sm btn-success",onClick:()=>h(f.id),title:"Verify profile changes",children:e(Yt,{})}),p?.banned?e("button",{className:"btn btn-sm btn-success",onClick:()=>m(f.id),title:"Unban user",children:e(il,{})}):e("button",{className:"btn btn-sm btn-error",onClick:()=>{const b=u(f.id);b&&d.openBanDialog(b)},title:"Ban user",children:e(Rr,{})})]})})]},f.id)})})]})}),e(hd,{isOpen:!!d.banUserSelected,user:d.banUserSelected,onClose:()=>d.setBanUserSelected(null),onSubmit:d.handleAdvancedBanUser,banReason:d.banReason,setBanReason:d.setBanReason,banDuration:d.banDuration,setBanDuration:d.setBanDuration,banDurationValue:d.banDurationValue,setBanDurationValue:d.setBanDurationValue,getPresetBanReasons:d.getPresetBanReasons})]})]})}function G0(r){const[t,n]=g(null),[s,i]=g(null),[a,o]=g(!0),[c,l]=g(null);ee(()=>{d()},[]);const d=async()=>{try{o(!0),l(null);const u=await V.auth.apiGetSessionList();if(!u.data)throw new Error("No session data received");i(u.data),n(u.data.user)}catch(u){if(console.error("Settings user data load error:",u),u?.error?.status===401){l("Session expired. Please log in again.");return}l(u?.error?.message||u?.message||"Failed to load user data. Please try refreshing the page.")}finally{o(!1)}};return a?e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})})})}):c||!t?e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"alert alert-error",children:e("span",{children:c||"User not authenticated"})})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Settings - My Website"}),e("meta",{name:"description",content:"Manage your account settings including profile information, password, notifications, connected accounts, and session management."}),e("meta",{name:"keywords",content:"settings, account settings, profile settings, user preferences, account management"}),e("link",{rel:"canonical",href:"/settings"}),e("meta",{property:"og:title",content:"Settings - My Website"}),e("meta",{property:"og:description",content:"Manage your account settings including profile information, password, notifications, connected accounts, and session management."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Settings - My Website"}),e("meta",{name:"twitter:description",content:"Manage your account settings including profile information, password, notifications, connected accounts, and session management."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-4xl mx-auto",children:[e("h1",{className:"text-3xl font-bold mb-8",children:"Account Settings"}),e("div",{className:"card bg-base-100 shadow-xl mb-8",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title",children:"Profile Information"}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",{type:"text",value:t.name,className:"input input-bordered w-full",readOnly:!0})]}),e("div",{children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",{type:"email",value:t.email,className:"input input-bordered w-full",readOnly:!0})]}),e("div",{children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Verified"})}),e("div",{className:"flex items-center gap-2",children:t.emailVerified?e(G,{children:[e(Yt,{className:"text-success"}),e("span",{children:"Email Verified"})]}):e(G,{children:[e(An,{className:"text-error"}),e("span",{children:"Email Not verified"})]})}),e("div",{className:"flex items-center gap-2",children:t.verifiedName==t.name&&(t.verifiedImage||null)==(t.image||null)?e(G,{children:[e(Yt,{className:"text-success"}),e("span",{children:"Profile Verified"})]}):e(G,{children:[e(An,{className:"text-error"}),e("span",{children:"Profile Not verified"})]})})]}),e("div",{children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Joined"})}),e("div",{children:e("span",{children:new Date(t.createdAt).toLocaleDateString()})})]})]})]})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(Ut,{size:32}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Change Name"}),e("p",{className:"text-sm opacity-70",children:"Update your display name"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/name",className:"btn btn-primary btn-sm",children:"Change Name"})})]})}),e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(ba,{size:32}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Change Password"}),e("p",{className:"text-sm opacity-70",children:"Update your password"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/password",className:"btn btn-primary btn-sm",children:"Change Password"})})]})}),!t.emailVerified&&e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow border-warning border-2",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(Jn,{size:32,className:"text-warning"}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Verify Email"}),e("p",{className:"text-sm opacity-70",children:"Your email is not verified. Verify it to access all features."})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:`/email-verification?email=${encodeURIComponent(t.email)}`,className:"btn btn-warning btn-sm",children:"Verify Email"})})]})}),e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(ga,{size:32}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Connected Accounts"}),e("p",{className:"text-sm opacity-70",children:"Manage social logins"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/accounts",className:"btn btn-primary btn-sm",children:"Manage Accounts"})})]})}),e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(sl,{size:32}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Active Sessions"}),e("p",{className:"text-sm opacity-70",children:"View and manage sessions"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/sessions",className:"btn btn-primary btn-sm",children:"View Sessions"})})]})}),e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(Sn,{size:32}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Notifications"}),e("p",{className:"text-sm opacity-70",children:"Manage email and push notification preferences"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/notifications",className:"btn btn-primary btn-sm",children:"Notification Settings"})})]})}),e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(rl,{size:32}),e("div",{children:[e("h3",{className:"card-title text-lg",children:"Uploaded Images"}),e("p",{className:"text-sm opacity-70",children:"Manage your account images, including profile picture"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/images",className:"btn btn-primary btn-sm",children:"Manage Images"})})]})}),e("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow border-red-500 border-2",children:e("div",{className:"card-body",children:[e("div",{className:"flex items-center gap-3",children:[e(Et,{size:32,className:"text-red-500"}),e("div",{children:[e("h3",{className:"card-title text-lg text-error",children:"Danger Zone"}),e("p",{className:"text-sm opacity-70",children:"Delete your account"})]})]}),e("div",{className:"card-actions justify-end mt-4",children:e("a",{href:"/settings/delete",className:"btn btn-error btn-outline btn-sm",children:"Delete Account"})})]})})]})]})})]})}function Q0(r){const[t,n]=g(null),[s,i]=g(""),[a,o]=g(!0),[c,l]=g(!1),[d,u]=g(null),[h,m]=g(!1);ee(()=>{f()},[]);const f=async()=>{try{o(!0),u(null);const y=await V.auth.apiGetSessionList();if(!y.data)throw new Error("No session data received");n(y.data.user),i(y.data.user.name)}catch(y){if(console.error("Name settings user data load error:",y),y?.error?.status===401){u("Session expired. Please log in again.");return}u(y?.error?.message||y?.message||"Failed to load user data. Please try refreshing the page.")}finally{o(!1)}},p=async()=>{if(!(!s.trim()||s.trim()===t?.name))try{l(!0),u(null),m(!1),await V.auth.apiUpdateUserCreate({name:s.trim()}),await f(),m(!0),setTimeout(()=>m(!1),3e3)}catch(y){console.error("Name update error:",y),u(y?.error?.message||y?.message||"Failed to update name")}finally{l(!1)}};if(a)return e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})})})});if(d&&!t)return e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"alert alert-error",children:e("span",{children:d})})})});const b=s.trim()!==t?.name&&s.trim()!=="";return e(G,{children:[e(Te,{children:[e("title",{children:"Name Settings - My Website"}),e("meta",{name:"description",content:"Update your display name and manage your profile information. Changes require verification before becoming publicly visible."}),e("meta",{name:"keywords",content:"name settings, display name, profile name, user name, account name"}),e("link",{rel:"canonical",href:"/settings/name"}),e("meta",{property:"og:title",content:"Name Settings - My Website"}),e("meta",{property:"og:description",content:"Update your display name and manage your profile information. Changes require verification before becoming publicly visible."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/name"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Name Settings - My Website"}),e("meta",{name:"twitter:description",content:"Update your display name and manage your profile information. Changes require verification before becoming publicly visible."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-2xl mx-auto",children:[e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold",children:"Change Name"})]}),e("div",{className:"card bg-base-100 shadow-xl",children:e("div",{className:"card-body",children:[e("div",{className:"form-control",children:[e("label",{className:"label",children:[e("span",{className:"label-text",children:"Display Name"}),e("span",{className:"label-text-alt",children:"Visible to other users"})]}),e("input",{type:"text",placeholder:"Enter your name",className:"input input-bordered w-full",value:s,onInput:y=>i(y.target.value),maxLength:50}),e("label",{className:"label",children:e("span",{className:"label-text-alt",children:[s.length,"/50 characters"]})})]}),d&&e("div",{className:"alert alert-error mt-4",children:e("span",{children:d})}),h&&e("div",{className:"alert alert-success mt-4",children:e("span",{children:"Name updated successfully!"})}),e("div",{className:"card-actions justify-between mt-6",children:[e("a",{href:"/settings",className:"btn btn-ghost",children:"Cancel"}),e("button",{className:`btn btn-primary ${c?"loading":""}`,onClick:p,disabled:!b||c,children:c?"Updating...":"Update Name"})]})]})}),e("div",{className:"alert alert-info mt-6",children:e("div",{children:[e("h3",{className:"font-bold",children:"Name Guidelines"}),e("div",{className:"text-sm",children:e("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e("li",{children:"Your name should be appropriate and respectful"}),e("li",{children:"Maximum 50 characters allowed"}),e("li",{children:"This name will be visible to other users"}),e("li",{children:"Name and profile image require verification before public display"})]})})]})})]})})]})}function K0(r){const[t,n]=g(""),[s,i]=g(""),[a,o]=g(""),[c,l]=g(!1),[d,u]=g(null),[h,m]=g(!1),[f,p]=g(!1),{route:b}=_t(),y=()=>t.trim()?s.trim()?s.length<8?(u("New password must be at least 8 characters long"),!1):s!==a?(u("Passwords do not match"),!1):t===s?(u("New password must be different from current password"),!1):!0:(u("New password is required"),!1):(u("Current password is required"),!1),w=async()=>{if(y())try{l(!0),u(null),m(!1),await V.auth.apiChangePasswordCreate({newPassword:s,currentPassword:t,revokeOtherSessions:f}),m(!0),n(""),i(""),o(""),setTimeout(()=>{m(!1),b("/settings")},5e3)}catch(C){console.error("Password update error:",C),u(C?.error?.message||C?.message||"Failed to update password")}finally{l(!1)}},x=C=>{let I=0;return C.length>=8&&I++,/[A-Z]/.test(C)&&I++,/[a-z]/.test(C)&&I++,/[0-9]/.test(C)&&I++,/[^A-Za-z0-9]/.test(C)&&I++,I},k=C=>["Very Weak","Weak","Fair","Good","Strong"][C-1]||"Very Weak",v=C=>["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"][C-1]||"bg-red-500";return e(G,{children:[e(Te,{children:[e("title",{children:"Password Settings - My Website"}),e("meta",{name:"description",content:"Change your account password securely. Update your login credentials and optionally revoke other active sessions."}),e("meta",{name:"keywords",content:"password settings, change password, account security, password update, session management"}),e("link",{rel:"canonical",href:"/settings/password"}),e("meta",{property:"og:title",content:"Password Settings - My Website"}),e("meta",{property:"og:description",content:"Change your account password securely. Update your login credentials and optionally revoke other active sessions."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/password"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Password Settings - My Website"}),e("meta",{name:"twitter:description",content:"Change your account password securely. Update your login credentials and optionally revoke other active sessions."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-2xl mx-auto",children:[e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold",children:"Change Password"})]}),e("div",{className:"card bg-base-100 shadow-xl",children:e("div",{className:"card-body",children:[e("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Current Password"})}),e("input",{type:"password",placeholder:"Enter current password",className:"input input-bordered w-full",value:t,onInput:C=>n(C.target.value)})]}),e("div",{className:"form-control mt-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"New Password"})}),e("input",{type:"password",placeholder:"Enter new password",className:"input input-bordered w-full",value:s,onInput:C=>i(C.target.value)}),s&&e("div",{className:"mt-2",children:[e("div",{className:"flex items-center justify-between text-sm",children:[e("span",{children:"Password strength:"}),e("span",{className:`font-medium ${v(x(s)).replace("bg-","text-")}`,children:k(x(s))})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e("div",{className:`h-2 rounded-full ${v(x(s))}`,style:{width:`${x(s)/5*100}%`}})})]})]}),e("div",{className:"form-control mt-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Confirm New Password"})}),e("input",{type:"password",placeholder:"Confirm new password",className:"input input-bordered w-full",value:a,onInput:C=>o(C.target.value)}),a&&s&&e("div",{className:"mt-1 flex items-center gap-1",children:s===a?e("span",{className:"text-success text-sm",children:[e(Yt,{})," Passwords match"]}):e("span",{className:"text-error text-sm",children:[e(An,{})," Passwords do not match"]})})]}),e("div",{className:"form-control mt-4",children:e("label",{className:"label cursor-pointer",children:[e("input",{type:"checkbox",className:"checkbox",checked:f,onChange:C=>p(C.target.checked)}),e("span",{className:"label-text",children:["Revoke all other sessions",e("span",{className:"text-sm opacity-70 block",children:"Log out from all devices and browsers after password change"})]})]})}),d&&e("div",{className:"alert alert-error mt-4",children:e("span",{children:d})}),h&&e("div",{className:"alert alert-success mt-4",children:e("span",{children:"Password updated successfully! All other sessions have been revoked if selected."})}),e("div",{className:"card-actions justify-between mt-6",children:[e("a",{href:"/settings",className:"btn btn-ghost",children:"Cancel"}),e("button",{className:`btn btn-primary ${c?"loading":""}`,onClick:w,disabled:c||!t||!s||!a,children:c?"Updating...":"Update Password"})]})]})}),e("div",{className:"alert alert-info mt-6",children:e("div",{children:[e("h3",{className:"font-bold",children:"Password Requirements"}),e("div",{className:"text-sm",children:e("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e("li",{children:"Minimum 8 characters long"}),e("li",{children:"Use a mix of uppercase and lowercase letters"}),e("li",{children:"Include at least one number"}),e("li",{children:"Add special characters for extra strength"}),e("li",{children:"Choose a password different from your current one"})]})})]})})]})})]})}function Y0(r){const[t,n]=g([]),[s,i]=g(!0),[a,o]=g(null),[c,l]=g(null),[d,u]=g(null),[h,m]=g(null);ee(()=>{f()},[]);const f=async()=>{try{i(!0),u(null);const v=await V.auth.apiListAccountsList();n(v.data||[])}catch(v){console.error("Connected accounts load error:",v),u(v?.error?.message||v?.message||"Failed to load accounts")}finally{i(!1)}},p=async(v,C)=>{try{o(v),u(null),await V.auth.apiUnlinkAccountCreate({providerId:v,accountId:C}),m(`Successfully unlinked ${y(v)}`),await f(),setTimeout(()=>m(null),3e3)}catch(I){console.error("Unlink account error:",I),u(I?.error?.message||I?.message||"Failed to unlink account")}finally{o(null)}},b=async v=>{try{l(v),u(null);const C=(await V.auth.apiLinkSocialCreate({provider:v,callbackURL:`${window.location.origin}/settings/accounts`})).data;window.location.href=C.url,await f()}catch(C){console.error("Link account error:",C),u(C?.error?.message||C?.message||"Failed to link account")}finally{l(null)}},y=v=>({google:"Google",twitter:"Twitter",github:"GitHub",discord:"Discord",facebook:"Facebook"})[v]||v,w=v=>({google:e(Ca,{size:32}),twitter:e(xa,{size:32}),github:e(Cu,{size:32}),discord:e(_u,{size:32}),facebook:e(xu,{size:32})})[v]||e(ga,{}),x=v=>t.some(C=>C.providerId===v),k=["google","twitter","github","discord"];return s?e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Connected Accounts - My Website"}),e("meta",{name:"description",content:"Manage your connected social media accounts including Google, Twitter, GitHub, Discord, and Facebook. Link or unlink accounts for easier sign-in."}),e("meta",{name:"keywords",content:"connected accounts, social login, oauth, google, twitter, github, discord, facebook"}),e("link",{rel:"canonical",href:"/settings/accounts"}),e("meta",{property:"og:title",content:"Connected Accounts - My Website"}),e("meta",{property:"og:description",content:"Manage your connected social media accounts including Google, Twitter, GitHub, Discord, and Facebook. Link or unlink accounts for easier sign-in."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/accounts"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Connected Accounts - My Website"}),e("meta",{name:"twitter:description",content:"Manage your connected social media accounts including Google, Twitter, GitHub, Discord, and Facebook. Link or unlink accounts for easier sign-in."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-3xl mx-auto",children:[e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold",children:"Connected Accounts"})]}),e("div",{className:"card bg-base-100 shadow-xl mb-8",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl mb-4",children:"Linked Accounts"}),t.length===0?e("p",{className:"text-gray-500",children:"No accounts linked yet. Connect your social accounts below."}):e("div",{className:"space-y-4",children:t.map(v=>e("div",{className:"flex items-center justify-between p-4 border border-base-300 rounded-lg",children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"text-lg",children:w(v.providerId)}),e("div",{children:[e("div",{className:"font-semibold",children:y(v.providerId)}),e("div",{className:"text-sm text-gray-500",children:["Connected on"," ",new Date(v.createdAt).toLocaleDateString()]}),v.scopes&&v.scopes.length>0&&e("div",{className:"text-xs text-gray-400",children:["Scopes: ",v.scopes.join(", ")]})]})]}),e("button",{className:`btn btn-sm btn-outline btn-error ${a===v.providerId?"loading":""}`,onClick:()=>p(v.providerId,v.accountId),disabled:a!==null,children:a===v.providerId?"Unlinking...":"Unlink"})]},v.id))})]})}),e("div",{className:"card bg-base-100 shadow-xl",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl mb-4",children:"Connect New Account"}),e("p",{className:"text-sm text-gray-600 mb-6",children:"Connect your social accounts to easily sign in and link your profiles."}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(v=>{const C=x(v);return e("div",{className:`flex items-center justify-between p-4 border border-base-300 rounded-lg ${C?"bg-base-200":""}`,children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"text-lg",children:w(v)}),e("div",{children:[e("div",{className:"font-semibold",children:y(v)}),e("div",{className:"text-sm text-gray-500",children:C?"Already connected":"Available to connect"})]})]}),e("button",{className:`btn btn-sm ${C?"btn-disabled":"btn-primary"} ${c===v?"loading":""}`,onClick:()=>b(v),disabled:C||c!==null,children:C?"Connected":c===v?"Connecting...":"Connect"})]},v)})})]})}),d&&e("div",{className:"alert alert-error mt-6",children:e("span",{children:d})}),h&&e("div",{className:"alert alert-success mt-6",children:e("span",{children:h})}),e("div",{className:"alert alert-info mt-6",children:e("div",{children:[e("h3",{className:"font-bold",children:"About Connected Accounts"}),e("div",{className:"text-sm mt-2",children:[e("p",{className:"mb-2",children:"Connecting social accounts allows you to:"}),e("ul",{className:"list-disc list-inside space-y-1",children:[e("li",{children:"Sign in more easily using your social credentials"}),e("li",{children:"Link your profiles across different platforms"}),e("li",{children:"Import profile information and avatars"}),e("li",{children:"Maintain a unified account across services"})]}),e("p",{className:"mt-2",children:[e("strong",{children:"Note:"})," Unlinking an account will remove the connection but won't delete your account. Make sure you have other ways to sign in before unlinking your last connected account."]})]})]})})]})})]})}function J0(r){const[t,n]=g([]),[s,i]=g(!0),[a,o]=g(null),[c,l]=g(!1),[d,u]=g(null),[h,m]=g(null),[f,p]=g(null);ee(()=>{b()},[]);const b=async()=>{try{i(!0),u(null);const A=await V.auth.apiGetSessionList();if(!A.data)throw new Error("No session data received");p(A.data.session.id);const S=await V.auth.apiListSessionsList();n(S.data||[])}catch(A){if(console.error("Sessions load error:",A),A?.error?.status===401){u("Session expired. Please log in again.");return}u(A?.error?.message||A?.message||"Failed to load sessions. Please try refreshing the page.")}finally{i(!1)}},y=A=>{if(!A)return e(Si,{});const S=A.toLowerCase();return S.includes("mobile")||S.includes("android")||S.includes("iphone")?e(sl,{}):S.includes("tablet")||S.includes("ipad")?e(Qu,{}):e(Si,{})},w=A=>{if(!A)return"Desktop";const S=A.toLowerCase();return S.includes("mobile")?"Mobile":S.includes("tablet")?"Tablet":S.includes("android")?"Android":S.includes("iphone")||S.includes("ipad")?"iOS":S.includes("windows")?"Windows":S.includes("mac")?"macOS":S.includes("linux")?"Linux":"Desktop"},x=async(A,S=!1)=>{if(S){await k();return}try{o(A),u(null),await V.auth.apiRevokeSessionCreate({token:A}),m("Session revoked successfully"),await b(),setTimeout(()=>m(null),3e3)}catch(_){console.error("Revoke session error:",_),u(_?.error?.message||_?.message||"Failed to revoke session")}finally{o(null)}},k=async()=>{try{l(!0),u(null),await V.auth.apiRevokeOtherSessionsCreate({}),m("All other sessions revoked successfully"),await b(),setTimeout(()=>m(null),3e3)}catch(A){console.error("Revoke other sessions error:",A),u(A?.error?.message||A?.message||"Failed to revoke other sessions")}finally{l(!1)}},v=A=>{const S=new Date(A),R=new Date().getTime()-S.getTime(),M=Math.floor(R/(1e3*60*60*24)),j=Math.floor(R/(1e3*60*60)),W=Math.floor(R/(1e3*60));return W<1?"Just now":W<60?`${W} minutes ago`:j<24?`${j} hours ago`:M<7?`${M} days ago`:S.toLocaleDateString()+" "+S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},C=t.filter(A=>A.id!==f),I=C.length>0;return s?e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Active Sessions - My Website"}),e("meta",{name:"description",content:"View and manage your active login sessions across different devices and browsers. Monitor security and revoke access from suspicious sessions."}),e("meta",{name:"keywords",content:"active sessions, session management, device management, security, revoke sessions"}),e("link",{rel:"canonical",href:"/settings/sessions"}),e("meta",{property:"og:title",content:"Active Sessions - My Website"}),e("meta",{property:"og:description",content:"View and manage your active login sessions across different devices and browsers. Monitor security and revoke access from suspicious sessions."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/sessions"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Active Sessions - My Website"}),e("meta",{name:"twitter:description",content:"View and manage your active login sessions across different devices and browsers. Monitor security and revoke access from suspicious sessions."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-4xl mx-auto",children:[e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold",children:"Active Sessions"})]}),I&&e("div",{className:"card bg-base-100 shadow-xl mb-8",children:e("div",{className:"card-body",children:e("div",{className:"flex items-center justify-between",children:[e("div",{children:[e("h3",{className:"card-title text-lg",children:"Active Sessions"}),e("p",{className:"text-sm opacity-70",children:[C.length," other session",C.length!==1?"s":""," active"]})]}),e("button",{className:`btn btn-outline btn-error ${c?"loading":""}`,onClick:k,disabled:c,children:c?"Revoking...":"Revoke All Others"})]})})}),f&&e("div",{className:"card bg-base-100 shadow-xl mb-8",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl mb-4",children:"Current Session"}),e("div",{className:"space-y-4",children:t.filter(A=>A.id===f).map(A=>e("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-success text-success-content bg-opacity-10 border-success border-opacity-30",children:[e("div",{className:"flex items-center gap-3",children:[e(Yt,{size:32}),e("div",{children:[e("div",{className:"font-semibold flex items-center gap-2",children:[w(A.userAgent||""),e("span",{className:"badge badge-success badge-sm",children:"Current"})]}),e("div",{className:"text-sm",children:["IP: ",A.ipAddress||"Unknown"]}),e("div",{className:"text-sm",children:["Started: ",v(A.createdAt)]})]})]}),e("div",{className:"text-xs opacity-50",children:"Active now"})]},A.id))})]})}),e("div",{className:"card bg-base-100 shadow-xl",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl mb-4",children:"Other Sessions"}),I?e("div",{className:"space-y-4",children:C.map(A=>e("div",{className:"flex items-center justify-between p-4 border border-base-300 rounded-lg",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"avatar placeholder",children:e("div",{className:"bg-neutral text-neutral-content rounded-full w-10 flex items-center justify-center text-sm",children:y(A.userAgent||"")})}),e("div",{children:[e("div",{className:"font-semibold",children:w(A.userAgent||"")}),e("div",{className:"text-sm text-gray-500",children:["IP: ",A.ipAddress||"Unknown"]}),e("div",{className:"text-sm text-gray-500",children:["Started: ",v(A.createdAt)]}),e("div",{className:"text-sm text-gray-500",children:["Last active: ",v(A.updatedAt)]})]})]}),e("button",{className:`btn btn-sm btn-outline btn-error ${a===A.token?"loading":""}`,onClick:()=>x(A.token),disabled:a!==null||c,children:a===A.token?"Revoking...":"Revoke"})]},A.id))}):e("div",{className:"text-center py-8",children:[e(ba,{className:"text-6xl mb-4 mx-auto"}),e("h3",{className:"font-bold text-lg mb-2",children:"No Other Active Sessions"}),e("p",{className:"text-gray-500 text-sm",children:"Other devices and browsers where you're signed in will appear here."})]})]})}),d&&e("div",{className:"alert alert-error mt-6",children:e("span",{children:d})}),h&&e("div",{className:"alert alert-success mt-6",children:e("span",{children:h})}),e("div",{className:"alert alert-info mt-6",children:e("div",{children:[e("h3",{className:"font-bold",children:"Session Security"}),e("div",{className:"text-sm mt-2",children:[e("p",{className:"mb-2",children:"Active sessions represent devices and browsers where you're currently signed in."}),e("ul",{className:"list-disc list-inside space-y-1",children:[e("li",{children:"Monitor and revoke access from suspicious or unused devices"}),e("li",{children:"Regularly review your active sessions for security"}),e("li",{children:"Revoking a session immediately logs it out"}),e("li",{children:"If you suspect unauthorized access, change your password immediately"})]})]})]})})]})})]})}function X0(r){const t=_a(),[n,s]=g(null),[i,a]=g([]),[o,c]=g(!0),[l,d]=g(!1),[u,h]=g(!1),[m,f]=g(null),[p,b]=g(null),[y,w]=g(null),x=Ye(null);ee(()=>{k()},[]);const k=async()=>{try{c(!0),b(null);const _=await V.auth.apiGetSessionList();if(!_.data)throw new Error("No session data received");s(_.data.user),await v()}catch(_){if(console.error("Settings data load error:",_),_?.error?.status===401){b("Session expired. Please log in again.");return}b(_?.error?.message||_?.message||"Failed to load data. Please try refreshing the page.")}finally{c(!1)}},v=async()=>{try{const _=await V.images.getImages();if(_.data&&_.data.images){const R=_.data.images.map(M=>({id:M.id,filename:M.filename,url:M.url,createdAt:new Date(M.uploadedAt).toISOString()}));a(R)}else a([])}catch(_){console.error("Failed to load images:",_),a([])}},C=_=>_.size>5242880?"File size must be less than 5MB":["image/jpeg","image/png","image/gif","image/webp"].includes(_.type)?null:"Only JPEG, PNG, GIF, and WebP images are allowed",I=async(_,R=0)=>{const M=_.target,j=M.files?.[0];if(!j)return;w(null);const W=C(j);if(W){w(W),M&&(M.value="");return}try{d(!0),w(null),await V.images.postImagesUpload({image:j}),await v(),t({text:"Image uploaded successfully!",type:"success",time:3e3}),M&&(M.value="")}catch(Q){if(console.error("Upload error:",Q),R<2&&(!Q?.error?.status||Q?.error?.status>=500)){w(`Upload failed, retrying... (${R+1}/3)`),setTimeout(()=>I(_,R+1),1e3+R*2e3);return}w(Q?.error?.message||Q?.message||"Failed to upload image")}finally{d(!1)}},A=async _=>{try{h(!0),await V.auth.apiUpdateUserCreate({image:_}),s(R=>R?{...R,image:_}:null),t({text:"Profile picture updated successfully!",type:"success",time:3e3})}catch(R){console.error("Profile update error:",R),t({text:R?.error?.message||R?.message||"Failed to update profile picture",type:"error",time:5e3})}finally{h(!1)}},S=async _=>{if(confirm("Are you sure you want to delete this image?"))try{f(_),await V.images.deleteImagesByImageId(_),await v(),t({text:"Image deleted successfully!",type:"success",time:3e3}),n?.image===_&&s(R=>R?{...R,image:null}:null)}catch(R){console.error("Delete error:",R),t({text:R?.error?.message||R?.message||"Failed to delete image",type:"error",time:5e3})}finally{f(null)}};if(o)return e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})})})});if(p&&!n)return e(G,{children:e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"alert alert-error",children:e("span",{children:p})})})});for(let _ of i)console.log(_?.id),console.log(pn(_?.id));return e(G,{children:[e(Te,{children:[e("title",{children:"Uploaded Images - My Website"}),e("meta",{name:"description",content:"Manage your uploaded profile images. Upload new images, set profile pictures, and organize your image gallery."}),e("meta",{name:"keywords",content:"uploaded images, profile pictures, image gallery, avatar, photo management"}),e("link",{rel:"canonical",href:"/settings/images"}),e("meta",{property:"og:title",content:"Uploaded Images - My Website"}),e("meta",{property:"og:description",content:"Manage your uploaded profile images. Upload new images, set profile pictures, and organize your image gallery."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/images"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Uploaded Images - My Website"}),e("meta",{name:"twitter:description",content:"Manage your uploaded profile images. Upload new images, set profile pictures, and organize your image gallery."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-4xl mx-auto",children:[e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold",children:"Uploaded Images"})]}),e("div",{className:"card bg-base-100 shadow-xl mb-6",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title",children:["Current Profile Picture"," ",e("button",{class:"btn btn-error btn-xs",onClick:()=>A(""),children:"Reset Profile Picture"})]}),e("div",{className:"flex items-center gap-4",children:[n&&e(et,{name:n.name,image:n.image||""}),e("div",{children:[e("p",{className:"text-sm opacity-70",children:"Your profile picture will be visible to other users on the site."}),n?.image&&e("p",{className:"text-sm mt-2",children:[e(Yt,{className:"text-success inline mr-1"}),"Profile picture is set"]}),!n?.image&&e("p",{className:"text-sm mt-2",children:[e(An,{className:"text-warning inline mr-1"}),"No profile picture set"]})]})]})]})}),e("div",{className:"card bg-base-100 shadow-xl mb-6",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title",children:"Upload New Image"}),e("div",{className:"form-control",children:[e("input",{ref:x,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",className:"file-input file-input-bordered w-full",onChange:I,disabled:l,"aria-label":"Upload new profile image","aria-describedby":"file-upload-help file-error-message"}),e("label",{className:"label",children:e("span",{id:"file-upload-help",className:"label-text-alt",children:"Maximum file size: 5MB. Supported formats: JPEG, PNG, GIF, WebP"})})]}),y&&e("div",{id:"file-error-message",className:"alert alert-error mt-4",role:"alert","aria-live":"polite",children:e("span",{children:y})}),l&&e("div",{className:"alert alert-info mt-4","aria-live":"polite",children:[e("span",{className:"loading loading-spinner loading-sm"}),e("span",{children:"Uploading image..."})]})]})}),e("div",{className:"card bg-base-100 shadow-xl",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title",children:"Your Images"}),i.length===0?e("div",{className:"text-center py-8 opacity-70",children:[e(rl,{size:48,className:"mx-auto mb-4"}),e("p",{children:"No images uploaded yet. Upload your first profile image above."})]}):e("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",role:"grid","aria-label":"Image gallery",children:i.map(_=>e("div",{className:"card bg-base-200 shadow-md",role:"gridcell",children:[e("figure",{className:"px-4 pt-4",children:e("img",{src:pn("/images/"+_.id),alt:_.filename,className:"rounded-xl w-full h-32 object-cover",onError:R=>{const M=R.target;M.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjOWNhM2FmIiBkPSJNMTIgMkM5LjIyIDIgNi4xNSA0Ljg3IDUuNTQgOC4wOGMtMC4xNiAwLjQzLTAuMjcgMC44OS0wLjI3IDEuMzh2MTAuNzVjMCAxLjEwLjg5IDIgMiAycTE2LjY3IDAgMTEuMzMtMTMuNzJDMTYuODMgNC42IDE0Ljc5IDIgMTIgMnoiLz48L3N2Zz4="}})}),e("div",{className:"card-body p-4",children:[e("div",{className:"card-actions justify-center gap-2",children:[e("button",{className:`btn btn-primary btn-xs ${u?"loading":""}`,onClick:()=>A("/images/"+_.id),disabled:u||n?.image===_.id,"aria-label":n?.image==="/images/"+_.id?`Current profile picture: ${_.filename}`:`Set ${_.filename} as profile picture`,children:n?.image==="/images/"+_.id?e(G,{children:[e(Yt,{size:12}),"Current"]}):"Set as Profile"}),e("button",{className:`btn btn-error btn-xs ${m===_.id?"loading":""}`,onClick:()=>S(_.id),disabled:m===_.id,"aria-label":`Delete image: ${_.filename}${n?.image===_.id?" (currently set as profile picture)":""}`,children:e(va,{size:12})})]}),n?.image===_.id&&e("p",{className:"text-xs text-center mt-2 text-primary font-medium","aria-live":"polite",children:"Currently set as profile picture"})]})]},_.id))})]})}),p&&e("div",{className:"alert alert-error mt-6",children:e("span",{children:p})}),e("div",{className:"alert alert-info mt-6",children:e("div",{children:[e("h3",{className:"font-bold",children:"Image Guidelines"}),e("div",{className:"text-sm",children:e("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e("li",{children:"Maximum file size: 5MB"}),e("li",{children:"Supported formats: JPEG, PNG, GIF, WebP"}),e("li",{children:"Images will be accessible to other logged-in users"}),e("li",{children:"Profile images require verification before public display"})]})})]})})]})})]})}const Z0=[{key:"chess_match_created",displayName:"Match Notices",description:"Receive notifications when chess matches are created or updated."}],vr=[{key:"email",displayName:"Email",icon:e(Jn,{}),supported:!0},{key:"push",displayName:"Browser Push",icon:e(Si,{}),supported:!1}];function e2(r){const[t,n]=g(null),[s,i]=g(!0),[a,o]=g([]),[c,l]=g(!0),[d,u]=g(null),[h,m]=g(!1),[f,p]=g(!1),[b,y]=g("default"),[w,x]=g(!1),[k,v]=g(null),[C,I]=g(null),A="BP7lZ9EBTKuO9ArR-ymCZoCauu0VJYxCrn09weZ7fCPMVpTxvUHoUoG2TY_I2ELGx512TOc1AuP3uMAk2nMug1Y",[S,_]=g(!1),[R,M]=g(!1),j=U=>{try{return ue(U).length===65}catch{return!1}},W=(U,B)=>{const E=U?.message||U?.toString()||"Unknown error";{if(E.includes("Script URL"))return{type:"service_worker_failed",message:E,recoverable:!0,userMessage:"Service worker registration failed. This is usually recoverable.",actionRequired:"Try refreshing the page or checking your browser console."};if(E.includes("permission"))return{type:"permission_denied",message:E,recoverable:!1,userMessage:"Service worker permission denied.",actionRequired:"Check your browser settings and try again."}}return E.includes("network")||E.includes("fetch")?{type:"network_error",message:E,recoverable:!0,userMessage:"Network connection issue.",actionRequired:"Check your internet connection and try again."}:{type:"unknown",message:E,recoverable:!0,userMessage:"An unexpected error occurred.",actionRequired:"Try again or contact support if the issue persists."}},Q=async()=>{try{i(!0);const U=await V.auth.apiGetSessionList();if(!U.data)throw new Error("No session data received");n(U.data.user)}catch(U){console.error("Notifications user data load error:",U)}finally{i(!1)}};ee(()=>{Q(),te()},[]);const te=async()=>{try{const U="serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window;console.log("Browser support check:",{serviceWorker:"serviceWorker"in navigator,PushManager:"PushManager"in window,Notification:"Notification"in window,isBrowserSupported:U});const B=A&&A.length>0&&j(A),E=U&&B;if(p(E),vr[1].supported=E,U){try{y(Notification.permission)}catch(K){console.warn("Could not get notification permission status:",K),y("default")}if(B)try{console.log("ð Init: Attempting initial service worker registration..."),await Y(),console.log("â Init: Service worker registered successfully")}catch(K){console.error("â ï¸ Init: Initial service worker registration failed:",K),console.log("ð Init: Attempting automatic retry in 2 seconds..."),setTimeout(async()=>{try{console.log("ð Init: Retrying service worker registration..."),await Y(),console.log("â Init: Service worker registered on retry!")}catch(be){console.error("â Init: Retry also failed, user will need manual intervention:",be)}},2e3)}}await X()}catch(U){console.error("Failed to initialize notifications:",U),v("Failed to initialize notification system")}},Y=async()=>{if(S){console.log("ð¡ SW Registration: Already in progress, skipping");return}console.log("ðµ SW Registration: Starting registration process...");const U=A.length>0&&j(A),B="serviceWorker"in navigator;B&&U||console.log("ð´ SW Registration: Invalid/missing VAPID key or browser not supported",{hasVapidKey:!0,vapidLength:A?.length||0,vapidValid:U,browserSupported:B}),_(!0);try{console.log("ð SW Registration: Checking existing registrations...");const be=(await navigator.serviceWorker.getRegistrations()).find(Xe=>{const P=new URL(Xe.scope),Z=new URL(window.location.origin);return P.origin===Z.origin});if(be)if(console.log("ð¢ SW Registration: Found existing registration:",be),be.active&&be.pushManager){console.log("ð¢ SW Registration: Existing registration is active with push manager"),x(!0),_(!1);return}else be.active?(console.log("ð¡ SW Registration: Existing registration active but no push manager, re-registering"),await be.unregister(),console.log("â SW Registration: Unregistered inactive/old service worker")):(console.log("ð¡ SW Registration: Existing registration not active, cleaning up"),await be.unregister());else console.log("ð SW Registration: No existing registration found for this site");console.log("ð SW Registration: Registering /sw.js...");const ye=await navigator.serviceWorker.register("/sw.js");console.log("â SW Registration: Registration successful:",{scope:ye.scope,state:ye.active?.state||"installing",url:ye.active?.scriptURL||"pending"}),console.log("â³ SW Registration: Waiting for service worker ready state...");const Pe=new Promise((Xe,P)=>setTimeout(()=>P(new Error("Service worker ready timeout (10s)")),1e4));await Promise.race([navigator.serviceWorker.ready,Pe]),console.log("â SW Registration: Service worker is ready");const Oe=await navigator.serviceWorker.ready;if(Oe.pushManager)console.log("â SW Registration: Push manager available"),x(!0),console.log("ð SW Registration: Complete success!",{scope:Oe.scope,hasPushManager:!!Oe.pushManager,workerState:Oe.active?.state});else throw new Error("Push manager not available on final registration")}catch(K){console.error("â SW Registration: Failed:",K);const be={message:K?.message||"Unknown error",name:K?.name||"Error",stack:K?.stack?.split(`
`)[0]||"No stack trace"};console.error("â SW Registration: Error details:",be),x(!1);const ye=W(K);throw ye.recoverable?(console.log("ð SW Registration: Error is recoverable, suggesting manual retry"),v(`Service worker registration failed: ${ye.userMessage}. ${ye.actionRequired}`)):(console.log("ð SW Registration: Error is permanent"),v(`Service worker registration failed permanently: ${ye.userMessage}`)),K}finally{_(!1),console.log("ð SW Registration: Process complete, lock released")}},X=async()=>{try{l(!0),v(null);const U=await V.notifications.getNotificationsSubscriptions();o(U.data||[])}catch(U){if(console.error("Load subscriptions error:",U),U?.error?.status===401){v("Session expired. Please log in again.");return}v(U?.error?.message||U?.message||"Failed to load notification settings. Please try refreshing the page.")}finally{l(!1)}},q=async()=>{if(!f)return!1;try{v(null);const U=await Notification.requestPermission();return y(U),U==="granted"?(I("Push notification permission granted!"),setTimeout(()=>I(null),3e3),!0):(v("Push notification permission denied. You can change this in your browser settings."),!1)}catch(U){return console.error("Permission request failed:",U),v("Failed to request permission for notifications"),!1}},oe=async()=>{if(!f||!w)throw new Error("Push notifications not supported");try{const U=await navigator.serviceWorker.ready;let B=await U.pushManager.getSubscription();B||(B=await U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ue(A)}));const E=B.getKey("p256dh"),K=B.getKey("auth");if(!E||!K)throw new Error("Failed to get subscription keys");const be={endpoint:B.endpoint,keys:{p256dh:se(E),auth:se(K)}};await V.notifications.postNotificationsRegisterPush({pushSubscription:be}),I("Push notifications registered successfully!"),setTimeout(()=>I(null),3e3)}catch(U){throw console.error("Push registration error:",U),new Error(U?.error?.message||U?.message||"Failed to register for push notifications")}},F=async(U,B)=>{try{const E=`${U}-${B}`;u(E),v(null),I(null);const K=a.find(ye=>ye.eventType===U);if(K?.methods.includes(B)??!1){if(K.methods.length===1)await V.notifications.postNotificationsUnsubscribe({eventType:U});else{const ye=K.methods.filter(Pe=>Pe!==B);await V.notifications.postNotificationsSubscribe({eventType:U,methods:ye})}I(`${B==="email"?"Email":"Push"} notifications disabled for ${U.replace("_"," ")}`)}else{if(K){const ye=[...K.methods,B];await V.notifications.postNotificationsSubscribe({eventType:U,methods:ye})}else await J(U,B);I(`${B==="email"?"Email":"Push"} notifications enabled for ${U.replace("_"," ")}`)}setTimeout(()=>I(null),3e3),await X()}catch(E){console.error("Toggle subscription error:",E),v("Failed to update notification settings, MAKE SURE YOU'VE VERIFIED YOUR EMAIL")}finally{u(null)}},J=async(U,B)=>{if(B==="push"){if(b!=="granted"&&!await q())throw new Error("Push permission denied");await oe()}await V.notifications.postNotificationsSubscribe({eventType:U,methods:[B]})},ue=U=>{const B="=".repeat((4-U.length%4)%4),E=(U+B).replace(/-/g,"+").replace(/_/g,"/"),K=window.atob(E),be=new Uint8Array(K.length);for(let ye=0;ye<K.length;++ye)be[ye]=K.charCodeAt(ye);return be},se=U=>{const B=new Uint8Array(U);let E="";for(let K=0;K<B.byteLength;K++)E+=String.fromCharCode(B[K]);return window.btoa(E)},xe=(U,B)=>a.some(E=>E.eventType===U&&E.methods.includes(B)),ce=U=>vr.find(B=>B.key===U)?.displayName||U;return c||s?e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Notifications Settings - My Website"}),e("meta",{name:"description",content:"Configure your notification preferences for email and browser push notifications. Manage alerts for match updates and other platform activities."}),e("meta",{name:"keywords",content:"notifications, notification settings, email notifications, push notifications, alerts, preferences"}),e("link",{rel:"canonical",href:"/settings/notifications"}),e("meta",{property:"og:title",content:"Notifications Settings - My Website"}),e("meta",{property:"og:description",content:"Configure your notification preferences for email and browser push notifications. Manage alerts for match updates and other platform activities."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/notifications"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Notifications Settings - My Website"}),e("meta",{name:"twitter:description",content:"Configure your notification preferences for email and browser push notifications. Manage alerts for match updates and other platform activities."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-6xl mx-auto",children:[t&&!t.emailVerified&&e("div",{className:"alert alert-warning mb-6",children:[e(Et,{}),e("div",{children:[e("h3",{className:"font-bold",children:"Email Not Verified"}),e("div",{className:"text-sm mt-1",children:["Your email address is not verified. Email notifications may not be delivered reliably. Please verify your email to ensure you receive all notifications.",e("a",{href:`/email-verification?email=${encodeURIComponent(t.email)}`,className:"btn btn-sm btn-info ml-2",children:"Verify Email"})]})]})]}),e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e(Sn,{}),"Notification Settings"]})]}),"I DONT KNOW"?e("div",{className:"alert alert-info mb-6",children:[e(is,{}),e("div",{children:[e("h3",{className:"font-bold",children:"iOS Push Notifications"}),e("div",{className:"text-sm mt-1",children:[e("p",{className:"mb-2",children:"On iOS devices, push notifications only work when this website is added to your home screen as a web app."}),e("div",{className:"space-y-1",children:[e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-primary font-semibold",children:"1."}),e("span",{children:"Tap the share button"})]}),e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-primary font-semibold",children:"â"}),e("span",{children:'Select "Add to Home Screen"'})]}),e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-primary font-semibold",children:"â"}),e("span",{children:"Open the web app from your home screen"})]}),e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-primary font-semibold",children:"â"}),e("span",{children:"Enable notifications when prompted"})]})]}),e("p",{className:"mt-2 text-xs opacity-75",children:"Push notifications won't work in Safari or other browsers on iOS."})]})]})]}):null,f&&e("div",{className:"alert alert-info mb-6",children:[e(is,{}),e("div",{children:[e("h3",{className:"font-bold",children:"Push Notification Status"}),e("div",{className:"text-sm mt-1 space-y-1",children:[e("div",{children:[e("strong",{children:"Browser Support:"})," ",e("span",{className:"text-green-700 font-semibold",children:"Supported"})]}),e("div",{children:[e("strong",{children:"Permission:"})," ",e("span",{className:`font-semibold ${b==="granted"?"text-green-700":b==="denied"?"text-error":"text-warning"}`,children:b==="granted"?"Granted":b==="denied"?"Blocked":"Not Requested"})]}),e("div",{children:[e("strong",{children:"Service Worker:"})," ",e("span",{className:`font-semibold ${w?"text-green-700":"text-error"}`,children:w?"Registered":"Failed"}),!w&&e("button",{className:"btn btn-xs btn-primary ml-2",onClick:async()=>{try{v(null),await Y(),I("Service Worker registered successfully!"),setTimeout(()=>I(null),3e3)}catch{v("Failed to register service worker. Check the browser console for details.")}},children:"Retry Registration"})]}),b==="denied"&&e("div",{className:"mt-2 text-xs",children:[e(Et,{className:"inline mr-1"}),"Browser notifications are blocked. You can enable them in your browser settings to receive push notifications."]})]})]})]}),A===null,!f&&e("div",{className:"alert alert-warning mb-6",children:[e(Et,{}),e("div",{children:[e("h3",{className:"font-bold",children:"Browser Not Supported"}),e("div",{className:"text-sm",children:"Your browser doesn't support push notifications. Browser push notifications will not be available. Email notifications are still supported."})]})]}),e("div",{className:"card bg-base-100 shadow-xl mb-6",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl mb-4",children:"Notification Preferences"}),e("p",{className:"text-sm opacity-70 mb-6",children:"Configure how you want to be notified about different events on the platform."}),e("div",{className:"overflow-x-auto",children:e("table",{className:"table table-zebra",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Event"}),e("th",{children:"Description"}),vr.map(U=>e("th",{className:"text-center",children:e("div",{className:"flex items-center justify-center gap-2",children:[U.icon,U.displayName,!U.supported&&e("span",{className:"text-xs text-error",children:"(Not supported)"}),U.key==="push"&&b==="denied"&&e("span",{className:"text-xs text-error",children:"(Blocked)"})]})},U.key))]})}),e("tbody",{children:Z0.map(U=>e("tr",{children:[e("td",{className:"font-semibold",children:U.displayName}),e("td",{className:"text-sm opacity-80 max-w-xs",children:U.description}),vr.map(B=>{const E=`${U.key}-${B.key}`,K=xe(U.key,B.key),be=d===E;return e("td",{className:"text-center",children:e("button",{className:`btn btn-sm ${K?"btn-success":"btn-outline btn-neutral"} ${be||h?"loading":""}`,onClick:()=>F(U.key,B.key),disabled:be||!B.supported||B.key==="push"&&b==="denied"||h,children:!be&&!h&&e(G,{children:K?e(G,{children:[e(Nu,{className:"mr-1"}),"On"]}):e(G,{children:[e(Sn,{className:"mr-1"}),"Off"]})})})},B.key)})]},U.key))})]})})]})}),a.length>0&&e("div",{className:"card bg-base-100 shadow-xl mb-6",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl",children:"Active Notifications"}),e("p",{className:"text-sm opacity-70 mb-4",children:"Overview of your current notification subscriptions."}),e("div",{className:"overflow-x-auto",children:e("table",{className:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Event"}),e("th",{children:"Methods"}),e("th",{children:"Created"})]})}),e("tbody",{children:a.map(U=>e("tr",{children:[e("td",{className:"font-semibold",children:U.eventType.replace("_"," ").replace(/\b\w/g,B=>B.toUpperCase())}),e("td",{children:e("div",{className:"flex gap-2",children:U.methods.map(B=>e("div",{className:"flex items-center gap-2 badge badge-outline",children:[vr.find(E=>E.key===B)?.icon,ce(B)]},B))})}),e("td",{className:"text-sm opacity-80",children:new Date(U.createdAt).toLocaleDateString()})]},U.id))})]})})]})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{className:"alert alert-info",children:[e(is,{}),e("div",{children:[e("h3",{className:"font-bold",children:"Browser Notifications"}),e("div",{className:"text-sm mt-1",children:"Push notifications require permission and a modern browser. You'll be prompted to allow notifications when enabling them."})]})]}),e("div",{className:"alert alert-info",children:[e(Jn,{}),e("div",{children:[e("h3",{className:"font-bold",children:"Email Notifications"}),e("div",{className:"text-sm mt-1",children:"Email notifications are sent to your registered email address. Make sure your email is verified for reliable delivery."})]})]})]}),k&&e("div",{className:"alert alert-error mt-6",children:[e(Et,{}),e("span",{children:k})]}),C&&e("div",{className:"alert alert-success mt-6",children:[e(Sn,{}),e("span",{children:C})]})]})})]})}function t2(r){const[t,n]=g(""),[s,i]=g(""),[a,o]=g(!1),[c,l]=g(null),[d,u]=g(null),{route:h}=_t();return e(G,{children:[e(Te,{children:[e("title",{children:"Delete Account - My Website"}),e("meta",{name:"description",content:"Permanently delete your account and all associated data. This action cannot be undone and will remove all your content, settings, and access."}),e("meta",{name:"keywords",content:"delete account, account deletion, remove account, permanent deletion, account removal"}),e("link",{rel:"canonical",href:"/settings/delete"}),e("meta",{property:"og:title",content:"Delete Account - My Website"}),e("meta",{property:"og:description",content:"Permanently delete your account and all associated data. This action cannot be undone and will remove all your content, settings, and access."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/settings/delete"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Delete Account - My Website"}),e("meta",{name:"twitter:description",content:"Permanently delete your account and all associated data. This action cannot be undone and will remove all your content, settings, and access."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto px-4 py-8",children:e("div",{className:"max-w-2xl mx-auto",children:[e("div",{className:"flex items-center gap-4 mb-8",children:[e("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),e("h1",{className:"text-3xl font-bold text-error",children:"Delete Account"})]}),e("div",{className:"alert alert-error mb-8",children:e("div",{children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.268 16.5c-.77.833 0 2.5 1.732 2.5z"})}),e("div",{children:[e("h3",{className:"font-bold text-lg",children:"Danger Zone"}),e("div",{className:"text-sm",children:"Deleting your account is permanent and cannot be undone. All your data, posts, comments, and settings will be permanently removed."})]})]})}),e("div",{className:"card bg-base-100 shadow-xl mb-8",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl text-error",children:"What will be deleted?"}),e("div",{className:"space-y-3",children:[e("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[e(Ut,{className:"text-error text-xl"}),e("div",{className:"text-sm",children:[e("strong",{children:"Profile & Personal Data:"})," Your name, email, profile picture, and personal information"]})]}),e("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[e(Pu,{className:"text-error text-xl"}),e("div",{className:"text-sm",children:[e("strong",{children:"Content & Activity:"})," All posts, comments, likes, and any content you've created"]})]}),e("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[e(ga,{className:"text-error text-xl"}),e("div",{className:"text-sm",children:[e("strong",{children:"Connected Accounts:"})," All social media links and connected services will be disconnected"]})]}),e("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[e(ba,{className:"text-error text-xl"}),e("div",{className:"text-sm",children:[e("strong",{children:"Sessions:"})," All active sessions will be terminated"]})]}),e("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[e(Lu,{className:"text-error text-xl"}),e("div",{className:"text-sm",children:[e("strong",{children:"Settings & Preferences:"})," All personal settings, themes, and customizations"]})]})]}),e("div",{className:"mt-6 p-4 bg-warning text-warning-content bg-opacity-10 border border-warning rounded-lg",children:[e("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e(Et,{}),"Important Considerations"]}),e("ul",{className:"text-sm list-disc list-inside space-y-1",children:[e("li",{children:[e("strong",{children:"Backup your data:"})," Download or save any important content before deleting"]}),e("li",{children:[e("strong",{children:"Connected services:"})," You may need to re-authorize with other services"]}),e("li",{children:[e("strong",{children:"Premium features:"})," Any paid features or subscriptions will be immediately canceled"]}),e("li",{children:[e("strong",{children:"No recovery:"})," Once deleted, accounts cannot be recovered"]})]})]})]})}),e("div",{className:"card bg-base-100 shadow-xl border-red-500 border-2",children:e("div",{className:"card-body",children:[e("h2",{className:"card-title text-xl text-error",children:"Confirm Account Deletion"}),e("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Enter your password to confirm"})}),e("input",{type:"password",placeholder:"Enter your current password",className:"input input-bordered w-full",value:t,onInput:f=>n(f.target.value)})]}),e("div",{className:"form-control mt-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:'Type "DELETE" to confirm permanent deletion'})}),e("input",{type:"text",placeholder:"Type DELETE here",className:"input input-bordered w-full",value:s,onInput:f=>i(f.target.value)}),e("label",{className:"label",children:e("span",{className:"label-text-alt",children:"This action cannot be undone"})})]}),c&&e("div",{className:"alert alert-error mt-4",children:e("span",{children:c})}),e("div",{className:"card-actions justify-between mt-8",children:[e("a",{href:"/settings",className:"btn btn-ghost",children:"Cancel"}),e("button",{className:`btn btn-error ${a?"loading":""}`,onClick:async()=>{if(!t.trim()){l("Password is required to delete your account");return}if(s!=="DELETE"){l("Please type 'DELETE' to confirm account deletion");return}try{o(!0),l(null);const f=await V.auth.apiDeleteUserCreate({password:t.trim(),callbackURL:`${window.location.origin}/settings`});f.data?.message==="Verification email sent"?(alert("A confirmation email has been sent to your email address. Please check your email and click the confirmation link to complete the account deletion."),h("/settings")):f.data?.success&&(alert("Your account has been successfully deleted."),h("/"))}catch(f){console.error("Delete account error:",f),l(f?.error?.message||f?.message||"Failed to delete account")}finally{o(!1)}},disabled:a||!t.trim()||s!=="DELETE",children:a?"Deleting Account...":"Delete My Account"})]})]})}),e("div",{className:"alert alert-warning mt-6",children:e("div",{children:[e("h3",{className:"font-bold",children:"Think twice before deleting"}),e("div",{className:"text-sm mt-2",children:[e("p",{className:"mb-2",children:"Before you proceed, consider these alternatives:"}),e("ul",{className:"list-disc list-inside space-y-1",children:[e("li",{children:[e("strong",{children:"Take a break:"})," Temporarily deactivate your account instead (contact support)"]}),e("li",{children:[e("strong",{children:"Download your data:"})," Export your content and data first"]}),e("li",{children:[e("strong",{children:"Think about recovery:"})," Consider if you might want to return in the future"]}),e("li",{children:[e("strong",{children:"Contact support:"})," Reach out to us if you're experiencing issues we can help resolve"]})]})]})]})})]})})]})}function n2(){return e(G,{children:e("section",{children:[e("h1",{children:"404: Not Found"}),e("p",{children:"It's gone :("})]})})}function r2({id:r}){const{route:t}=_t(),[n,s]=g(null),[i,a]=g(null),[o,c]=g(!0),[l,d]=g(null),[u,h]=g(!1),m=async()=>{const p=`${window.location.origin}/profile/${n.id}`;try{await navigator.clipboard.writeText(p),h(!0),setTimeout(()=>h(!1),2e3)}catch(b){console.error("Failed to copy: ",b)}};ee(()=>{f()},[r]);const f=async()=>{try{c(!0),d(null);const p=await V.auth.apiGetSessionList();if(!p.data)throw new Error("No session data received");if(a(p.data.user),r){const b=await V.profile.getProfileByUserId(r);if(!b.data)throw new Error("Profile not found");s({id:b.data.id,name:b.data.name,image:b.data.image,email:"",emailVerified:!1,createdAt:b.data.createdAt,updatedAt:b.data.updatedAt,chessWins:b.data.chessWins,chessLosses:b.data.chessLosses,draughtsWins:b.data.draughtsWins,draughtsLosses:b.data.draughtsLosses,arithmeticScore:b.data.arithmeticScore,tetrisScore:b.data.tetrisScore,role:null,banned:b.data.banned,banReason:b.data.banReason,banExpires:b.data.banExpires,age:null})}else s(p.data.user)}catch(p){if(console.error("Profile load error:",p),p?.error?.status===401){t("/login");return}d(p?.error?.message||p?.message||"Failed to load profile. Please try refreshing the page.")}finally{c(!1)}};return o?e(G,{children:e("div",{className:"h-[100%] flex items-center justify-center",id:"profile-background",children:e("span",{className:"loading loading-spinner loading-lg"})})}):l||!n?e(G,{children:e("div",{className:"h-[100%] flex items-center justify-center",id:"profile-background",children:e("div",{className:"alert alert-error",children:e("span",{children:l||"Profile not found"})})})}):e(G,{children:[e(Te,{children:[e("title",{children:"Profile - My Website"}),e("meta",{name:"description",content:"View and manage your user profile, including game statistics, achievements, and personalization settings. Connect with other players and track your progress."}),e("meta",{name:"keywords",content:"profile, user profile, game statistics, achievements, personalization, user settings, player profile"}),e("link",{rel:"canonical",href:`/profile${r?`/${r}`:""}`}),e("meta",{property:"og:title",content:"Profile - My Website"}),e("meta",{property:"og:description",content:"View and manage your user profile, including game statistics, achievements, and personalization settings. Connect with other players and track your progress."}),e("meta",{property:"og:image",content:n?.image||"/logo.png"}),e("meta",{property:"og:url",content:`/profile${r?`/${r}`:""}`}),e("meta",{property:"og:type",content:"profile"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Profile - My Website"}),e("meta",{name:"twitter:description",content:"View and manage your user profile, including game statistics, achievements, and personalization settings. Connect with other players and track your progress."}),e("meta",{name:"twitter:image",content:n?.image||"/logo.png"})]}),e("div",{className:"h-[100%] flex items-center justify-center",id:"profile-background",children:e("div",{className:"card bg-base-100 shadow-2xl max-w-md w-full mx-4",children:e("div",{className:"card-body items-center text-center",children:[n.verifiedName&&(n.verifiedName!==n.name||n.verifiedImage!==n.image)&&e("div",{className:"w-full alert alert-info mb-4",children:[e(is,{}),e("div",{children:[e("h3",{className:"font-bold",children:"Profile Verification Pending"}),e("p",{children:"What others currently see:"}),e("div",{className:"flex items-center gap-2",children:[e(et,{name:n.verifiedName,image:n.verifiedImage,widthClass:"w-8"}),e("span",{className:"text-lg font-semibold",children:n.verifiedName})]})]})]}),e("a",{href:`/profile/${n.id}`,children:[e(et,{name:n.name,image:n.image,widthClass:"w-16"}),e(fd,{banned:n.banned,banReason:n.banReason,banExpires:n.banExpires,className:"w-full max-w-sm"}),e("h2",{className:"card-title text-2xl font-bold mt-2",children:[e(Ut,{className:"inline mr-2"}),n.name]})]}),e("div",{className:"flex items-center gap-2 text-sm opacity-70",children:[e(Bu,{}),e("span",{children:n.id}),e("button",{className:"btn btn-ghost btn-xs",onClick:m,title:"Copy profile link",children:u?e(Yt,{className:"text-success"}):e(pa,{})})]}),n.createdAt&&e("div",{className:"flex items-center gap-2 text-sm opacity-70 mt-2",children:[e(go,{}),e("span",{children:["Created:"," ",new Date(n.createdAt).toLocaleDateString()]})]}),n.updatedAt&&e("div",{className:"flex items-center gap-2 text-sm opacity-70 mt-2",children:[e(go,{}),e("span",{children:["Updated:"," ",new Date(n.updatedAt).toLocaleDateString()]})]}),e("div",{className:"overflow-x-auto mt-4",children:e("table",{className:"table table-zebra w-full",children:[e("thead",{children:e("tr",{children:[e("th",{children:"Game"}),e("th",{children:"Wins"}),e("th",{children:"Losses"}),e("th",{children:"Score"})]})}),e("tbody",{children:[e("tr",{className:"hover",children:[e("td",{className:"flex items-center gap-2",children:[e(Eu,{}),"Chess"]}),e("td",{children:n.chessWins||0}),e("td",{children:n.chessLosses||0}),e("td",{children:"-"})]}),e("tr",{className:"hover",children:[e("td",{className:"flex items-center gap-2",children:[e(Ou,{}),"Draughts"]}),e("td",{children:n.draughtsWins||0}),e("td",{children:n.draughtsLosses||0}),e("td",{children:"-"})]}),e("tr",{className:"hover",children:[e("td",{className:"flex items-center gap-2",children:[e(ku,{}),"Arithmetic"]}),e("td",{children:"-"}),e("td",{children:"-"}),e("td",{children:n.arithmeticScore||0})]}),e("tr",{className:"hover",children:[e("td",{className:"flex items-center gap-2",children:[e(zu,{}),"Tetris"]}),e("td",{children:"-"}),e("td",{children:"-"}),e("td",{children:n.tetrisScore||0})]})]})]})}),i&&i.id===n.id&&n.createdAt&&e("div",{className:"card-actions justify-center mt-6",children:e("button",{className:"btn btn-primary btn-sm",onClick:()=>t("/settings"),children:[e(nl,{className:"mr-2"}),"Edit Profile"]})})]})})}),e("style",{jsx:!0,children:`
        #profile-background {
          background-image: url("/random-image.jpg");
          background-size: cover;
        }
      `})]})}function s2(r){return z({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.5 21H2V9h5.5v12zm7.25-18h-5.5v18h5.5V3zM22 11h-5.5v10H22V11z"},child:[]}]})(r)}function i2({columns:r,data:t,renderCell:n,initialSort:s,className:i="",loading:a=!1,emptyMessage:o="No data available",pagination:c={enabled:!0,pageSize:50,showWhenOver:50}}){const[l,d]=g(s||null),[u,h]=g(1),m=c.enabled&&t.length>(c.showWhenOver||50),f=Be(()=>!l||!t?.length?t||[]:[...t].sort((v,C)=>{const I=v[l.key],A=C[l.key];if(I==null&&A==null)return 0;if(I==null)return l.direction==="asc"?1:-1;if(A==null)return l.direction==="asc"?-1:1;let S=0;return typeof I=="string"&&typeof A=="string"?S=I.localeCompare(A):typeof I=="number"&&typeof A=="number"?S=I-A:S=String(I).localeCompare(String(A)),l.direction==="asc"?S:-S}),[t,l]),p=Be(()=>{if(!m)return f;const k=c.pageSize||50,v=(u-1)*k;return f.slice(v,v+k)},[f,u,m,c.pageSize]),b=Be(()=>m?Math.ceil(f.length/(c.pageSize||50)):1,[f.length,m,c.pageSize]),y=k=>{d(v=>v?.key===k?v.direction==="asc"?{key:k,direction:"desc"}:{key:k,direction:"asc"}:{key:k,direction:"asc"}),h(1)},w=k=>{h(k)},x=k=>!l||l.key!==k?e(i0,{className:"w-4 h-4 opacity-30"}):l.direction==="asc"?e(s0,{className:"w-4 h-4"}):e(r0,{className:"w-4 h-4"});return a?e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})}):e("div",{className:"overflow-x-auto",children:[e("table",{className:`table table-zebra table-fixed w-full ${i}`,children:[e("thead",{children:e("tr",{children:r.map(k=>e("th",{className:k.width?"":void 0,style:k.width?{width:k.width}:void 0,children:k.sortable!==!1?e("button",{onClick:()=>y(k.key),className:"flex items-center gap-1 hover:bg-base-200 px-2 py-1 rounded",type:"button",children:[e("span",{children:k.title}),x(k.key)]}):e("span",{children:k.title})},k.key))})}),e("tbody",{children:p.length===0?e("tr",{children:e("td",{colSpan:r.length,className:"text-center py-8 text-base-content/60",children:o})}):p.map((k,v)=>e("tr",{children:r.map(C=>e("td",{children:n?n(k,C.key):k[C.key]??"-"},C.key))},k.id||v))})]}),m&&b>1&&e("div",{className:"flex justify-center mt-4",children:e("div",{className:"join",children:[e("button",{className:"join-item btn btn-sm",onClick:()=>w(u-1),disabled:u===1,children:e(sd,{className:"w-4 h-4"})}),Array.from({length:b},(k,v)=>v+1).map(k=>e("button",{className:`join-item btn btn-sm ${k===u?"btn-active":""}`,onClick:()=>w(k),children:k},k)),e("button",{className:"join-item btn btn-sm",onClick:()=>w(u+1),disabled:u===b,children:e(Ia,{className:"w-4 h-4"})})]})})]})}function ns(r){const t=r.attributes?r.attributes[0]:r.attribute;if(!t)return;const n=r.attributes||[r.attribute],s=r.attributeTitles||[r.attributeTitle],[i,a]=g([]),[o,c]=g(null),[l,d]=g(!0);return ee(()=>{(async()=>{try{const u=(await V.leaderboards.getLeaderboards({attribute:t})).data;console.log("FETCHED LEADERBOARD"),a(u),d(!1)}catch(u){if(u?.status==404){console.log("404 error: no users with attribute"),c(`No users found with attribute "${t}"`),d(!1);return}c(u instanceof Error?u.message:"Failed to fetch leaderboard"),console.error("Error:",u),d(!1)}})()},[t]),e(G,{children:o?e("div",{role:"alert",className:"alert alert-error mb-4",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:o})]}):l?e("div",{className:"flex justify-center",children:e("span",{className:"loading loading-spinner loading-lg"})}):e(i2,{columns:[{key:"name",title:"Name",sortable:!0,width:"300px"},...n.map((u,h)=>({key:u,title:s[h]||u,sortable:!0}))],data:i,renderCell:(u,h)=>{if(h==="name"){const m=new Date,f=u.banned&&(!u.banExpires||new Date(u.banExpires)>m);return e("a",{href:`/profile/${u.id}`,className:"flex items-center gap-3",children:[e(et,{name:u.name,image:u.image}),e("div",{className:"font-bold flex items-center gap-2",children:[u.name,f&&e(Rr,{className:"text-error text-sm",title:"Banned user"})]})]})}return u[h]||"-"},loading:!1,emptyMessage:"No users found"})})}function a2(){return e(G,{children:[e(Te,{children:[e("title",{children:"Leaderboards - My Website"}),e("meta",{name:"description",content:"View competitive rankings and achievements across games including Chess, Draughts, Arithmetic, and Tetris. Track your progress and compare with other players."}),e("meta",{name:"keywords",content:"leaderboards, rankings, competitive gaming, chess, draughts, arithmetic, tetris, achievements, scores"}),e("link",{rel:"canonical",href:"/leaderboards"}),e("meta",{property:"og:title",content:"Leaderboards - My Website"}),e("meta",{property:"og:description",content:"View competitive rankings and achievements across games including Chess, Draughts, Arithmetic, and Tetris. Track your progress and compare with other players."}),e("meta",{property:"og:image",content:"/logo.png"}),e("meta",{property:"og:url",content:"/leaderboards"}),e("meta",{property:"og:type",content:"website"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Leaderboards - My Website"}),e("meta",{name:"twitter:description",content:"View competitive rankings and achievements across games including Chess, Draughts, Arithmetic, and Tetris. Track your progress and compare with other players."}),e("meta",{name:"twitter:image",content:"/logo.png"})]}),e("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e(s2,{}),"Leaderboards"]}),e("p",{className:"mb-8",children:"For Chess | Draughts, get at least 1 win to show up on the leaderboards"}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e("div",{children:[e("h2",{className:"text-2xl font-bold mb-2",children:"Chess Wins/Losses"}),e(ns,{attributes:["chessWins","chessLosses"],attributeTitles:["Chess Wins","Chess Losses"]})]}),e("div",{children:[e("h2",{className:"text-2xl font-bold mb-2",children:"Draughts Wins/Losses"}),e(ns,{attributes:["draughtsWins","draughtsLosses"],attributeTitles:["Draughts Wins","Draughts Losses"]})]}),e("div",{children:[e("h2",{className:"text-2xl font-bold mb-2",children:"Arithmetic Score"}),e(ns,{attributes:["arithmeticScore"],attributeTitles:["Arithmetic Score"]})]}),e("div",{children:[e("h2",{className:"text-2xl font-bold mb-2",children:"Tetris Score"}),e(ns,{attributes:["tetrisScore"],attributeTitles:["Tetris Score"]})]})]})]})]})}function o2(){const r=t=>{const n=t.target.value;localStorage.setItem("theme",n),document.documentElement.setAttribute("data-theme",n)};return ee(()=>{const t=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",t)},[]),e("div",{className:"dropdown",children:[e("div",{tabIndex:0,role:"button",className:"btn btn-sm mx-2",children:["Theme",e("svg",{width:"12px",height:"12px",className:"inline-block h-2 w-2 fill-current opacity-60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:e("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})})]}),e("ul",{tabIndex:0,className:"dropdown-content bg-base-300 rounded-box z-1 w-36 p-2 shadow-2xl mt-4",children:[e("li",{children:e("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"System theme",value:"default",onClick:r})}),e("li",{children:e("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Dark",value:"dark",onClick:r})}),e("li",{children:e("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Light",value:"light",onClick:r})}),e("li",{children:e("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Retro",value:"retro",onClick:r})}),e("li",{children:e("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Cyberpunk",value:"cyberpunk",onClick:r})}),e("li",{children:e("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Aqua",value:"aqua",onClick:r})})]})]})}function c2(){const[r,t]=g(null),[n,s]=g(!1);return ee(()=>{const a=c=>{c.preventDefault(),t(c),s(!0)},o=()=>{console.log("PWA installed!"),t(null),s(!1)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",o)}},[]),{canInstall:n,install:async()=>{if(r){r.prompt();const{outcome:a}=await r.userChoice;t(null),s(!1)}}}}function l2(){const{route:r,url:t}=_t(),[n,s]=g(null),[i,a]=g(""),o=Ye(null),{canInstall:c,install:l}=c2();ee(()=>{async function u(){try{const h=(await V.auth.apiGetSessionList()).data;s(h?.user||null)}catch(h){s(null);const m=h instanceof Error?h.message:"Fetching user data failed";a(m),console.error("Error:",h)}}u()},[t]),ee(()=>{const u=h=>{o.current&&!o.current.contains(h.target)&&(o.current.open=!1)};return document.addEventListener("click",u),document.addEventListener("mousedown",u),()=>{document.removeEventListener("click",u),document.removeEventListener("mousedown",u)}},[]);function d(){V.auth.apiSignOutCreate({}),r("/login")}return e("div",{className:"navbar bg-neutral text-neutral-content shadow-sm",children:[e("div",{className:"navbar-start",children:e("a",{className:"btn btn-ghost text-xl",href:"/",children:"My Website"})}),e("div",{className:"navbar-center",children:e("ul",{className:"menu menu-horizontal px-1",children:[e("li",{children:e("a",{href:"/",children:"Home"})}),e("li",{children:e("details",{ref:o,children:[e("summary",{children:"Info"}),e("ul",{className:"dropdown-content bg-base-300 rounded-box z-1 w-26 p-2 shadow-2xl",children:[e("li",{children:e("a",{href:"/about",className:"btn btn-sm btn-block",children:"About"})}),e("li",{children:e("a",{href:"/contact",className:"btn btn-sm btn-block",children:"Contact"})}),e("li",{children:e("a",{href:"/changelog",className:"btn btn-sm btn-block",children:"Changelog"})})]})]})}),e("li",{children:e("a",{href:"/blog",children:"Blog"})}),e("li",{children:e("a",{href:"/projects",children:"Projects"})}),e("li",{children:e("a",{href:"/leaderboards",children:"Leaderboards"})})]})}),e("div",{className:"navbar-end",children:[e(o2,{}),c&&e("button",{className:"btn btn-sm mx-2",onClick:l,children:[e(Ru,{}),"Install App"]}),n?e("div",{className:"mx-2 dropdown dropdown-end",children:[e(et,{name:n.name,image:n.image}),e("ul",{tabIndex:-1,className:"menu menu-sm dropdown-content bg-base-300 text-base-content rounded-box z-1 w-36 p-2 shadow-2xl mt-3",children:[e("li",{children:e("a",{href:"/profile",className:"justify-between",children:[e(Ut,{})," Profile",e("span",{className:"badge",children:"New"})]})}),e("li",{children:e("a",{href:"/settings",children:[e(od,{})," Settings"]})}),e("li",{children:e("button",{onClick:d,children:[e(Gu,{})," Logout"]})})]})]}):e("a",{className:"btn btn-sm",href:"/login",children:[e(Vu,{}),"Login"]})]})]})}function d2(){const r=_a(),t=Ye(null),n=Rn(s=>{s.onAny((i,a)=>{console.log(`[Connection Socket] Received event: ${i}`,a)}),s.on("notification",i=>{try{if(!i.text){console.error("[Connection] Notification event missing required 'text' property:",i);return}const a=i.type||"info",o=i.time||3e3;r({text:i.text,type:a,time:o}),console.log(`[Connection] Notification toast sent: ${a} - "${i.text}"`)}catch(a){console.error("[Connection] Error handling notification event:",a)}}),s.on("connect",()=>{console.log("[Connection Socket] Connected to server")}),s.on("disconnect",i=>{console.log(`[Connection Socket] Disconnected: ${i}`)}),s.on("connect_error",i=>{console.error("[Connection Socket] Connection error:",i.message),s.io.opts.transports=["polling","websocket"]}),s.on("error",i=>{console.error("[Connection Socket] Server error:",i)})},[r]);return ee(()=>{if(t.current){console.log("[Connection] Socket already initialized, skipping");return}console.log("[Connection] Initializing session connection...");try{const s=V.baseUrl,i=new URL("/sockets/connection",s).href,a=new URL("sockets/",`${s}/`).pathname;console.log("[Connection] Connecting to:",i,"with namespace:",a);const o=qn(i,{path:a,transports:["websocket","polling"],withCredentials:!0,tryAllTransports:!0,timeout:2e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return n(o),t.current=o,()=>{console.log("[Connection] Cleaning up socket connection"),t.current?.disconnect(),t.current=null}}catch(s){console.error("[Connection] Failed to initialize socket:",s)}},[n]),null}function u2(){return e(Ir,{children:e(Lf,{children:[e(d2,{}),e("div",{class:"flex min-h-screen flex-col",children:[e(l2,{}),e("main",{children:e(Ec,{children:[e(ke,{path:"/",component:Df}),e(ke,{path:"/blog",component:Af}),e(ke,{path:"/blog/:id",component:Of}),e(ke,{path:"/about",component:Mf}),e(ke,{path:"/changelog",component:If}),e(ke,{path:"/leaderboards",component:a2}),e(ke,{path:"/login",component:jf}),e(ke,{path:"/projects",component:zf}),e(ke,{path:"/projects/chess",component:K1}),e(ke,{path:"/projects/arithmetic",component:Z1}),e(ke,{path:"/projects/quizspire",component:w0}),e(ke,{path:"/projects/quizspire/host",component:j0}),e(ke,{path:"/projects/quizspire/:id",component:k0}),e(ke,{path:"/projects/quizspire/:id/learn",component:S0}),e(ke,{path:"/projects/quizspire/:deckId/test",component:M0}),e(ke,{path:"/projects/tetris",component:ud}),e(ke,{path:"/projects/quizspire/:id/tetris",component:I0}),e(ke,{path:"/projects/quizspire/:deckId/match",component:R0}),e(ke,{path:"/signup",component:z0}),e(ke,{path:"/email-verification",component:F0}),e(ke,{path:"/admin",component:B0}),e(ke,{path:"/admin/users",component:U0}),e(ke,{path:"/admin/comments",component:H0}),e(ke,{path:"/admin/connections",component:W0}),e(ke,{path:"/admin/profiles",component:V0}),e(ke,{path:"/settings",component:G0}),e(ke,{path:"/settings/name",component:Q0}),e(ke,{path:"/settings/password",component:K0}),e(ke,{path:"/settings/accounts",component:Y0}),e(ke,{path:"/settings/sessions",component:J0}),e(ke,{path:"/settings/notifications",component:e2}),e(ke,{path:"/settings/images",component:X0}),e(ke,{path:"/settings/delete",component:t2}),e(ke,{path:"/profile/:id?",component:r2}),e(ke,{default:!0,component:n2})]})}),e(Td,{})]})]})})}Wn(e(u2,{}),document.getElementById("app"));
