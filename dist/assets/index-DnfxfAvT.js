(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Yt,F,yi,it,vs,wi,Ci,Si,zn,yn,wn,xi,Vt={},Ni=[],Xo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Xt=Array.isArray;function je(r,e){for(var t in e)r[t]=e[t];return r}function Wn(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function we(r,e,t){var n,s,o,a={};for(o in e)o=="key"?n=e[o]:o=="ref"?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?Yt.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(o in r.defaultProps)a[o]===void 0&&(a[o]=r.defaultProps[o]);return zt(r,a,n,s,null)}function zt(r,e,t,n,s){var o={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++yi,__i:-1,__u:0};return s==null&&F.vnode!=null&&F.vnode(o),o}function Jo(){return{current:null}}function $(r){return r.children}function $e(r,e){this.props=r,this.context=e}function Ct(r,e){if(e==null)return r.__?Ct(r.__,r.__i+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?Ct(r):null}function Oi(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Oi(r)}}function Cn(r){(!r.__d&&(r.__d=!0)&&it.push(r)&&!Sr.__r++||vs!=F.debounceRendering)&&((vs=F.debounceRendering)||wi)(Sr)}function Sr(){for(var r,e,t,n,s,o,a,c=1;it.length;)it.length>c&&it.sort(Ci),r=it.shift(),c=it.length,r.__d&&(t=void 0,s=(n=(e=r).__v).__e,o=[],a=[],e.__P&&((t=je({},n)).__v=n.__v+1,F.vnode&&F.vnode(t),Kn(e.__P,t,n,e.__n,e.__P.namespaceURI,32&n.__u?[s]:null,o,s??Ct(n),!!(32&n.__u),a),t.__v=n.__v,t.__.__k[t.__i]=t,Ti(o,t,a),t.__e!=s&&Oi(t)));Sr.__r=0}function Ei(r,e,t,n,s,o,a,c,l,u,f){var d,h,p,g,v,S,C,x=n&&n.__k||Ni,E=e.length;for(l=Zo(t,e,x,l,E),d=0;d<E;d++)(p=t.__k[d])!=null&&(h=p.__i==-1?Vt:x[p.__i]||Vt,p.__i=d,S=Kn(r,p,h,s,o,a,c,l,u,f),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Vn(h.ref,null,p),f.push(p.ref,p.__c||g,p)),v==null&&g!=null&&(v=g),(C=!!(4&p.__u))||h.__k===p.__k?l=ki(p,l,r,C):typeof p.type=="function"&&S!==void 0?l=S:g&&(l=g.nextSibling),p.__u&=-7);return t.__e=v,l}function Zo(r,e,t,n,s){var o,a,c,l,u,f=t.length,d=f,h=0;for(r.__k=new Array(s),o=0;o<s;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=o+h,(a=r.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?zt(null,a,null,null,null):Xt(a)?zt($,{children:a},null,null,null):a.constructor==null&&a.__b>0?zt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=r,a.__b=r.__b+1,c=null,(u=a.__i=ea(a,t,l,d))!=-1&&(d--,(c=t[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(s>f?h--:s<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,a.__u|=4))):r.__k[o]=null;if(d)for(o=0;o<f;o++)(c=t[o])!=null&&(2&c.__u)==0&&(c.__e==n&&(n=Ct(c)),Pi(c,c));return n}function ki(r,e,t,n){var s,o;if(typeof r.type=="function"){for(s=r.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=r,e=ki(s[o],e,t,n));return e}r.__e!=e&&(n&&(e&&r.type&&!e.parentNode&&(e=Ct(r)),t.insertBefore(r.__e,e||null)),e=r.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Be(r,e){return e=e||[],r==null||typeof r=="boolean"||(Xt(r)?r.some(function(t){Be(t,e)}):e.push(r)),e}function ea(r,e,t,n){var s,o,a,c=r.key,l=r.type,u=e[t],f=u!=null&&(2&u.__u)==0;if(u===null&&r.key==null||f&&c==u.key&&l==u.type)return t;if(n>(f?1:0)){for(s=t-1,o=t+1;s>=0||o<e.length;)if((u=e[a=s>=0?s--:o++])!=null&&(2&u.__u)==0&&c==u.key&&l==u.type)return a}return-1}function _s(r,e,t){e[0]=="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||Xo.test(e)?t:t+"px"}function sr(r,e,t,n,s){var o,a;e:if(e=="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||_s(r.style,e,"");if(t)for(e in t)n&&t[e]==n[e]||_s(r.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Si,"$1")),a=e.toLowerCase(),e=a in r||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),r.l||(r.l={}),r.l[e+o]=t,t?n?t.u=n.u:(t.u=zn,r.addEventListener(e,o?wn:yn,o)):r.removeEventListener(e,o?wn:yn,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?r.removeAttribute(e):r.setAttribute(e,e=="popover"&&t==1?"":t))}}function bs(r){return function(e){if(this.l){var t=this.l[e.type+r];if(e.t==null)e.t=zn++;else if(e.t<t.u)return;return t(F.event?F.event(e):e)}}}function Kn(r,e,t,n,s,o,a,c,l,u){var f,d,h,p,g,v,S,C,x,E,w,k,T,D,I,B,J,Y=e.type;if(e.constructor!=null)return null;128&t.__u&&(l=!!(32&t.__u),o=[c=e.__e=t.__e]),(f=F.__b)&&f(e);e:if(typeof Y=="function")try{if(C=e.props,x="prototype"in Y&&Y.prototype.render,E=(f=Y.contextType)&&n[f.__c],w=f?E?E.props.value:f.__:n,t.__c?S=(d=e.__c=t.__c).__=d.__E:(x?e.__c=d=new Y(C,w):(e.__c=d=new $e(C,w),d.constructor=Y,d.render=ra),E&&E.sub(d),d.props=C,d.state||(d.state={}),d.context=w,d.__n=n,h=d.__d=!0,d.__h=[],d._sb=[]),x&&d.__s==null&&(d.__s=d.state),x&&Y.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=je({},d.__s)),je(d.__s,Y.getDerivedStateFromProps(C,d.__s))),p=d.props,g=d.state,d.__v=e,h)x&&Y.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),x&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(x&&Y.getDerivedStateFromProps==null&&C!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(C,w),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(C,d.__s,w)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(d.props=C,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(V){V&&(V.__=e)}),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(C,d.__s,w),x&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,v)})}if(d.context=w,d.props=C,d.__P=r,d.__e=!1,T=F.__r,D=0,x){for(d.state=d.__s,d.__d=!1,T&&T(e),f=d.render(d.props,d.state,d.context),I=0;I<d._sb.length;I++)d.__h.push(d._sb[I]);d._sb=[]}else do d.__d=!1,T&&T(e),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++D<25);d.state=d.__s,d.getChildContext!=null&&(n=je(je({},n),d.getChildContext())),x&&!h&&d.getSnapshotBeforeUpdate!=null&&(v=d.getSnapshotBeforeUpdate(p,g)),B=f,f!=null&&f.type===$&&f.key==null&&(B=Di(f.props.children)),c=Ei(r,Xt(B)?B:[B],e,t,n,s,o,a,c,l,u),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),S&&(d.__E=d.__=null)}catch(V){if(e.__v=null,l||o!=null)if(V.then){for(e.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else{for(J=o.length;J--;)Wn(o[J]);Sn(e)}else e.__e=t.__e,e.__k=t.__k,V.then||Sn(e);F.__e(V,e,t)}else o==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):c=e.__e=ta(t.__e,e,t,n,s,o,a,l,u);return(f=F.diffed)&&f(e),128&e.__u?void 0:c}function Sn(r){r&&r.__c&&(r.__c.__e=!0),r&&r.__k&&r.__k.forEach(Sn)}function Ti(r,e,t){for(var n=0;n<t.length;n++)Vn(t[n],t[++n],t[++n]);F.__c&&F.__c(e,r),r.some(function(s){try{r=s.__h,s.__h=[],r.some(function(o){o.call(s)})}catch(o){F.__e(o,s.__v)}})}function Di(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:Xt(r)?r.map(Di):je({},r)}function ta(r,e,t,n,s,o,a,c,l){var u,f,d,h,p,g,v,S=t.props,C=e.props,x=e.type;if(x=="svg"?s="http://www.w3.org/2000/svg":x=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!x&&(x?p.localName==x:p.nodeType==3)){r=p,o[u]=null;break}}if(r==null){if(x==null)return document.createTextNode(C);r=document.createElementNS(s,x,C.is&&C),c&&(F.__m&&F.__m(e,o),c=!1),o=null}if(x==null)S===C||c&&r.data==C||(r.data=C);else{if(o=o&&Yt.call(r.childNodes),S=t.props||Vt,!c&&o!=null)for(S={},u=0;u<r.attributes.length;u++)S[(p=r.attributes[u]).name]=p.value;for(u in S)if(p=S[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=p;else if(!(u in C)){if(u=="value"&&"defaultValue"in C||u=="checked"&&"defaultChecked"in C)continue;sr(r,u,null,p,s)}}for(u in C)p=C[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?g=p:u=="checked"?v=p:c&&typeof p!="function"||S[u]===p||sr(r,u,p,S[u],s);if(f)c||d&&(f.__html==d.__html||f.__html==r.innerHTML)||(r.innerHTML=f.__html),e.__k=[];else if(d&&(r.innerHTML=""),Ei(e.type=="template"?r.content:r,Xt(h)?h:[h],e,t,n,x=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:t.__k&&Ct(t,0),c,l),o!=null)for(u=o.length;u--;)Wn(o[u]);c||(u="value",x=="progress"&&g==null?r.removeAttribute("value"):g!=null&&(g!==r[u]||x=="progress"&&!g||x=="option"&&g!=S[u])&&sr(r,u,g,S[u],s),u="checked",v!=null&&v!=r[u]&&sr(r,u,v,S[u],s))}return r}function Vn(r,e,t){try{if(typeof r=="function"){var n=typeof r.__u=="function";n&&r.__u(),n&&e==null||(r.__u=r(e))}else r.current=e}catch(s){F.__e(s,t)}}function Pi(r,e,t){var n,s;if(F.unmount&&F.unmount(r),(n=r.ref)&&(n.current&&n.current!=r.__e||Vn(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){F.__e(o,e)}n.base=n.__P=null}if(n=r.__k)for(s=0;s<n.length;s++)n[s]&&Pi(n[s],e,t||typeof r.type!="function");t||Wn(r.__e),r.__c=r.__=r.__e=void 0}function ra(r,e,t){return this.constructor(r,t)}function St(r,e,t){var n,s,o,a;e==document&&(e=document.documentElement),F.__&&F.__(r,e),s=(n=typeof t=="function")?null:t&&t.__k||e.__k,o=[],a=[],Kn(e,r=(!n&&t||e).__k=we($,null,[r]),s||Vt,Vt,e.namespaceURI,!n&&t?[t]:s?null:e.firstChild?Yt.call(e.childNodes):null,o,!n&&t?t:s?s.__e:e.firstChild,n,a),Ti(o,r,a)}function Li(r,e){St(r,e,Li)}function xn(r,e,t){var n,s,o,a,c=je({},r.props);for(o in r.type&&r.type.defaultProps&&(a=r.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?s=e[o]:c[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(c.children=arguments.length>3?Yt.call(arguments,2):t),zt(r.type,c,n||r.key,s||r.ref,null)}function Ot(r){function e(t){var n,s;return this.getChildContext||(n=new Set,(s={})[e.__c]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&n.forEach(function(a){a.__e=!0,Cn(a)})},this.sub=function(o){n.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){n&&n.delete(o),a&&a.call(o)}}),t.children}return e.__c="__cC"+xi++,e.__=r,e.Provider=e.__l=(e.Consumer=function(t,n){return t.children(n)}).contextType=e,e}Yt=Ni.slice,F={__e:function(r,e,t,n){for(var s,o,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(r)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,n||{}),a=s.__d),a)return s.__E=s}catch(c){r=c}throw r}},yi=0,$e.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=je({},this.state),typeof r=="function"&&(r=r(je({},t),this.props)),r&&je(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),Cn(this))},$e.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Cn(this))},$e.prototype.render=$,it=[],wi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ci=function(r,e){return r.__v.__b-e.__v.__b},Sr.__r=0,Si=/(PointerCapture)$|Capture$/i,zn=0,yn=bs(!1),wn=bs(!0),xi=0;var na=0;function i(r,e,t,n,s,o){e||(e={});var a,c,l=e;if("ref"in l)for(c in l={},e)c=="ref"?a=e[c]:l[c]=e[c];var u={type:r,props:l,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--na,__i:-1,__u:0,__source:s,__self:o};if(typeof r=="function"&&(a=r.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return F.vnode&&F.vnode(u),u}var Xe,ee,en,ys,xt=0,Ri=[],te=F,ws=te.__b,Cs=te.__r,Ss=te.diffed,xs=te.__c,Ns=te.unmount,Os=te.__;function Et(r,e){te.__h&&te.__h(ee,r,xt||e),xt=0;var t=ee.__H||(ee.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({}),t.__[r]}function N(r){return xt=1,Jt(Mi,r)}function Jt(r,e,t){var n=Et(Xe++,2);if(n.t=r,!n.__c&&(n.__=[t?t(e):Mi(void 0,e),function(c){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,c);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=ee,!ee.__f)){var s=function(c,l,u){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!o||o.call(this,c,l,u);var d=n.__c.props!==c;return f.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(d=!0)}}),o&&o.call(this,c,l,u)||d};ee.__f=!0;var o=ee.shouldComponentUpdate,a=ee.componentWillUpdate;ee.componentWillUpdate=function(c,l,u){if(this.__e){var f=o;o=void 0,s(c,l,u),o=f}a&&a.call(this,c,l,u)},ee.shouldComponentUpdate=s}return n.__N||n.__}function q(r,e){var t=Et(Xe++,3);!te.__s&&Qn(t.__H,e)&&(t.__=r,t.u=e,ee.__H.__h.push(t))}function Je(r,e){var t=Et(Xe++,4);!te.__s&&Qn(t.__H,e)&&(t.__=r,t.u=e,ee.__h.push(t))}function ge(r){return xt=5,oe(function(){return{current:r}},[])}function Gn(r,e,t){xt=6,Je(function(){if(typeof r=="function"){var n=r(e());return function(){r(null),n&&typeof n=="function"&&n()}}if(r)return r.current=e(),function(){return r.current=null}},t==null?t:t.concat(r))}function oe(r,e){var t=Et(Xe++,7);return Qn(t.__H,e)&&(t.__=r(),t.__H=e,t.__h=r),t.__}function Er(r,e){return xt=8,oe(function(){return r},e)}function lt(r){var e=ee.context[r.__c],t=Et(Xe++,9);return t.c=r,e?(t.__==null&&(t.__=!0,e.sub(ee)),e.props.value):r.__}function Ai(r,e){te.useDebugValue&&te.useDebugValue(e?e(r):r)}function Ii(){var r=Et(Xe++,11);if(!r.__){for(var e=ee.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);r.__="P"+t[0]+"-"+t[1]++}return r.__}function sa(){for(var r;r=Ri.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(fr),r.__H.__h.forEach(Nn),r.__H.__h=[]}catch(e){r.__H.__h=[],te.__e(e,r.__v)}}te.__b=function(r){ee=null,ws&&ws(r)},te.__=function(r,e){r&&e.__k&&e.__k.__m&&(r.__m=e.__k.__m),Os&&Os(r,e)},te.__r=function(r){Cs&&Cs(r),Xe=0;var e=(ee=r.__c).__H;e&&(en===ee?(e.__h=[],ee.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(fr),e.__h.forEach(Nn),e.__h=[],Xe=0)),en=ee},te.diffed=function(r){Ss&&Ss(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(Ri.push(e)!==1&&ys===te.requestAnimationFrame||((ys=te.requestAnimationFrame)||ia)(sa)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),en=ee=null},te.__c=function(r,e){e.some(function(t){try{t.__h.forEach(fr),t.__h=t.__h.filter(function(n){return!n.__||Nn(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],te.__e(n,t.__v)}}),xs&&xs(r,e)},te.unmount=function(r){Ns&&Ns(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{fr(n)}catch(s){e=s}}),t.__H=void 0,e&&te.__e(e,t.__v))};var Es=typeof requestAnimationFrame=="function";function ia(r){var e,t=function(){clearTimeout(n),Es&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,35);Es&&(e=requestAnimationFrame(t))}function fr(r){var e=ee,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),ee=e}function Nn(r){var e=ee;r.__c=r.__(),ee=e}function Qn(r,e){return!r||r.length!==e.length||e.some(function(t,n){return t!==r[n]})}function Mi(r,e){return typeof e=="function"?e(r):e}let wt,Ft;function oa(r){return!Ft||(typeof Ft=="string"?r.startsWith(Ft):Ft.test(r))}function aa(r,e){let t="";if(wt=void 0,e&&e.type==="click"){if(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button!==0)return r;const n=e.composedPath().find(o=>o.nodeName=="A"&&o.href),s=n&&n.getAttribute("href");if(!n||n.origin!=location.origin||/^#/.test(s)||!/^(_?self)?$/i.test(n.target)||!oa(s))return r;wt=!0,e.preventDefault(),t=n.href.replace(location.origin,"")}else e&&e.url?(wt=!e.replace,t=e.url):t=location.pathname+location.search;return wt===!0?history.pushState(null,"",t):wt===!1&&history.replaceState(null,"",t),t}const ca=(r,e,t={})=>{r=r.split("/").filter(Boolean),e=(e||"").split("/").filter(Boolean),t.params||(t.params={});for(let n=0,s,o;n<Math.max(r.length,e.length);n++){let[,a,c,l]=(e[n]||"").match(/^(:?)(.*?)([+*?]?)$/);if(s=r[n],!(!a&&c==s)){if(!a&&s&&l=="*"){t.rest="/"+r.slice(n).map(decodeURIComponent).join("/");break}if(!a||!s&&l!="?"&&l!="*")return;if(o=l=="+"||l=="*",o?s=r.slice(n).map(decodeURIComponent).join("/")||void 0:s&&(s=decodeURIComponent(s)),t.params[c]=s,c in t||(t[c]=s),o)break}}return t};function Zt(r){const[e,t]=Jt(aa,r.url||location.pathname+location.search);r.scope&&(Ft=r.scope);const n=wt===!0,s=oe(()=>{const o=new URL(e,location.origin),a=o.pathname.replace(/\/+$/g,"")||"/";return{url:e,path:a,query:Object.fromEntries(o.searchParams),route:(c,l)=>t({url:c,replace:l}),wasPush:n}},[e]);return Je(()=>(addEventListener("click",t),addEventListener("popstate",t),()=>{removeEventListener("click",t),removeEventListener("popstate",t)}),[]),we(Zt.ctx.Provider,{value:s},r.children)}const la=Promise.resolve();function ji(r){const[e,t]=Jt(B=>B+1,0),{url:n,query:s,wasPush:o,path:a}=kr();if(!n)throw new Error("preact-iso's <Router> must be used within a <LocationProvider>, see: https://github.com/preactjs/preact-iso#locationprovider");const{rest:c=a,params:l={}}=lt(ks),u=ge(!1),f=ge(a),d=ge(0),h=ge(),p=ge(),g=ge(),v=ge(!1),S=ge();S.current=!1;let C,x,E;Be(r.children).some(B=>{if(ca(c,B.props.path,E={...B.props,path:c,query:s,params:l,rest:""}))return C=xn(B,E);B.props.default&&(x=xn(B,E))});let w=C||x;const k=h.current&&h.current.__u&ir&&h.current.__u&or,T=h.current&&h.current.__h,D=oe(()=>{p.current=h.current,h.current=we(ks.Provider,{value:E},w);const B=p.current&&p.current.props.children;return!B||!w||w.type!==B.type||w.props.component!==B.props.component?(this.__v&&this.__v.__k&&this.__v.__k.reverse(),d.current++,!0):!1},[n,JSON.stringify(E)]);k?(h.current.__u|=ir,h.current.__u|=or):T&&(h.current.__h=!0);const I=p.current;return p.current=null,this.__c=(B,J)=>{S.current=!0,p.current=I,r.onLoadStart&&r.onLoadStart(n),u.current=!0;let Y=d.current;B.then(()=>{Y===d.current&&(p.current=null,h.current&&(J.__h&&(h.current.__h=J.__h),J.__u&or&&(h.current.__u|=or),J.__u&ir&&(h.current.__u|=ir)),la.then(t))})},Je(()=>{const B=this.__v&&this.__v.__e;if(S.current){!v.current&&!g.current&&(g.current=B);return}!v.current&&g.current&&(g.current!==B&&g.current.remove(),g.current=null),v.current=!0,f.current!==a&&(o&&scrollTo(0,0),r.onRouteChange&&r.onRouteChange(n),f.current=a),r.onLoadEnd&&u.current&&r.onLoadEnd(n),u.current=!1},[a,o,e]),D?[we(tn,{r:h}),we(tn,{r:p})]:we(tn,{r:h})}const ir=32,or=128,tn=({r})=>r.current;ji.Provider=Zt;Zt.ctx=Ot({});const ks=Ot({}),fe=r=>we(r.component,r),kr=()=>lt(Zt.ctx),Ts=F.__b;F.__b=r=>{r.type&&r.type._forwarded&&r.ref&&(r.props.ref=r.ref,r.ref=null),Ts&&Ts(r)};const Ds=F.__e;F.__e=(r,e,t)=>{if(r&&r.then){let n=e;for(;n=n.__;)if(n.__c&&n.__c.__c)return e.__e==null&&(e.__c.__z=[t.__e],e.__e=t.__e,e.__k=t.__k),e.__k||(e.__k=[]),n.__c.__c(r,e)}Ds&&Ds(r,e,t)};const $i="/assets/logo-gUhwRCmO.png";function ua(){return i("footer",{className:"footer sm:footer-horizontal bg-neutral text-neutral-content items-center p-4",children:[i("aside",{className:"grid-flow-col items-center",children:[i("img",{src:$i,alt:"My Logo",class:"w-8 h-8"}),i("p",{children:["Copyright Â© ",new Date().getFullYear()," - All right reserved"]})]}),i("nav",{className:"grid-flow-col gap-4 md:place-self-center md:justify-self-end",children:[i("a",{children:i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:i("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),i("a",{children:i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:i("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),i("a",{children:i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:i("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})}function da(){const r=e=>{const t=e.target.value;localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t)};return q(()=>{const e=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",e)},[]),i("div",{className:"dropdown",children:[i("div",{tabIndex:0,role:"button",className:"btn btn-sm mx-2",children:["Theme",i("svg",{width:"12px",height:"12px",className:"inline-block h-2 w-2 fill-current opacity-60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:i("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})})]}),i("ul",{tabIndex:0,className:"dropdown-content bg-base-300 rounded-box z-1 w-36 p-2 shadow-2xl mt-4",children:[i("li",{children:i("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"System theme",value:"default",onClick:r})}),i("li",{children:i("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Dark",value:"dark",onClick:r})}),i("li",{children:i("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Light",value:"light",onClick:r})}),i("li",{children:i("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Retro",value:"retro",onClick:r})}),i("li",{children:i("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Cyberpunk",value:"cyberpunk",onClick:r})}),i("li",{children:i("input",{type:"radio",name:"theme-dropdown",className:"theme-controller w-full btn btn-sm btn-block justify-start","aria-label":"Aqua",value:"aqua",onClick:r})})]})]})}class ha{constructor(e={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...t)=>fetch(...t),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=t=>{this.securityData=t},this.contentFormatters={"application/json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"application/vnd.api+json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"text/plain":t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,"multipart/form-data":t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,s)=>{const o=t[s];return n.append(s,o instanceof Blob?o:typeof o=="object"&&o!==null?JSON.stringify(o):`${o}`),n},new FormData),"application/x-www-form-urlencoded":t=>this.toQueryString(t)},this.createAbortSignal=t=>{if(this.abortControllers.has(t)){const s=this.abortControllers.get(t);return s?s.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal},this.abortRequest=t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))},this.request=async({body:t,secure:n,path:s,type:o,query:a,format:c,baseUrl:l,cancelToken:u,...f})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(f,d),p=a&&this.toQueryString(a),g=this.contentFormatters[o||"application/json"],v=c||h.format;return this.customFetch(`${l||this.baseUrl||""}${s}${p?`?${p}`:""}`,{...h,headers:{...h.headers||{},...o&&o!=="multipart/form-data"?{"Content-Type":o}:{}},signal:(u?this.createAbortSignal(u):h.signal)||null,body:typeof t>"u"||t===null?null:g(t)}).then(async S=>{const C=S.clone();C.data=null,C.error=null;const x=v?await S[v]().then(E=>(C.ok?C.data=E:C.error=E,C)).catch(E=>(C.error=E,C)):C;if(u&&this.abortControllers.delete(u),!S.ok)throw x;return x})},Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(s=>this.encodeQueryParam(t,s)).join("&")}toQueryString(e){const t=e||{};return Object.keys(t).filter(s=>typeof t[s]<"u").map(s=>Array.isArray(t[s])?this.addArrayQueryParam(t,s):this.addQueryParam(t,s)).join("&")}addQueryParams(e){const t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return{...this.baseApiParams,...e,...t||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...t&&t.headers||{}}}}}class fa extends ha{constructor(){super(...arguments),this.getIndex=(e={})=>this.request({path:"/",method:"GET",...e}),this.avatar={getAvatar:(e,t={})=>this.request({path:"/avatar/",method:"GET",query:e,...t})},this.auth={socialSignIn:(e,t={})=>this.request({path:"/auth/api/sign-in/social",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiGetSessionList:(e={})=>this.request({path:"/auth/api/get-session",method:"GET",secure:!0,format:"json",...e}),apiSignOutCreate:(e,t={})=>this.request({path:"/auth/api/sign-out",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiSignUpEmailCreate:(e,t={})=>this.request({path:"/auth/api/sign-up/email",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiSignInEmailCreate:(e,t={})=>this.request({path:"/auth/api/sign-in/email",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiForgetPasswordCreate:(e,t={})=>this.request({path:"/auth/api/forget-password",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiResetPasswordCreate:(e,t={})=>this.request({path:"/auth/api/reset-password",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiVerifyEmailList:(e,t={})=>this.request({path:"/auth/api/verify-email",method:"GET",query:e,secure:!0,format:"json",...t}),apiSendVerificationEmailCreate:(e,t={})=>this.request({path:"/auth/api/send-verification-email",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiChangeEmailCreate:(e,t={})=>this.request({path:"/auth/api/change-email",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiChangePasswordCreate:(e,t={})=>this.request({path:"/auth/api/change-password",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiUpdateUserCreate:(e,t={})=>this.request({path:"/auth/api/update-user",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiDeleteUserCreate:(e,t={})=>this.request({path:"/auth/api/delete-user",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiResetPasswordDetail:(e,t,n={})=>this.request({path:`/auth/api/reset-password/${e}`,method:"GET",query:t,secure:!0,format:"json",...n}),apiRequestPasswordResetCreate:(e,t={})=>this.request({path:"/auth/api/request-password-reset",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiListSessionsList:(e={})=>this.request({path:"/auth/api/list-sessions",method:"GET",secure:!0,format:"json",...e}),apiRevokeSessionCreate:(e,t={})=>this.request({path:"/auth/api/revoke-session",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiRevokeSessionsCreate:(e,t={})=>this.request({path:"/auth/api/revoke-sessions",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiRevokeOtherSessionsCreate:(e,t={})=>this.request({path:"/auth/api/revoke-other-sessions",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiLinkSocialCreate:(e,t={})=>this.request({path:"/auth/api/link-social",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiListAccountsList:(e={})=>this.request({path:"/auth/api/list-accounts",method:"GET",secure:!0,format:"json",...e}),apiDeleteUserCallbackList:(e,t={})=>this.request({path:"/auth/api/delete-user/callback",method:"GET",query:e,secure:!0,format:"json",...t}),apiUnlinkAccountCreate:(e,t={})=>this.request({path:"/auth/api/unlink-account",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiRefreshTokenCreate:(e,t={})=>this.request({path:"/auth/api/refresh-token",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiGetAccessTokenCreate:(e,t={})=>this.request({path:"/auth/api/get-access-token",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiAccountInfoCreate:(e,t={})=>this.request({path:"/auth/api/account-info",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiOkList:(e={})=>this.request({path:"/auth/api/ok",method:"GET",secure:!0,format:"json",...e}),apiErrorList:(e={})=>this.request({path:"/auth/api/error",method:"GET",secure:!0,...e})}}}const Z=new fa({baseUrl:"http://my-website.space/backend",securityWorker:()=>({credentials:"include"})});function Bi(r,e){for(var t in e)r[t]=e[t];return r}function On(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function Fi(r,e){var t=e(),n=N({t:{__:t,u:e}}),s=n[0].t,o=n[1];return Je(function(){s.__=t,s.u=e,rn(s)&&o({t:s})},[r,t,e]),q(function(){return rn(s)&&o({t:s}),r(function(){rn(s)&&o({t:s})})},[r]),t}function rn(r){var e,t,n=r.u,s=r.__;try{var o=n();return!((e=s)===(t=o)&&(e!==0||1/e==1/t)||e!=e&&t!=t)}catch{return!0}}function Ui(r){r()}function qi(r){return r}function Hi(){return[!1,Ui]}var zi=Je;function En(r,e){this.props=r,this.context=e}function Wi(r,e){function t(s){var o=this.props.ref,a=o==s.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,s)||!a:On(this.props,s)}function n(s){return this.shouldComponentUpdate=t,we(r,s)}return n.displayName="Memo("+(r.displayName||r.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n.type=r,n}(En.prototype=new $e).isPureReactComponent=!0,En.prototype.shouldComponentUpdate=function(r,e){return On(this.props,r)||On(this.state,e)};var Ps=F.__b;F.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),Ps&&Ps(r)};var pa=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Yn(r){function e(t){var n=Bi({},t);return delete n.ref,r(n,t.ref||null)}return e.$$typeof=pa,e.render=r,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(r.displayName||r.name)+")",e}var Ls=function(r,e){return r==null?null:Be(Be(r).map(e))},ga={map:Ls,forEach:Ls,count:function(r){return r?Be(r).length:0},only:function(r){var e=Be(r);if(e.length!==1)throw"Children.only";return e[0]},toArray:Be},ma=F.__e;F.__e=function(r,e,t,n){if(r.then){for(var s,o=e;o=o.__;)if((s=o.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(r,e)}ma(r,e,t,n)};var Rs=F.unmount;function Ki(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=Bi({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c.__e=!0,r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return Ki(n,e,t)})),r}function Vi(r,e,t){return r&&t&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return Vi(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.appendChild(r.__e),r.__c.__e=!0,r.__c.__P=t)),r}function pr(){this.__u=0,this.o=null,this.__b=null}function Gi(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function va(r){var e,t,n;function s(o){if(e||(e=r()).then(function(a){t=a.default||a},function(a){n=a}),n)throw n;if(!t)throw e;return we(t,o)}return s.displayName="Lazy",s.__f=!0,s}function Ut(){this.i=null,this.l=null}F.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&32&r.__u&&(r.type=null),Rs&&Rs(r)},(pr.prototype=new $e).__c=function(r,e){var t=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(t);var s=Gi(n.__v),o=!1,a=function(){o||(o=!0,t.__R=null,s?s(c):c())};t.__R=a;var c=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Vi(l,l.__c.__P,l.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.o.pop();)u.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(a,a)},pr.prototype.componentWillUnmount=function(){this.o=[]},pr.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Ki(this.__b,t,n.__O=n.__P)}this.__b=null}var s=e.__a&&we($,null,r.fallback);return s&&(s.__u&=-33),[we($,null,e.__a?null:r.children),s]};var As=function(r,e,t){if(++t[1]===t[0]&&r.l.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.l.size))for(t=r.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.i=t=t[2]}};function _a(r){return this.getChildContext=function(){return r.context},r.children}function ba(r){var e=this,t=r.h;if(e.componentWillUnmount=function(){St(null,e.v),e.v=null,e.h=null},e.h&&e.h!==t&&e.componentWillUnmount(),!e.v){for(var n=e.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;e.h=t,e.v={nodeType:1,parentNode:t,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},insertBefore:function(s,o){this.childNodes.push(s),e.h.insertBefore(s,o)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),e.h.removeChild(s)}}}St(we(_a,{context:e.context},r.__v),e.v)}function ya(r,e){var t=we(ba,{__v:r,h:e});return t.containerInfo=e,t}(Ut.prototype=new $e).__a=function(r){var e=this,t=Gi(e.__v),n=e.l.get(r);return n[0]++,function(s){var o=function(){e.props.revealOrder?(n.push(s),As(e,r,n)):s()};t?t(o):o()}},Ut.prototype.render=function(r){this.i=null,this.l=new Map;var e=Be(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return r.children},Ut.prototype.componentDidUpdate=Ut.prototype.componentDidMount=function(){var r=this;this.l.forEach(function(e,t){As(r,t,e)})};var Qi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,wa=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ca=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Sa=/[A-Z0-9]/g,xa=typeof document<"u",Na=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(r)};function Oa(r,e,t){return e.__k==null&&(e.textContent=""),St(r,e),typeof t=="function"&&t(),r?r.__c:null}function Ea(r,e,t){return Li(r,e),typeof t=="function"&&t(),r?r.__c:null}$e.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty($e.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var Is=F.event;function ka(){}function Ta(){return this.cancelBubble}function Da(){return this.defaultPrevented}F.event=function(r){return Is&&(r=Is(r)),r.persist=ka,r.isPropagationStopped=Ta,r.isDefaultPrevented=Da,r.nativeEvent=r};var Xn,Pa={enumerable:!1,configurable:!0,get:function(){return this.class}},Ms=F.vnode;F.vnode=function(r){typeof r.type=="string"&&(function(e){var t=e.props,n=e.type,s={},o=n.indexOf("-")===-1;for(var a in t){var c=t[a];if(!(a==="value"&&"defaultValue"in t&&c==null||xa&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&c===!0?c="":l==="translate"&&c==="no"?c=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||Na(t.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Ca.test(a)&&(a=l):l=a="oninput":o&&wa.test(a)?a=a.replace(Sa,"-$&").toLowerCase():c===null&&(c=void 0),l==="oninput"&&s[a=l]&&(a="oninputCapture"),s[a]=c}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Be(t.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=Be(t.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),t.class&&!t.className?(s.class=t.class,Object.defineProperty(s,"className",Pa)):(t.className&&!t.class||t.class&&t.className)&&(s.class=s.className=t.className),e.props=s})(r),r.$$typeof=Qi,Ms&&Ms(r)};var js=F.__r;F.__r=function(r){js&&js(r),Xn=r.__c};var $s=F.diffed;F.diffed=function(r){$s&&$s(r);var e=r.props,t=r.__e;t!=null&&r.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),Xn=null};var La={ReactCurrentDispatcher:{current:{readContext:function(r){return Xn.__n[r.__c].props.value},useCallback:Er,useContext:lt,useDebugValue:Ai,useDeferredValue:qi,useEffect:q,useId:Ii,useImperativeHandle:Gn,useInsertionEffect:zi,useLayoutEffect:Je,useMemo:oe,useReducer:Jt,useRef:ge,useState:N,useSyncExternalStore:Fi,useTransition:Hi}}};function Ra(r){return we.bind(null,r)}function er(r){return!!r&&r.$$typeof===Qi}function Aa(r){return er(r)&&r.type===$}function Ia(r){return!!r&&!!r.displayName&&(typeof r.displayName=="string"||r.displayName instanceof String)&&r.displayName.startsWith("Memo(")}function kn(r){return er(r)?xn.apply(null,arguments):r}function Ma(r){return!!r.__k&&(St(null,r),!0)}function ja(r){return r&&(r.base||r.nodeType===1&&r)||null}var $a=function(r,e){return r(e)},Ba=function(r,e){return r(e)},Fa=$,Ua=er,ot={useState:N,useId:Ii,useReducer:Jt,useEffect:q,useLayoutEffect:Je,useInsertionEffect:zi,useTransition:Hi,useDeferredValue:qi,useSyncExternalStore:Fi,startTransition:Ui,useRef:ge,useImperativeHandle:Gn,useMemo:oe,useCallback:Er,useContext:lt,useDebugValue:Ai,version:"18.3.1",Children:ga,render:Oa,hydrate:Ea,unmountComponentAtNode:Ma,createPortal:ya,createElement:we,createContext:Ot,createFactory:Ra,cloneElement:kn,createRef:Jo,Fragment:$,isValidElement:er,isElement:Ua,isFragment:Aa,isMemo:Ia,findDOMNode:ja,Component:$e,PureComponent:En,memo:Wi,forwardRef:Yn,flushSync:Ba,unstable_batchedUpdates:$a,StrictMode:Fa,Suspense:pr,SuspenseList:Ut,lazy:va,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:La},Yi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bs=ot.createContext&&ot.createContext(Yi),qa=["attr","size","title"];function Ha(r,e){if(r==null)return{};var t=za(r,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function za(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function xr(){return xr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},xr.apply(this,arguments)}function Fs(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Nr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fs(Object(t),!0).forEach(function(n){Wa(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Fs(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wa(r,e,t){return e=Ka(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ka(r){var e=Va(r,"string");return typeof e=="symbol"?e:e+""}function Va(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Xi(r){return r&&r.map((e,t)=>ot.createElement(e.tag,Nr({key:t},e.attr),Xi(e.child)))}function _e(r){return e=>ot.createElement(Ga,xr({attr:Nr({},r.attr)},e),Xi(r.child))}function Ga(r){var e=t=>{var{attr:n,size:s,title:o}=r,a=Ha(r,qa),c=s||t.size||"1em",l;return t.className&&(l=t.className),r.className&&(l=(l?l+" ":"")+r.className),ot.createElement("svg",xr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:l,style:Nr(Nr({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ot.createElement("title",null,o),r.children)};return Bs!==void 0?ot.createElement(Bs.Consumer,null,t=>e(t)):e(Yi)}function Qa(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(r)}function Us(r){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(r)}function Ji(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function Tn(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(r)}function Ya(r){return _e({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(r)}function Xa(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function Ja(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function Za(r){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM224 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm176-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h328c6.6 0 12 5.4 12 12v312z"},child:[]}]})(r)}function ec(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(r)}function tc(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(r)}function Zi(r){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function rc(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"},child:[]}]})(r)}function nc(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"},child:[]}]})(r)}function sc(r){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function X(){const{route:r}=kr(),[e,t]=N(null),[n,s]=N(""),[o,a]=N("");q(()=>{async function l(){try{const u=(await Z.auth.apiGetSessionList()).data;t(u.user)}catch(u){if(u?.error?.status==401){console.log("Not logged in: can't fetch user data");return}const f=u instanceof Error?u.message:"Fetching user data failed";a(f),console.error("Error:",u)}}l()},[]),q(()=>{(async()=>{try{if(!e)return;const l=e.image||await(await Z.avatar.getAvatar({name:e.name})).text();console.log("GOT IMAGE URL:",l),s(l)}catch(l){const u=l instanceof Error?l.message:"Generating or setting the user's avatar failed";a(u),console.error("Error:",l)}})()},[e]);function c(){Z.auth.apiSignOutCreate({}),r("/login")}return i("div",{className:"navbar bg-neutral text-neutral-content shadow-sm",children:[i("div",{className:"navbar-start",children:i("a",{className:"btn btn-ghost text-xl",href:"/",children:"My Website"})}),i("div",{className:"navbar-center",children:i("ul",{className:"menu menu-horizontal px-1",children:[i("li",{children:i("a",{href:"/",children:"Home"})}),i("li",{children:i("details",{children:[i("summary",{children:"Info"}),i("ul",{className:"dropdown-content bg-base-300 rounded-box z-1 w-26 p-2 shadow-2xl",children:[i("li",{children:i("a",{href:"/about",className:"btn btn-sm btn-block",children:"About"})}),i("li",{children:i("a",{href:"/contact",className:"btn btn-sm btn-block",children:"Contact"})})]})]})}),i("li",{children:i("a",{href:"/blog",children:"Blog"})}),i("li",{children:i("a",{href:"/projects",children:"Projects"})})]})}),i("div",{className:"navbar-end",children:[i(da,{}),e?i("div",{className:"mx-2 dropdown dropdown-end",children:[i("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:i("div",{className:"w-10 rounded-full",children:i("img",{alt:"USER ICON",src:n})})}),i("ul",{tabIndex:-1,className:"menu menu-sm dropdown-content bg-base-300 rounded-box z-1 w-36 p-2 shadow-2xl mt-3",children:[i("li",{children:i("a",{className:"justify-between",children:[i(Zi,{})," Profile",i("span",{className:"badge",children:"New"})]})}),i("li",{children:i("a",{href:"/settings",children:[i(sc,{})," Settings"]})}),i("li",{children:i("button",{onClick:c,children:[i(Ja,{})," Logout"]})})]})]}):i("a",{className:"btn btn-sm",href:"/login",children:[i(Xa,{}),"Login"]})]})]})}function ic(r){const[e,t]=N(r.likes.valueOf()),[n,s]=N(r.dislikes.valueOf()),[o,a]=N(!1),[c,l]=N(!1),[u,f]=N("");q(()=>{async function h(){try{const g=await(await Z.postReaction.postReactionCreate({post_id:r.post_id.valueOf()})).json();a(g[0]),l(g[1])}catch(p){if(p?.status==401){console.log("Not logged in: won't fetch previous reactions");return}const g=p instanceof Error?p.message:"Fetching previous reactions failed";f(g),console.error("Error:",p)}}h()},[r.post_id]);async function d(h){try{const p={post_id:Object(r.post_id)},v=await(await(h?Z.postLike.postLikeCreate(p):Z.postDislike.postDislikeCreate(p))).text;console.log("data"),h?(t(o?e-1:e+1),c&&(s(n-1),l(!1))):(s(c?n-1:n+1),o&&(t(e-1),a(!1))),h?a(!o):l(!c)}catch(p){if(p?.status==401){console.log("401 error: redirecting to /login"),window.location.href="/login";return}const g=p instanceof Error?p.message:"Reacting failed";f(g),console.error("Error:",p)}}return u?i($,{children:i("div",{role:"alert",className:"alert alert-error",children:[i("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i("span",{children:u})]})}):i("div",{class:"pt-1 text-lg",children:[i("div",{class:"inline mr-4",children:[i("span",{children:e}),i("span",{className:"cursor-pointer px-2 text-green-500 hover:text-[#2196f3] inline-block",onClick:async()=>{await d(!0)},children:o?i(tc,{}):i(nc,{})})]}),i("div",{class:"inline mr-4",children:[i("span",{children:n}),i("span",{className:"cursor-pointer px-2 text-red-500 hover:text-[#2196f3] inline-block",onClick:async()=>{await d(!1)},children:c?i(ec,{}):i(rc,{})})]}),i("div",{class:"inline mr-4",children:[i("span",{children:r.comments?.length}),i("span",{className:"cursor-pointer px-2 inline-block",onClick:async()=>{await d(!1)},children:i(Qa,{})})]})]})}function oc(){const[r,e]=N([]),[t,n]=N({}),[s,o]=N(""),[a,c]=N(1),l=5;q(()=>{(async()=>{try{const v=await(await Z.posts.postsList()).json();e(v)}catch(g){const v=g instanceof Error?g.message:"Fetching blogs failed";o(v),console.error("Error:",g)}})()},[]),q(()=>{(async()=>{try{const g=r.map(async C=>{const E=await(await Z.postComments.postCommentsCreate({post_id:C.post_id})).json();return{post_id:C.post_id,comments:E}}),S=(await Promise.all(g)).reduce((C,{post_id:x,comments:E})=>(C[x]=E,C),{});n(S)}catch(g){const v=g instanceof Error?g.message:"Fetching comments failed";o(v),console.error("Error:",g)}})()},[r]);const u=Math.ceil(r.length/l),f=a*l,d=f-l,h=r.slice(d,f),p=g=>c(g);return s?i($,{children:[i(X,{}),i("div",{role:"alert",className:"alert alert-error",children:[i("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i("span",{children:s})]})]}):i($,{children:[i(X,{}),i("div",{className:"container mx-auto p-4",children:[i("h1",{className:"text-2xl font-bold mb-4",children:"Blog Posts"}),i("div",{className:"space-y-6",children:h.map((g,v)=>i(eo,{post:g,comments:t[g.post_id]},v))}),u>1&&i("div",{className:"join mt-6 flex justify-center",children:Array.from({length:u},(g,v)=>v+1).map(g=>i("button",{className:`join-item btn ${a===g?"btn-active":""}`,onClick:()=>p(g),children:g},g))})]})]})}function eo(r){const{post:e}=r,{comments:t}=r;return i("div",{class:"card shadow transition-transform ease-in-out delay-0 hover:-translate-y-1 hover:scale-[1.02] duration-300",children:[i("a",{class:"card-body",href:`/blog/${e.post_id}`,children:[i("h1",{class:"text-4xl font-bold",children:e.title}),i("time",{children:new Date(e.created_at).toLocaleDateString("en-uk",{year:"numeric",month:"long",day:"numeric"})}),i("div",{class:"prose max-w-full mt-4",dangerouslySetInnerHTML:{__html:e.snippet}})]}),i("div",{class:"card-body pt-0",children:i(ic,{post_id:e.post_id,likes:e.likes,dislikes:e.dislikes,comments:t})})]})}function ac({id:r}){const[e,t]=N(""),[n,s]=N([]),[o,a]=N(null),[c,l]=N(""),u=d=>{t(d.target.value)};function f(){(async()=>{try{const h=await(await Z.postComment.postCommentCreate({post_id:parseInt(r),content:e})).text();console.log(h),alert(h)}catch(d){if(d?.status==401){console.log("401 error: redirecting to /login"),window.location.href="/login";return}const h=d instanceof Error?d.message:"Posting blog comment failed";l(h),console.error("Error:",d)}})()}return q(()=>{(async()=>{try{const h=await(await Z.post.postCreate({post_id:parseInt(r)})).json();a(h)}catch(d){const h=d instanceof Error?d.message:"Fetching blog failed";l(h),console.error("Error:",d)}})()},[r]),q(()=>{(async()=>{try{const h=await(await Z.postComments.postCommentsCreate({post_id:parseInt(r)})).json();s(h)}catch(d){const h=d instanceof Error?d.message:"Fetching comments failed";l(h),console.error("Error:",d)}})()},[]),c?i($,{children:[i(X,{}),i("div",{role:"alert",className:"alert alert-error",children:[i("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i("span",{children:c})]})]}):o?i($,{children:[i(X,{}),i("div",{class:"card card-body max-w-full",children:i("div",{class:"text-center justify-center",children:i(eo,{post:o,comments:n})})}),i("div",{class:"prose max-w-full mx-8",dangerouslySetInnerHTML:{__html:o?.content}}),i("div",{class:"mx-8 mb-8",children:[i("div",{className:"divider"}),i("h1",{class:"text-3xl font-bold",children:"Comments"}),i("p",{children:"Comments do not allow any HTML, but they allow Markdown for styling. Once submitted, they need to be reviewed by the site administrator to be displayed for obvious reasons."}),i("textarea",{id:"comment",class:"min-w-11/12 resize min-h-[10rem] p-4 my-4 rounded-lg outline-1",placeholder:"Write a Markdown comment...",required:!0,onInput:u}),i("div",{children:i("button",{class:"btn rounded-xl bg-blue-600 text-white",onClick:f,children:"Post comment"})}),n.map((d,h)=>i(cc,{content:d.content,created_at:d.created_at,user_id:d.user_id}))]})]}):i($,{children:[i(X,{}),i("p",{children:"Loading..."})]})}function cc(r){return i("div",{class:"card",children:i("div",{class:"card-body pb-8 text-[1.0625rem]",children:[i("div",{class:"inline",children:[i("span",{class:"font-bold",children:["ID: ",r.user_id]}),i("time",{class:"ml-4",children:new Date(r.created_at).toLocaleDateString("en-uk",{hour:"numeric",minute:"numeric",year:"numeric",month:"numeric",day:"numeric"})})]}),i("div",{class:"prose max-w-full",dangerouslySetInnerHTML:{__html:r.content}})]})})}function lc(){return i($,{children:[i(X,{}),i("div",{className:"h-[99%] grid place-items-center",id:"homescreen",children:i("div",{className:"min-w-1/4 text-center p-8 bg-black/80 text-white",children:[i("h1",{className:"text-8xl font-semibold mb-2",children:["My",i("br",{}),"Website",i("span",{className:"blink",children:"_"})]}),i("p",{children:"Hi"})]})})]})}function uc(){return i($,{children:[i(X,{}),i("div",{className:"sm:float-left sm:w-1/2 p-4",children:[i("h1",{class:"text-4xl font-bold mb-3",children:"About"}),i("p",{children:"Hello!"}),i("p",{children:"This is my website, which is yet to be completed."}),i("p",{children:["Check out"," ",i("a",{href:"/projects/pong",class:"text-blue-500",children:"my Rust pong game"})]})]}),i("div",{className:"sm:float-right sm:w-1/2 mx-auto",children:i("img",{src:$i,className:"p-4 w-[80%]"})})]})}function to(r){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(r)}function ro(r){return _e({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}function dc(){const[r,e]=N(""),[t,n]=N(""),[s,o]=N(!0),[a,c]=N(!1),[l,u]=N(""),{route:f}=kr(),d=C=>{e(C.target.value)},h=C=>{n(C.target.value)},p=C=>{o(C.target.checked)};async function g(){c(!0);try{await Z.auth.apiSignInEmailCreate({email:r,password:t,rememberMe:s}),f("/")}catch(C){const x=C?.error?.message||"ERROR: LOGIN FAILED";u(x),console.log("ERROR:",C?.error?.message||C),c(!1)}}async function v(C){c(!0);try{const x=(await Z.auth.socialSignIn({provider:C,callbackURL:new URL("/",window.location.origin).href})).data;window.location.href=x.url;return}catch(x){const E=x?.error?.message||"ERROR: LOGIN FAILED";u(E),console.log("ERROR:",x?.error?.message||x),c(!1)}}function S(C){C.preventDefault(),g()}return i($,{children:[i(X,{}),i("div",{className:"mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full",children:i("div",{className:"card-body",children:[i("h1",{className:"text-center text-xl font-bold",children:"Login"}),i("form",{className:"fieldset",onSubmit:S,children:[i("label",{className:"label",children:"Email"}),i("label",{className:"input w-full",children:[i(Ji,{}),i("input",{type:"text",required:!0,placeholder:"Email",onInput:d})]}),i("label",{className:"label",children:"Password"}),i("label",{className:"input w-full",children:[i(Tn,{}),i("input",{type:"password",required:!0,placeholder:"Password",onInput:h})]}),i("label",{className:"label",children:[i("input",{type:"checkbox",onChange:p,checked:s}),"Remember me"]}),i("button",{disabled:a,className:"btn btn-neutral mt-4",type:"submit",children:"Login"}),i("div",{children:i("p",{className:"text-center",children:["Don't have an account?"," ",i("a",{className:"link-accent",href:"/signup",children:"Sign up here"})]})})]}),l&&i("p",{className:"text-error",children:l}),i("div",{className:"divider",children:"Sign In With"}),i("button",{className:"btn text-black bg-white font-bold",onClick:()=>v("google"),children:[i(ro,{}),"Google"]}),i("button",{className:"btn text-white bg-black font-bold",onClick:()=>v("twitter"),children:[i(to,{}),"Twitter (X)"]})]})})]})}function qs({title:r,description:e,technicalSpecs:t,backgroundImage:n,href:s}){return i("a",{href:s,children:i("div",{className:"card card-side bg-neutral text-neutral-content border border-base-200 overflow-hidden relative group transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-accent/20 flex",children:[i("div",{className:"card-body p-8 flex flex-col justify-between w-3/4",children:[i("div",{children:[i("h2",{className:"card-title text-3xl mb-3 text-balance",children:r}),i("p",{className:"mb-4 leading-relaxed",children:e}),i("div",{className:"text-sm bg-base-100 text-base-content p-3 rounded border border-base-300 my-4",children:[i("span",{className:"font-semibold text-accent",children:"Technical:"})," ",t]})]}),i("div",{className:"card-actions",children:i("a",{href:s,className:"btn btn-success px-6 py-3 transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary group-hover:shadow-lg group-hover:shadow-primary/50",children:"Play Now"})})]}),i("figure",{className:"w-1/4 relative brightness-75 group-hover:brightness-110 transition-all duration-500",children:[i("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent to-base-100/20"}),i("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${n})`}})]})]})})}function hc(){return i($,{children:[i(X,{}),i("h1",{class:"text-3xl mx-4 my-8",children:"Projects"}),i("div",{class:"m-8",children:i(qs,{title:"Chess",description:"A multiplayer chess web app built with Rust and Poem-WebSocket, enabling multiplayer gameplay.",technicalSpecs:"Move validation â¢ Real-time multiplayer",backgroundImage:"/chess-board.png",href:"/projects/chess"})}),i("div",{class:"m-8",children:i(qs,{title:"Arithmetic Game",description:"Challenge your mental arithmetic skills in this arithmetic puzzle game.",technicalSpecs:"Dynamic problem generation â¢ Multiplayer leaderboards â¢ Timed solo mode",backgroundImage:"/stragedy-rush.png",href:"/projects/arithmetic"})}),i("a",{href:"https://altus.deno.dev/projects",class:"mx-8 my-4 btn btn-success",children:"More Projects"})]})}const Ue=Object.create(null);Ue.open="0";Ue.close="1";Ue.ping="2";Ue.pong="3";Ue.message="4";Ue.upgrade="5";Ue.noop="6";const gr=Object.create(null);Object.keys(Ue).forEach(r=>{gr[Ue[r]]=r});const Dn={type:"error",data:"parser error"},no=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",so=typeof ArrayBuffer=="function",io=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Jn=({type:r,data:e},t,n)=>no&&e instanceof Blob?t?n(e):Hs(e,n):so&&(e instanceof ArrayBuffer||io(e))?t?n(e):Hs(new Blob([e]),n):n(Ue[r]+(e||"")),Hs=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function zs(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let nn;function fc(r,e){if(no&&r.data instanceof Blob)return r.data.arrayBuffer().then(zs).then(e);if(so&&(r.data instanceof ArrayBuffer||io(r.data)))return e(zs(r.data));Jn(r,!1,t=>{nn||(nn=new TextEncoder),e(nn.encode(t))})}const Ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Ws.length;r++)qt[Ws.charCodeAt(r)]=r;const pc=r=>{let e=r.length*.75,t=r.length,n,s=0,o,a,c,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const u=new ArrayBuffer(e),f=new Uint8Array(u);for(n=0;n<t;n+=4)o=qt[r.charCodeAt(n)],a=qt[r.charCodeAt(n+1)],c=qt[r.charCodeAt(n+2)],l=qt[r.charCodeAt(n+3)],f[s++]=o<<2|a>>4,f[s++]=(a&15)<<4|c>>2,f[s++]=(c&3)<<6|l&63;return u},gc=typeof ArrayBuffer=="function",Zn=(r,e)=>{if(typeof r!="string")return{type:"message",data:oo(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:mc(r.substring(1),e)}:gr[t]?r.length>1?{type:gr[t],data:r.substring(1)}:{type:gr[t]}:Dn},mc=(r,e)=>{if(gc){const t=pc(r);return oo(t,e)}else return{base64:!0,data:r}},oo=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},ao="",vc=(r,e)=>{const t=r.length,n=new Array(t);let s=0;r.forEach((o,a)=>{Jn(o,!1,c=>{n[a]=c,++s===t&&e(n.join(ao))})})},_c=(r,e)=>{const t=r.split(ao),n=[];for(let s=0;s<t.length;s++){const o=Zn(t[s],e);if(n.push(o),o.type==="error")break}return n};function bc(){return new TransformStream({transform(r,e){fc(r,t=>{const n=t.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let sn;function ar(r){return r.reduce((e,t)=>e+t.length,0)}function cr(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)t[s]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function yc(r,e){sn||(sn=new TextDecoder);const t=[];let n=0,s=-1,o=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(n===0){if(ar(t)<1)break;const l=cr(t,1);o=(l[0]&128)===128,s=l[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(ar(t)<2)break;const l=cr(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(ar(t)<8)break;const l=cr(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(Dn);break}s=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(ar(t)<s)break;const l=cr(t,s);c.enqueue(Zn(o?l:sn.decode(l),e)),n=0}if(s===0||s>r){c.enqueue(Dn);break}}}})}const co=4;function ie(r){if(r)return wc(r)}function wc(r){for(var e in ie.prototype)r[e]=ie.prototype[e];return r}ie.prototype.on=ie.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};ie.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};ie.prototype.off=ie.prototype.removeListener=ie.prototype.removeAllListeners=ie.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,s=0;s<t.length;s++)if(n=t[s],n===e||n.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+r],this};ie.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,s=t.length;n<s;++n)t[n].apply(this,e)}return this};ie.prototype.emitReserved=ie.prototype.emit;ie.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};ie.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Tr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Le=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cc="arraybuffer";function lo(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const Sc=Le.setTimeout,xc=Le.clearTimeout;function Dr(r,e){e.useNativeTimers?(r.setTimeoutFn=Sc.bind(Le),r.clearTimeoutFn=xc.bind(Le)):(r.setTimeoutFn=Le.setTimeout.bind(Le),r.clearTimeoutFn=Le.clearTimeout.bind(Le))}const Nc=1.33;function Oc(r){return typeof r=="string"?Ec(r):Math.ceil((r.byteLength||r.size)*Nc)}function Ec(r){let e=0,t=0;for(let n=0,s=r.length;n<s;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function uo(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kc(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function Tc(r){let e={},t=r.split("&");for(let n=0,s=t.length;n<s;n++){let o=t[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class Dc extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class es extends ie{constructor(e){super(),this.writable=!1,Dr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Dc(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Zn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=kc(e);return t.length?"?"+t:""}}class Pc extends es{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};_c(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,vc(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=uo()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let ho=!1;try{ho=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Lc=ho;function Rc(){}class Ac extends Pc{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class Fe extends ie{constructor(e,t,n){super(),this.createRequest=e,Dr(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=lo(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Fe.requestsCount++,Fe.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Rc,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Fe.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Fe.requestsCount=0;Fe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ks);else if(typeof addEventListener=="function"){const r="onpagehide"in Le?"pagehide":"unload";addEventListener(r,Ks,!1)}}function Ks(){for(let r in Fe.requests)Fe.requests.hasOwnProperty(r)&&Fe.requests[r].abort()}const Ic=(function(){const r=fo({xdomain:!1});return r&&r.responseType!==null})();class Mc extends Ac{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ic&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Fe(fo,this.uri(),e)}}function fo(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Lc))return new XMLHttpRequest}catch{}if(!e)try{return new Le[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const po=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jc extends es{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=po?{}:lo(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;Jn(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}s&&Tr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=uo()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const on=Le.WebSocket||Le.MozWebSocket;class $c extends jc{createSocket(e,t,n){return po?new on(e,t,n):t?new on(e,t):new on(e)}doWrite(e,t){this.ws.send(t)}}class Bc extends es{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=yc(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),s=bc();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const o=()=>{n.read().then(({done:c,value:l})=>{c||(this.onPacket(l),o())}).catch(c=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;this._writer.write(n).then(()=>{s&&Tr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Fc={websocket:$c,webtransport:Bc,polling:Mc},Uc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,qc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pn(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let s=Uc.exec(r||""),o={},a=14;for(;a--;)o[qc[a]]=s[a]||"";return t!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Hc(o,o.path),o.queryKey=zc(o,o.query),o}function Hc(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function zc(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,o){s&&(t[s]=o)}),t}const Ln=typeof addEventListener=="function"&&typeof removeEventListener=="function",mr=[];Ln&&addEventListener("offline",()=>{mr.forEach(r=>r())},!1);class Qe extends ie{constructor(e,t){if(super(),this.binaryType=Cc,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=Pn(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Pn(t.host).host);Dr(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tc(this.opts.query)),Ln&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},mr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=co,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Qe.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Qe.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=Oc(s)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Tr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,s){if(typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Qe.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ln&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=mr.indexOf(this._offlineEventListener);n!==-1&&mr.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Qe.protocol=co;class Wc extends Qe{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Qe.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Qe.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=t.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,f(),t.close(),t=null)}const a=d=>{const h=new Error("probe error: "+d);h.transport=t.name,o(),this.emitReserved("upgradeError",h)};function c(){a("transport closed")}function l(){a("socket closed")}function u(d){t&&d.name!==t.name&&o()}const f=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",c),this.off("close",l),this.off("upgrading",u)};t.once("open",s),t.once("error",a),t.once("close",c),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let Kc=class extends Wc{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Fc[s]).filter(s=>!!s)),super(e,n)}};function Vc(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=Pn(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}const Gc=typeof ArrayBuffer=="function",Qc=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,go=Object.prototype.toString,Yc=typeof Blob=="function"||typeof Blob<"u"&&go.call(Blob)==="[object BlobConstructor]",Xc=typeof File=="function"||typeof File<"u"&&go.call(File)==="[object FileConstructor]";function ts(r){return Gc&&(r instanceof ArrayBuffer||Qc(r))||Yc&&r instanceof Blob||Xc&&r instanceof File}function vr(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(vr(r[t]))return!0;return!1}if(ts(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return vr(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&vr(r[t]))return!0;return!1}function Jc(r){const e=[],t=r.data,n=r;return n.data=Rn(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Rn(r,e){if(!r)return r;if(ts(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=Rn(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=Rn(r[n],e));return t}return r}function Zc(r,e){return r.data=An(r.data,e),delete r.attachments,r}function An(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=An(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=An(r[t],e));return r}const el=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tl=5;var W;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class rl{constructor(e){this.replacer=e}encode(e){return(e.type===W.EVENT||e.type===W.ACK)&&vr(e)?this.encodeAsBinary({type:e.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Jc(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}}function Vs(r){return Object.prototype.toString.call(r)==="[object Object]"}class rs extends ie{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===W.BINARY_EVENT;n||t.type===W.BINARY_ACK?(t.type=n?W.EVENT:W.ACK,this.reconstructor=new nl(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(ts(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(W[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===W.BINARY_EVENT||n.type===W.BINARY_ACK){const o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(o,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(t+1)==="/"){const o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(o,t)}else n.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const o=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}n.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(rs.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case W.CONNECT:return Vs(t);case W.DISCONNECT:return t===void 0;case W.CONNECT_ERROR:return typeof t=="string"||Vs(t);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&el.indexOf(t[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class nl{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Zc(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sl=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rs,Encoder:rl,get PacketType(){return W},protocol:tl},Symbol.toStringTag,{value:"Module"}));function Ie(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const il=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mo extends ie{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ie(e,"open",this.onopen.bind(this)),Ie(e,"packet",this.onpacket.bind(this)),Ie(e,"error",this.onerror.bind(this)),Ie(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,s,o;if(il.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:W.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const f=this.ids++,d=t.pop();this._registerAckCallback(f,d),a.id=f}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},s),a=(...c)=>{this.io.clearTimeoutFn(o),t.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,s)=>{const o=(a,c)=>a?s(a):n(c);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...o)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case W.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(e);break;case W.ACK:case W.BINARY_ACK:this.onack(e);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:W.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function kt(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}kt.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};kt.prototype.reset=function(){this.attempts=0};kt.prototype.setMin=function(r){this.ms=r};kt.prototype.setMax=function(r){this.max=r};kt.prototype.setJitter=function(r){this.jitter=r};class In extends ie{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Dr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new kt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||sl;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Kc(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Ie(t,"open",function(){n.onopen(),e&&e()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=Ie(t,"error",o);if(this._timeout!==!1){const c=this._timeout,l=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),t.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ie(e,"ping",this.onping.bind(this)),Ie(e,"data",this.ondata.bind(this)),Ie(e,"error",this.onerror.bind(this)),Ie(e,"close",this.onclose.bind(this)),Ie(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Tr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new mo(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Mt={};function _r(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=Vc(r,e.path||"/socket.io"),n=t.source,s=t.id,o=t.path,a=Mt[s]&&o in Mt[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return c?l=new In(n,e):(Mt[s]||(Mt[s]=new In(n,e)),l=Mt[s]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(_r,{Manager:In,Socket:mo,io:_r,connect:_r});function ol(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}const Gt="abcdefgh".split(""),br={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},al={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},cl={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},ll=[7,6,5,4,3,2,1,0],ul=[0,1,2,3,4,5,6,7],Gs={wP:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),i("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),i("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),i("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),i("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),i("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),i("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),i("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[i("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),i("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),i("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),i("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[i("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),i("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),i("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),i("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),i("circle",{cx:"6",cy:"12",r:"2"}),i("circle",{cx:"14",cy:"9",r:"2"}),i("circle",{cx:"22.5",cy:"8",r:"2"}),i("circle",{cx:"31",cy:"9",r:"2"}),i("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),i("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),i("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),i("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),i("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),i("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),i("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),i("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),i("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),i("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),i("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),i("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),i("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[i("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),i("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),i("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),i("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[i("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),i("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),i("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),i("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),i("circle",{cx:"6",cy:"12",r:"2"}),i("circle",{cx:"14",cy:"9",r:"2"}),i("circle",{cx:"22.5",cy:"8",r:"2"}),i("circle",{cx:"31",cy:"9",r:"2"}),i("circle",{cx:"39",cy:"12",r:"2"}),i("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),i("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[i("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),i("path",{d:"M 12.5,31.5 L 32.5,31.5"}),i("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),i("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:i("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[i("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),i("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),i("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),i("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),i("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),i("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Mn(r,e,t){const n=e/8,s=r==="white"?al:cl,o=r==="white"?ll:ul,a=s[t[0]]*n+n/2,c=o[parseInt(t[1],10)-1]*n+n/2;return{x:a,y:c}}function Qs(r){let e=!1;return Object.keys(br).forEach(t=>{r[t]!==br[t]&&(e=!0)}),Object.keys(r).forEach(t=>{br[t]!==r[t]&&(e=!0)}),e}function dl(r,e){const t={removed:{},added:{}};return Object.keys(r).forEach(n=>{e[n]!==r[n]&&(t.removed[n]=r[n])}),Object.keys(e).forEach(n=>{r[n]!==e[n]&&(t.added[n]=e[n])}),t}function Ys(r){return r==="start"?br:typeof r=="string"?hl(r):r}function hl(r){if(!fl(r))return{};r=r.replace(/ .+$/,"");const e=r.split("/"),t={};let n=8;for(let s=0;s<8;s++){const o=e[s].split("");let a=0;for(let c=0;c<o.length;c++)if(o[c].search(/[1-8]/)!==-1){const l=parseInt(o[c],10);a=a+l}else{const l=Gt[a]+n;t[l]=gl(o[c]),a=a+1}n=n-1}return t}function fl(r){r=r.replace(/ .+$/,""),r=pl(r);const e=r.split("/");if(e.length!==8)return!1;for(let t=0;t<8;t++)if(e[t].length!==8||e[t].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function pl(r){return r.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function gl(r){return r.toLowerCase()===r?"b"+r.toUpperCase():"w"+r.toUpperCase()}const ml=(r,e=!0,t,n)=>{const[s,o]=N([]),[a,c]=N([]),[l,u]=N();q(()=>{Array.isArray(r)&&(f(),o(r?.filter(g=>g[0]!==g[1])))},[r]),q(()=>{t?.(a)},[a]);function f(){c([]),u(void 0)}const d=(g,v)=>{e&&u([g,v,n])},h=[...a,...s];return{arrows:h,newArrow:l,clearArrows:f,drawNewArrow:d,setArrows:c,onArrowDrawEnd:(g,v)=>{if(g===v||!e)return;let S;const C=[g,v,n];h.every(([E,w])=>!(E===g&&w===v))?S=[...a,C]:S=a.filter(([E,w])=>!(E===g&&w===v)),u(void 0),c(S)}}},vo=Ot({}),He=()=>lt(vo),vl=Yn(({allowDragOutsideBoard:r=!0,animationDuration:e=300,areArrowsAllowed:t=!0,arePiecesDraggable:n=!0,arePremovesAllowed:s=!1,autoPromoteToQueen:o=!1,boardOrientation:a="white",boardWidth:c,children:l,clearPremovesOnRightClick:u=!0,customArrows:f,customArrowColor:d="rgb(255,170,0)",customBoardStyle:h,customNotationStyle:p,customDarkSquareStyle:g={backgroundColor:"#B58863"},customDropSquareStyle:v={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:S={backgroundColor:"#F0D9B5"},customPieces:C,customPremoveDarkSquareStyle:x={backgroundColor:"#A42323"},customPremoveLightSquareStyle:E={backgroundColor:"#BD2828"},customSquare:w="div",customSquareStyles:k,dropOffBoardAction:T="snapback",id:D=0,isDraggablePiece:I=()=>!0,getPositionObject:B=()=>{},onArrowsChange:J=()=>{},onDragOverSquare:Y=()=>{},onMouseOutSquare:V=()=>{},onMouseOverSquare:ne=()=>{},onPieceClick:ae=()=>{},onPieceDragBegin:Ce=()=>{},onPieceDragEnd:P=()=>{},onPieceDrop:K=()=>!0,onPieceDropOffBoard:re=()=>{},onPromotionCheck:ue=(me,Se,ht)=>(ht==="wP"&&me[1]==="7"&&Se[1]==="8"||ht==="bP"&&me[1]==="2"&&Se[1]==="1")&&Math.abs(me.charCodeAt(0)-Se.charCodeAt(0))<=1,onPromotionPieceSelect:be=()=>!0,onSparePieceDrop:De=()=>!0,onSquareClick:Ne=()=>{},onSquareRightClick:Oe=()=>{},position:Ze="start",promotionDialogVariant:dt="default",promotionToSquare:et=null,showBoardNotation:H=!0,showPromotionDialog:Ae=!1,snapToCursor:qe=!0},tt)=>{const[me,Se]=N(Ys(Ze)),[ht,jr]=N({removed:{},added:{}}),[ft,ze]=N(void 0),[$r,pt]=N(Ae&&!o),[Br,tr]=N(null),[Fr,Tt]=N(et),[Dt,Pt]=N([]),Me=ge(Dt),[Lt,rt]=N(),[Ur,qr]=N(Object.assign(Object.assign({},Gs),C)),[Hr,gt]=N(!1),mt=ge(),[vt,_t]=N(!1),[zr,Wr]=N(null);Gn(tt,()=>({clearPremoves(G=!0){bt(G)}})),q(()=>{qr(Object.assign(Object.assign({},Gs),C))},[C]),q(()=>{pt(Ae),Tt(et)},[et,Ae]),q(()=>{var G,O,de;It();const z=Ys(Ze),ce=dl(me,z),ke=((G=Object.keys(ce.added))===null||G===void 0?void 0:G.length)<=2?(de=(O=Object.entries(ce.added))===null||O===void 0?void 0:O[0])===null||de===void 0?void 0:de[1][0]:void 0;if(vt)Se(z),_t(!1),s&&At(ke),mt.current&&clearTimeout(mt.current);else if(Hr)Se(z),_t(!1),s&&At(ke);else{Qs(z)&&ft!==void 0?ze(ke):Qs(z)?ze(void 0):ze("b"),jr(ce),_t(!0);const xe=setTimeout(()=>{Se(z),_t(!1),s&&At(ke)},e);mt.current=xe}return gt(!1),B(z),Rt(),()=>{clearTimeout(mt.current)}},[Ze]);const{arrows:rr,newArrow:Kr,clearArrows:Rt,drawNewArrow:Vr,onArrowDrawEnd:Gr}=ml(f,t,J,d);function Qr(G,O,de,z){if(G===O)return;if(Rt(),s&&vt||s&&(ft===de[0]||Me.current.filter(ke=>ke.piece[0]===de[0]).length>0)){const ke=[...Me.current];ke.push({sourceSq:G,targetSq:O,piece:de}),Me.current=ke,Pt([...ke]),It();return}if(!s&&vt)return;const ce=Object.assign({},me);gt(!!z),ze(de[0]),K.length?K(G,O,de)||(bt(),gt(!1)):(delete ce[G],ce[O]=de,Se(ce)),It(),B(ce)}function Yr(G){const O=Object.assign({},me);delete O[G],Se(O),B(O)}function At(G){if(Me.current.length===0)return;const O=Me.current[0];if(O.piece[0]!==void 0&&O.piece[0]!==G&&K.length)if(ze(O.piece[0]),gt(!0),K(O.sourceSq,O.targetSq,O.piece)){const z=[...Me.current];z.shift(),Me.current=z,Pt([...z])}else bt()}function Xr(G,O){if(!De(G,O))return;const z=Object.assign({},me);z[O]=G,Se(z),B(z)}function bt(G=!0){G&&ze(void 0),Me.current=[],Pt([])}function It(){tr(null),Tt(null),pt(!1)}function Jr(G){rt(G)}function _(G){if(Lt){if(Lt===G){rt(void 0),u&&bt(!1),Oe(G);return}}else rt(void 0)}function We(){rt(void 0)}const Ee={allowDragOutsideBoard:r,animationDuration:e,arePiecesDraggable:n,arePremovesAllowed:s,arrows:rr,autoPromoteToQueen:o,boardOrientation:a,boardWidth:c,chessPieces:Ur,clearArrows:Rt,clearCurrentRightClickDown:We,currentPosition:me,currentRightClickDown:Lt,customArrowColor:d,customBoardStyle:h,customDarkSquareStyle:g,customDropSquareStyle:v,customLightSquareStyle:S,customNotationStyle:p,customPremoveDarkSquareStyle:x,customPremoveLightSquareStyle:E,customSquare:w,customSquareStyles:k,deletePieceFromSquare:Yr,drawNewArrow:Vr,dropOffBoardAction:T,handleSetPosition:Qr,handleSparePieceDrop:Xr,id:D,isDraggablePiece:I,isWaitingForAnimation:vt,lastPieceColour:ft,lastSquareDraggedOver:zr,newArrow:Kr,onArrowDrawEnd:Gr,onDragOverSquare:Y,onMouseOutSquare:V,onMouseOverSquare:ne,onPieceClick:ae,onPieceDragBegin:Ce,onPieceDragEnd:P,onPieceDrop:K,onPieceDropOffBoard:re,onPromotionCheck:ue,onPromotionPieceSelect:be,onRightClickDown:Jr,onRightClickUp:_,onSparePieceDrop:De,onSquareClick:Ne,positionDifferences:ht,premoves:Dt,promoteFromSquare:Br,promoteToSquare:Fr,promotionDialogVariant:dt,setLastSquareDraggedOver:Wr,setPromoteFromSquare:tr,setPromoteToSquare:Tt,setShowPromoteDialog:pt,showBoardNotation:H,showPromoteDialog:$r,snapToCursor:qe};return i(vo.Provider,Object.assign({value:Ee},{children:l}))});function _l({row:r,col:e}){const{boardOrientation:t,boardWidth:n,customDarkSquareStyle:s,customLightSquareStyle:o,customNotationStyle:a}=He(),c=o.backgroundColor,l=s.backgroundColor,u=e===0,f=r===7,d=u&&f;function h(){return t==="white"?8-r:r+1}function p(){return t==="black"?Gt[7-e]:Gt[e]}function g(){return i($,{children:[i("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:c}),Js(n,a))},{children:h()})),i("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:c}),Xs(n,a))},{children:p()}))]})}function v(){return i("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?l:c}),Xs(n,a))},{children:p()}))}function S(){return i("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},t==="black"?{color:r%2===0?l:c}:{color:r%2===0?l:c}),Js(n,a))},{children:h()}))}return d?g():f?v():u?S():null}const Xs=(r,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:r/8-r/48,fontSize:r/48},e),Js=(r,e)=>Object.assign({alignSelf:"flex-start",paddingRight:r/8-r/48,fontSize:r/48},e),_o=Ot({dragDropManager:void 0});function Pe(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Zs=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),ei=function(){return Math.random().toString(36).substring(7).split("").join(".")},ti={INIT:"@@redux/INIT"+ei(),REPLACE:"@@redux/REPLACE"+ei()};function bl(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function bo(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Pe(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Pe(1));return t(bo)(r,e)}if(typeof r!="function")throw new Error(Pe(2));var s=r,o=e,a=[],c=a,l=!1;function u(){c===a&&(c=a.slice())}function f(){if(l)throw new Error(Pe(3));return o}function d(v){if(typeof v!="function")throw new Error(Pe(4));if(l)throw new Error(Pe(5));var S=!0;return u(),c.push(v),function(){if(S){if(l)throw new Error(Pe(6));S=!1,u();var x=c.indexOf(v);c.splice(x,1),a=null}}}function h(v){if(!bl(v))throw new Error(Pe(7));if(typeof v.type>"u")throw new Error(Pe(8));if(l)throw new Error(Pe(9));try{l=!0,o=s(o,v)}finally{l=!1}for(var S=a=c,C=0;C<S.length;C++){var x=S[C];x()}return v}function p(v){if(typeof v!="function")throw new Error(Pe(10));s=v,h({type:ti.REPLACE})}function g(){var v,S=d;return v={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Pe(11));function E(){x.next&&x.next(f())}E();var w=S(E);return{unsubscribe:w}}},v[Zs]=function(){return this},v}return h({type:ti.INIT}),n={dispatch:h,subscribe:d,getState:f,replaceReducer:p},n[Zs]=g,n}function U(r,e,...t){if(yl()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return t[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function yl(){return typeof process<"u"&&!0}function wl(r,e,t){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:t||null,r)}function Cl(r,e){return r.filter(t=>t!==e)}function yo(r){return typeof r=="object"}function Sl(r,e){const t=new Map,n=o=>{t.set(o,t.has(o)?t.get(o)+1:1)};r.forEach(n),e.forEach(n);const s=[];return t.forEach((o,a)=>{o===1&&s.push(a)}),s}function xl(r,e){return r.filter(t=>e.indexOf(t)>-1)}const ns="dnd-core/INIT_COORDS",Pr="dnd-core/BEGIN_DRAG",ss="dnd-core/PUBLISH_DRAG_SOURCE",Lr="dnd-core/HOVER",Rr="dnd-core/DROP",Ar="dnd-core/END_DRAG";function ri(r,e){return{type:ns,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const Nl={type:ns,payload:{clientOffset:null,sourceClientOffset:null}};function Ol(r){return function(t=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:a}=n,c=r.getMonitor(),l=r.getRegistry();r.dispatch(ri(o)),El(t,c,l);const u=Dl(t,c);if(u==null){r.dispatch(Nl);return}let f=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");kl(a),f=a(u)}r.dispatch(ri(o,f));const h=l.getSource(u).beginDrag(c,u);if(h==null)return;Tl(h),l.pinSource(u);const p=l.getSourceType(u);return{type:Pr,payload:{itemType:p,item:h,sourceId:u,clientOffset:o||null,sourceClientOffset:f||null,isSourcePublic:!!s}}}}function El(r,e,t){U(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){U(t.getSource(n),"Expected sourceIds to be registered.")})}function kl(r){U(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Tl(r){U(yo(r),"Item must be an object.")}function Dl(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function Pl(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ll(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){Pl(r,s,t[s])})}return r}function Rl(r){return function(t={}){const n=r.getMonitor(),s=r.getRegistry();Al(n),jl(n).forEach((a,c)=>{const l=Il(a,c,s,n),u={type:Rr,payload:{dropResult:Ll({},t,l)}};r.dispatch(u)})}}function Al(r){U(r.isDragging(),"Cannot call drop while not dragging."),U(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function Il(r,e,t,n){const s=t.getTarget(r);let o=s?s.drop(n,r):void 0;return Ml(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Ml(r){U(typeof r>"u"||yo(r),"Drop result must either be an object or undefined.")}function jl(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function $l(r){return function(){const t=r.getMonitor(),n=r.getRegistry();Bl(t);const s=t.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(t,s),n.unpinSource()),{type:Ar}}}function Bl(r){U(r.isDragging(),"Cannot call endDrag while not dragging.")}function jn(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function Fl(r){return function(t,{clientOffset:n}={}){Ul(t);const s=t.slice(0),o=r.getMonitor(),a=r.getRegistry(),c=o.getItemType();return Hl(s,a,c),ql(s,o,a),zl(s,o,a),{type:Lr,payload:{targetIds:s,clientOffset:n||null}}}}function Ul(r){U(Array.isArray(r),"Expected targetIds to be an array.")}function ql(r,e,t){U(e.isDragging(),"Cannot call hover while not dragging."),U(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const s=r[n];U(r.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const o=t.getTarget(s);U(o,"Expected targetIds to be registered.")}}function Hl(r,e,t){for(let n=r.length-1;n>=0;n--){const s=r[n],o=e.getTargetType(s);jn(o,t)||r.splice(n,1)}}function zl(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function Wl(r){return function(){if(r.getMonitor().isDragging())return{type:ss}}}function Kl(r){return{beginDrag:Ol(r),publishDragSource:Wl(r),hover:Fl(r),drop:Rl(r),endDrag:$l(r)}}class Vl{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(o){return(...a)=>{const c=o.apply(e,a);typeof c<"u"&&t(c)}}const s=Kl(this);return Object.keys(s).reduce((o,a)=>{const c=s[a];return o[a]=n(c),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function Gl(r,e){return{x:r.x+e.x,y:r.y+e.y}}function wo(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Ql(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:wo(Gl(e,n),t)}function Yl(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:wo(e,t)}const Wt=[],is=[];Wt.__IS_NONE__=!0;is.__IS_ALL__=!0;function Xl(r,e){return r===Wt?!1:r===is||typeof e>"u"?!0:xl(e,r).length>0}class Jl{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;U(typeof e=="function","listener must be a function."),U(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const a=this.store.getState(),c=a.stateId;try{c===s||c===s+1&&!Xl(a.dirtyHandlerIds,n)||e()}finally{s=c}};return this.store.subscribe(o)}subscribeToOffsetChange(e){U(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==t&&(t=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return U(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(U(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return jn(n,s)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(U(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),o=this.getItemType();if(o&&!jn(s,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const c=a.indexOf(e);return n?c===a.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ql(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Yl(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const ni=typeof global<"u"?global:self,Co=ni.MutationObserver||ni.WebKitMutationObserver;function So(r){return function(){const t=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(t),clearInterval(n),r()}}}function Zl(r){let e=1;const t=new Co(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const eu=typeof Co=="function"?Zl:So;class tu{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=eu(this.flush),this.requestErrorThrow=So(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class ru{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class nu{create(e){const t=this.freeTasks,n=t.length?t.pop():new ru(this.onError,s=>t[t.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const xo=new tu,su=new nu(xo.registerPendingError);function iu(r){xo.enqueueTask(su.create(r))}const os="dnd-core/ADD_SOURCE",as="dnd-core/ADD_TARGET",cs="dnd-core/REMOVE_SOURCE",Ir="dnd-core/REMOVE_TARGET";function ou(r){return{type:os,payload:{sourceId:r}}}function au(r){return{type:as,payload:{targetId:r}}}function cu(r){return{type:cs,payload:{sourceId:r}}}function lu(r){return{type:Ir,payload:{targetId:r}}}function uu(r){U(typeof r.canDrag=="function","Expected canDrag to be a function."),U(typeof r.beginDrag=="function","Expected beginDrag to be a function."),U(typeof r.endDrag=="function","Expected endDrag to be a function.")}function du(r){U(typeof r.canDrop=="function","Expected canDrop to be a function."),U(typeof r.hover=="function","Expected hover to be a function."),U(typeof r.drop=="function","Expected beginDrag to be a function.")}function $n(r,e){if(e&&Array.isArray(r)){r.forEach(t=>$n(t,!1));return}U(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Re;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(Re||(Re={}));let hu=0;function fu(){return hu++}function pu(r){const e=fu().toString();switch(r){case Re.SOURCE:return`S${e}`;case Re.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function si(r){switch(r[0]){case"S":return Re.SOURCE;case"T":return Re.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function ii(r,e){const t=r.entries();let n=!1;do{const{done:s,value:[,o]}=t.next();if(o===e)return!0;n=!!s}while(!n);return!1}class gu{addSource(e,t){$n(e),uu(t);const n=this.addHandler(Re.SOURCE,e,t);return this.store.dispatch(ou(n)),n}addTarget(e,t){$n(e,!0),du(t);const n=this.addHandler(Re.TARGET,e,t);return this.store.dispatch(au(n)),n}containsHandler(e){return ii(this.dragSources,e)||ii(this.dropTargets,e)}getSource(e,t=!1){return U(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return U(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return U(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return U(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return si(e)===Re.SOURCE}isTargetId(e){return si(e)===Re.TARGET}removeSource(e){U(this.getSource(e),"Expected an existing source."),this.store.dispatch(cu(e)),iu(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){U(this.getTarget(e),"Expected an existing target."),this.store.dispatch(lu(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);U(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){U(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const s=pu(e);return this.types.set(s,t),e===Re.SOURCE?this.dragSources.set(s,n):e===Re.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const mu=(r,e)=>r===e;function vu(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function _u(r,e,t=mu){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function bu(r=Wt,e){switch(e.type){case Lr:break;case os:case as:case Ir:case cs:return Wt;case Pr:case ss:case Ar:case Rr:default:return is}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,s=Sl(t,n);if(!(s.length>0||!_u(t,n)))return Wt;const a=n[n.length-1],c=t[t.length-1];return a!==c&&(a&&s.push(a),c&&s.push(c)),s}function yu(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){yu(r,s,t[s])})}return r}const oi={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Cu(r=oi,e){const{payload:t}=e;switch(e.type){case ns:case Pr:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case Lr:return vu(r.clientOffset,t.clientOffset)?r:wu({},r,{clientOffset:t.clientOffset});case Ar:case Rr:return oi;default:return r}}function Su(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){Su(r,s,t[s])})}return r}const xu={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Nu(r=xu,e){const{payload:t}=e;switch(e.type){case Pr:return yt({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case ss:return yt({},r,{isSourcePublic:!0});case Lr:return yt({},r,{targetIds:t.targetIds});case Ir:return r.targetIds.indexOf(t.targetId)===-1?r:yt({},r,{targetIds:Cl(r.targetIds,t.targetId)});case Rr:return yt({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Ar:return yt({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function Ou(r=0,e){switch(e.type){case os:case as:return r+1;case cs:case Ir:return r-1;default:return r}}function Eu(r=0){return r+1}function ku(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Tu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){ku(r,s,t[s])})}return r}function Du(r={},e){return{dirtyHandlerIds:bu(r.dirtyHandlerIds,{type:e.type,payload:Tu({},e.payload,{prevTargetIds:wl(r,"dragOperation.targetIds",[])})}),dragOffset:Cu(r.dragOffset,e),refCount:Ou(r.refCount,e),dragOperation:Nu(r.dragOperation,e),stateId:Eu(r.stateId)}}function Pu(r,e=void 0,t={},n=!1){const s=Lu(n),o=new Jl(s,new gu(s)),a=new Vl(s,o),c=r(a,e,t);return a.receiveBackend(c),a}function Lu(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return bo(Du,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Ru(r,e){if(r==null)return{};var t=Au(r,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Au(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}let ai=0;const yr=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Iu=Wi(function(e){var{children:t}=e,n=Ru(e,["children"]);const[s,o]=Mu(n);return q(()=>{if(o){const a=No();return++ai,()=>{--ai===0&&(a[yr]=null)}}},[]),i(_o.Provider,{value:s,children:t})});function Mu(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=ju(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function ju(r,e=No(),t,n){const s=e;return s[yr]||(s[yr]={dragDropManager:Pu(r,e,t,n)}),s[yr]}function No(){return typeof global<"u"?global:window}var $u=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!r(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){var a=o[s];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t};const ct=typeof window<"u"?Je:q;function Oo(r,e,t){const[n,s]=N(()=>e(r)),o=Er(()=>{const a=e(r);$u(n,a)||(s(a),t&&t())},[n,r,t]);return ct(o),[n,o]}function Bu(r,e,t){const[n,s]=Oo(r,e,t);return ct(function(){const a=r.getHandlerId();if(a!=null)return r.subscribeToStateChange(s,{handlerIds:[a]})},[r,s]),n}function Eo(r,e,t){return Bu(e,r||(()=>({})),()=>t.reconnect())}function ko(r,e){const t=[...e||[]];return e==null&&typeof r!="function"&&t.push(r),oe(()=>typeof r=="function"?r():r,t)}function Fu(r){return oe(()=>r.hooks.dragSource(),[r])}function Uu(r){return oe(()=>r.hooks.dragPreview(),[r])}let an=!1,cn=!1;class qu{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){U(!an,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return an=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{an=!1}}isDragging(){if(!this.sourceId)return!1;U(!cn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{cn=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let ln=!1;class Hu{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;U(!ln,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ln=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ln=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function zu(r,e,t){const n=t.getRegistry(),s=n.addTarget(r,e);return[s,()=>n.removeTarget(s)]}function Wu(r,e,t){const n=t.getRegistry(),s=n.addSource(r,e);return[s,()=>n.removeSource(s)]}function Bn(r,e,t,n){let s;if(s!==void 0)return!!s;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const o=Object.keys(r),a=Object.keys(e);if(o.length!==a.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const u=o[l];if(!c(u))return!1;const f=r[u],d=e[u];if(s=void 0,s===!1||s===void 0&&f!==d)return!1}return!0}function Fn(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Ku(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Vu(r){return(e=null,t=null)=>{if(!er(e)){const o=e;return r(o,t),o}const n=e;return Ku(n),Gu(n,t?o=>r(o,t):r)}}function To(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const s=Vu(n);e[t]=()=>s}}),e}function ci(r,e){typeof r=="function"?r(e):r.current=e}function Gu(r,e){const t=r.ref;return U(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?kn(r,{ref:n=>{ci(t,n),ci(e,n)}}):kn(r,{ref:e})}class Qu{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Bn(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Bn(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=To({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Fn(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Fn(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Yu{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Bn(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=To({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Fn(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ut(){const{dragDropManager:r}=lt(_o);return U(r!=null,"Expected drag drop context"),r}function Xu(r,e){const t=ut(),n=oe(()=>new Qu(t.getBackend()),[t]);return ct(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),ct(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Ju(){const r=ut();return oe(()=>new qu(r),[r])}class Zu{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,s=this.monitor,{isDragging:o}=n;return o?o(s):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:s}=e;s&&s(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function ed(r,e,t){const n=oe(()=>new Zu(r,e,t),[e,t]);return q(()=>{n.spec=r},[r]),n}function td(r){return oe(()=>{const e=r.type;return U(e!=null,"spec.type must be defined"),e},[r])}function rd(r,e,t){const n=ut(),s=ed(r,e,t),o=td(r);ct(function(){if(o!=null){const[c,l]=Wu(o,s,n);return e.receiveHandlerId(c),t.receiveHandlerId(c),l}},[n,e,t,s,o])}function nd(r,e){const t=ko(r,e);U(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Ju(),s=Xu(t.options,t.previewOptions);return rd(t,n,s),[Eo(t.collect,n,s),Fu(s),Uu(s)]}function sd(r){const t=ut().getMonitor(),[n,s]=Oo(t,r);return q(()=>t.subscribeToOffsetChange(s)),q(()=>t.subscribeToStateChange(s)),n}function id(r){return oe(()=>r.hooks.dropTarget(),[r])}function od(r){const e=ut(),t=oe(()=>new Yu(e.getBackend()),[e]);return ct(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function ad(){const r=ut();return oe(()=>new Hu(r),[r])}function cd(r){const{accept:e}=r;return oe(()=>(U(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class ld{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function ud(r,e){const t=oe(()=>new ld(r,e),[e]);return q(()=>{t.spec=r},[r]),t}function dd(r,e,t){const n=ut(),s=ud(r,e),o=cd(r);ct(function(){const[c,l]=zu(o,s,n);return e.receiveHandlerId(c),t.receiveHandlerId(c),l},[n,e,s,t,o.map(a=>a.toString()).join("|")])}function hd(r,e){const t=ko(r,e),n=ad(),s=od(t.options);return dd(t,n,s),[Eo(t.collect,n,s),id(s)]}function Do(r){let e=null;return()=>(e==null&&(e=r()),e)}function fd(r,e){return r.filter(t=>t!==e)}function pd(r,e){const t=new Set,n=o=>t.add(o);r.forEach(n),e.forEach(n);const s=[];return t.forEach(o=>s.push(o)),s}class gd{enter(e){const t=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=pd(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=fd(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class md{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(t[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Po="__NATIVE_FILE__",Lo="__NATIVE_URL__",Ro="__NATIVE_TEXT__",Ao="__NATIVE_HTML__";var li=Object.freeze({__proto__:null,FILE:Po,HTML:Ao,TEXT:Ro,URL:Lo});function un(r,e,t){const n=e.reduce((s,o)=>s||r.getData(o),"");return n??t}const Un={[Po]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[Ao]:{exposeProperties:{html:(r,e)=>un(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[Lo]:{exposeProperties:{urls:(r,e)=>un(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[Ro]:{exposeProperties:{text:(r,e)=>un(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function vd(r,e){const t=Un[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new md(t);return n.loadDataTransfer(e),n}function dn(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(Un).filter(t=>{const n=Un[t];return n?.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const _d=Do(()=>/firefox/i.test(navigator.userAgent)),Io=Do(()=>!!window.safari);class ui{interpolate(e){const{xs:t,ys:n,c1s:s,c2s:o,c3s:a}=this;let c=t.length-1;if(e===t[c])return n[c];let l=0,u=a.length-1,f;for(;l<=u;){f=Math.floor(.5*(l+u));const p=t[f];if(p<e)l=f+1;else if(p>e)u=f-1;else return n[f]}c=Math.max(0,u);const d=e-t[c],h=d*d;return n[c]+s[c]*d+o[c]*h+a[c]*d*h}constructor(e,t){const{length:n}=e,s=[];for(let p=0;p<n;p++)s.push(p);s.sort((p,g)=>e[p]<e[g]?-1:1);const o=[],a=[];let c,l;for(let p=0;p<n-1;p++)c=e[p+1]-e[p],l=t[p+1]-t[p],o.push(c),a.push(l/c);const u=[a[0]];for(let p=0;p<o.length-1;p++){const g=a[p],v=a[p+1];if(g*v<=0)u.push(0);else{c=o[p];const S=o[p+1],C=c+S;u.push(3*C/((C+S)/g+(C+c)/v))}}u.push(a[a.length-1]);const f=[],d=[];let h;for(let p=0;p<u.length-1;p++){h=a[p];const g=u[p],v=1/o[p],S=g+u[p+1]-h-h;f.push((h-g-S)*v),d.push(S*v*v)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=f,this.c3s=d}}const bd=1;function Mo(r){const e=r.nodeType===bd?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function lr(r){return{x:r.clientX,y:r.clientY}}function yd(r){var e;return r.nodeName==="IMG"&&(_d()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function wd(r,e,t,n){let s=r?e.width:t,o=r?e.height:n;return Io()&&r&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function Cd(r,e,t,n,s){const o=yd(e),c=Mo(o?r:e),l={x:t.x-c.x,y:t.y-c.y},{offsetWidth:u,offsetHeight:f}=r,{anchorX:d,anchorY:h}=n,{dragPreviewWidth:p,dragPreviewHeight:g}=wd(o,e,u,f),v=()=>{let T=new ui([0,.5,1],[l.y,l.y/f*g,l.y+g-f]).interpolate(h);return Io()&&o&&(T+=(window.devicePixelRatio-1)*g),T},S=()=>new ui([0,.5,1],[l.x,l.x/u*p,l.x+p-u]).interpolate(d),{offsetX:C,offsetY:x}=s,E=C===0||C,w=x===0||x;return{x:E?C:S(),y:w?x:v()}}let Sd=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}};function xd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function di(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){xd(r,s,t[s])})}return r}class Nd{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const s=a=>this.handleDragStart(a,e),o=a=>this.handleSelectStart(a);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=a=>this.handleDragEnter(a,e),s=a=>this.handleDragOver(a,e),o=a=>this.handleDrop(a,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",s),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",s),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return di({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return di({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(li).some(t=>li[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=vd(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&Mo(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const a=lr(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:c}=s,l=dn(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const f=this.monitor.getSourceId(),d=this.sourceNodes.get(f),h=this.sourcePreviewNodes.get(f)||d;if(h){const{anchorX:p,anchorY:g,offsetX:v,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),E=Cd(d,h,a,{anchorX:p,anchorY:g},{offsetX:v,offsetY:S});c.setDragImage(h,E.x,E.y)}}try{c?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(c&&!c.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:c}=s,l=dn(c);l&&this.beginDragNativeItem(l,c)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:lr(s)}),o.some(c=>this.monitor.canDropOnTarget(c))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=lr(s),this.scheduleHover(o),(o||[]).some(c=>this.monitor.canDropOnTarget(c))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else dn(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:lr(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new Sd(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new gd(this.isNodeInDocument)}}let ur;function Od(){return ur||(ur=new Image,ur.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ur}const Ed=function(e,t,n){return new Nd(e,t,n)};function hi({isPremovedPiece:r=!1,piece:e,square:t,squares:n}){const{animationDuration:s,arePiecesDraggable:o,boardWidth:a,boardOrientation:c,chessPieces:l,currentPosition:u,deletePieceFromSquare:f,dropOffBoardAction:d,id:h,isDraggablePiece:p,isWaitingForAnimation:g,onPieceClick:v,onPieceDragBegin:S,onPieceDragEnd:C,onPieceDropOffBoard:x,onPromotionCheck:E,positionDifferences:w}=He(),[k,T]=N({opacity:1,zIndex:5,touchAction:"none",cursor:o&&p({piece:e,sourceSquare:t})?"-webkit-grab":"default"}),[{canDrag:D,isDragging:I},B,J]=nd(()=>({type:"piece",item:()=>(S(e,t),{piece:e,square:t,id:h}),end:(V,ne)=>{C(e,t),!ne.didDrop()&&(d==="trash"&&f(t),x?.(t,e))},collect:V=>({canDrag:p({piece:e,sourceSquare:t}),isDragging:!!V.isDragging()})}),[e,t,u,h]);J(Od(),{captureDraggingState:!0}),q(()=>{T(V=>Object.assign(Object.assign({},V),{opacity:I?0:1}))},[I]),q(()=>{var V;const ne=(V=w.removed)===null||V===void 0?void 0:V[t];if(!w.added||!ne)return;const ae=Object.entries(w.added).find(([Ce,P])=>P===ne||E(t,Ce,ne));if(g&&ne&&ae&&!r){const Ce=t,P=ae[0];if(Ce&&P){const K=a/8;T(re=>Object.assign(Object.assign({},re),{transform:`translate(${(c==="black"?-1:1)*(P.charCodeAt(0)-Ce.charCodeAt(0))*K}px, ${(c==="black"?-1:1)*(Number(Ce[1])-Number(P[1]))*K}px)`,transition:`transform ${s}ms`,zIndex:6}))}}},[w]),q(()=>{const{sourceSq:V}=Y();V&&T(ne=>Object.assign(Object.assign({},ne),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),q(()=>{T(V=>Object.assign(Object.assign({},V),{cursor:o&&p({piece:e,sourceSquare:t})?"-webkit-grab":"default"}))},[t,u,o]);function Y(){return{sourceSq:n[t]}}return i("div",Object.assign({ref:o&&D?B:null,onClick:()=>v(e,t),"data-piece":e,style:k},{children:typeof l[e]=="function"?l[e]({squareWidth:a/8,isDragging:I,square:t}):i("svg",Object.assign({viewBox:"1 1 43 43",width:a/8,height:a/8,style:{display:"block"}},{children:i("g",{children:l[e]})}))}))}function kd({square:r,squareColor:e,setSquares:t,squareHasPremove:n,children:s}){const o=ge(null),{autoPromoteToQueen:a,boardWidth:c,boardOrientation:l,clearArrows:u,currentPosition:f,currentRightClickDown:d,customBoardStyle:h,customDarkSquareStyle:p,customDropSquareStyle:g,customLightSquareStyle:v,customPremoveDarkSquareStyle:S,customPremoveLightSquareStyle:C,customSquare:x,customSquareStyles:E,drawNewArrow:w,handleSetPosition:k,handleSparePieceDrop:T,isWaitingForAnimation:D,lastPieceColour:I,lastSquareDraggedOver:B,onArrowDrawEnd:J,onDragOverSquare:Y,onMouseOutSquare:V,onMouseOverSquare:ne,onPieceDrop:ae,onPromotionCheck:Ce,onRightClickDown:P,onRightClickUp:K,onSquareClick:re,setLastSquareDraggedOver:ue,setPromoteFromSquare:be,setPromoteToSquare:De,setShowPromoteDialog:Ne}=He(),[{isOver:Oe},Ze]=hd(()=>({accept:"piece",drop:dt,collect:H=>({isOver:!!H.isOver()})}),[r,f,ae,D,I]);function dt(H){if(H.isSpare){T(H.piece,r);return}Ce(H.square,r,H.piece)?a?k(H.square,r,H.piece[0]==="w"?"wQ":"bQ"):(be(H.square),De(r),Ne(!0)):k(H.square,r,H.piece,!0)}q(()=>{if(o.current){const{x:H,y:Ae}=o.current.getBoundingClientRect();t(qe=>Object.assign(Object.assign({},qe),{[r]:{x:H,y:Ae}}))}},[c,l]);const et=Object.assign(Object.assign(Object.assign(Object.assign({},Td(r,l,h)),e==="black"?p:v),n&&(e==="black"?S:C)),Oe&&g);return i("div",Object.assign({ref:Ze,style:et,"data-square-color":e,"data-square":r,onTouchMove:H=>{var Ae;const qe=H.touches[0],tt=document.elementsFromPoint(qe.clientX,qe.clientY),me=(Ae=tt?.find(Se=>Se.getAttribute("data-square")))===null||Ae===void 0?void 0:Ae.getAttribute("data-square");me&&me!==B&&(ue(me),Y(me))},onMouseOver:H=>{H.buttons===2&&d&&w(d,r),!(H.relatedTarget&&H.currentTarget.contains(H.relatedTarget))&&ne(r)},onMouseOut:H=>{H.relatedTarget&&H.currentTarget.contains(H.relatedTarget)||V(r)},onMouseDown:H=>{H.button===2&&P(r)},onMouseUp:H=>{H.button===2&&(d&&J(d,r),K(r))},onDragEnter:()=>Y(r),onClick:()=>{const H=f[r];re(r,H),u()},onContextMenu:H=>{H.preventDefault()}},{children:typeof x=="string"?i(x,Object.assign({ref:o,style:Object.assign(Object.assign(Object.assign({},pi(c)),fi),!n&&E?.[r])},{children:s})):i(x,Object.assign({ref:o,square:r,squareColor:e,style:Object.assign(Object.assign(Object.assign({},pi(c)),fi),!n&&E?.[r])},{children:s}))}))}const fi={display:"flex",justifyContent:"center"},pi=r=>({width:r/8,height:r/8}),Td=(r,e,t)=>t?.borderRadius?r==="a1"?e==="white"?{borderBottomLeftRadius:t.borderRadius}:{borderTopRightRadius:t.borderRadius}:r==="a8"?e==="white"?{borderTopLeftRadius:t.borderRadius}:{borderBottomRightRadius:t.borderRadius}:r==="h1"?e==="white"?{borderBottomRightRadius:t.borderRadius}:{borderTopLeftRadius:t.borderRadius}:r==="h8"?e==="white"?{borderTopRightRadius:t.borderRadius}:{borderBottomLeftRadius:t.borderRadius}:{}:{};function Dd(){const[r,e]=N({}),{arePremovesAllowed:t,boardOrientation:n,boardWidth:s,currentPosition:o,id:a,premoves:c,showBoardNotation:l}=He(),u=oe(()=>{const f=[];return t?(c.forEach((d,h)=>{const{sourceSq:p,targetSq:g,piece:v}=d,S=f.find(C=>{var x;return C.piece===v&&((x=C.premovesRoute.at(-1))===null||x===void 0?void 0:x.targetSq)===p});S?S.premovesRoute.push({sourceSq:p,targetSq:g,index:h}):f.push({piece:v,premovesRoute:[{sourceSq:p,targetSq:g,index:h}]})}),f):[]},[c]);return i("div",Object.assign({"data-boardid":a},{children:[...Array(8)].map((f,d)=>i("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map((h,p)=>{const g=n==="black"?Gt[7-p]+(d+1):Gt[p]+(8-d),v=p%2===d%2?"white":"black",S=c.find(x=>x.sourceSq===g||x.targetSq===g),C=u.filter(({premovesRoute:x})=>{var E;return((E=x.at(-1))===null||E===void 0?void 0:E.targetSq)===g}).sort((x,E)=>{var w,k;return((w=E.premovesRoute.at(-1))===null||w===void 0?void 0:w.index)-((k=x.premovesRoute.at(-1))===null||k===void 0?void 0:k.index)}).at(0);return i(kd,Object.assign({square:g,squareColor:v,setSquares:e,squareHasPremove:!!S},{children:[!S&&o[g]&&i(hi,{piece:o[g],square:g,squares:r}),C&&i(hi,{isPremovedPiece:!0,piece:C.piece,square:g,squares:r}),l&&i(_l,{row:d,col:p})]}),`${p}${d}`)})}),d.toString()))}))}const Pd=()=>{const{arrows:r,newArrow:e,boardOrientation:t,boardWidth:n,customArrowColor:s}=He(),o=[...r,e].filter(Boolean);return i("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:o.map((a,c)=>{const[l,u,f]=a;if(l===u)return null;const d=Mn(t,n,l),h=Mn(t,n,u);let p=n/32;const g=c===r.length;r.some(E=>E[0]!==l&&E[1]===u)&&!g&&(p=n/16);const v=h.x-d.x,S=h.y-d.y,C=Math.hypot(S,v),x={x:d.x+v*(C-p)/C,y:d.y+S*(C-p)/C};return i($,{children:[i("marker",Object.assign({id:`arrowhead-${c}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:i("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:f??s})})),i("line",{x1:d.x,y1:d.y,x2:x.x,y2:x.y,opacity:g?"0.5":"0.65",stroke:f??s,strokeWidth:g?.9*n/40:n/40,markerEnd:`url(#arrowhead-${c})`})]},`${l}-${u}${g?"-active":""}`)})}))};function Ld({option:r}){const[e,t]=N(!1),{boardWidth:n,chessPieces:s,customDarkSquareStyle:o,customLightSquareStyle:a,handleSetPosition:c,onPromotionPieceSelect:l,promoteFromSquare:u,promoteToSquare:f,promotionDialogVariant:d}=He(),h=()=>{switch(r[1]){case"Q":return o.backgroundColor;case"R":return a.backgroundColor;case"N":return d==="default"?a.backgroundColor:o.backgroundColor;case"B":return d==="default"?o.backgroundColor:a.backgroundColor}};return i("div",Object.assign({onClick:()=>{l(r,u??void 0,f??void 0)&&c(u,f,r,!0)},onMouseOver:()=>t(!0),onMouseOut:()=>t(!1),"data-piece":r,style:{cursor:"pointer",backgroundColor:e?h():`${h()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof s[r]=="function"?i("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:s[r]({squareWidth:n/8,isDragging:!1})})):i("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:i("g",{children:s[r]})}))}))}function Rd(){const{boardOrientation:r,boardWidth:e,promotionDialogVariant:t,promoteToSquare:n}=He(),s=n?.[1]==="1"?"b":"w",o=[`${s??"w"}Q`,`${s??"w"}R`,`${s??"w"}N`,`${s??"w"}B`],a={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},c=Mn(r,e,n||"a8");return i("div",Object.assign({style:Object.assign({position:"absolute",top:`${c?.y}px`,left:`${c?.x}px`,zIndex:1e3},a[t]),title:"Choose promotion piece"},{children:o.map(l=>i(Ld,{option:l},l))}))}const Ad={whiteKing:i("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:i("g",{children:i("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function Id({children:r}){try{return i($,{children:r})}catch(e){return console.log(e),i(jo,{showError:!0})}}function jo({showError:r=!1}){return i("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[i("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Ad.whiteKing})),r&&i("h1",{children:"Something went wrong"})]}))}function Md(){const r=ge(null),{boardWidth:e,clearCurrentRightClickDown:t,onPromotionPieceSelect:n,setShowPromoteDialog:s,showPromoteDialog:o,customBoardStyle:a}=He();return q(()=>{function c(l){r.current&&!r.current.contains(l.target)&&t()}return document.addEventListener("mouseup",c),()=>{document.removeEventListener("mouseup",c)}},[]),e?i("div",Object.assign({style:{perspective:"1000px"}},{children:i("div",Object.assign({ref:r,style:Object.assign(Object.assign({position:"relative"},jd(e)),a)},{children:[i(Dd,{}),i(Pd,{}),o&&i($,{children:[i("div",{onClick:()=>{s(!1),n?.()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),i(Rd,{})]})]}))})):i(jo,{})}const jd=r=>({cursor:"default",height:r,width:r});var Ye;(function(r){r.mouse="mouse",r.touch="touch",r.keyboard="keyboard"})(Ye||(Ye={}));class $d{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&n!==void 0?n:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var e,t,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&n!==void 0?n:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}function Bd(r,e,t,n){return Math.sqrt(Math.pow(Math.abs(t-r),2)+Math.pow(Math.abs(n-e),2))}function Fd(r,e,t,n,s){if(!s)return!1;const o=Math.atan2(n-e,t-r)*180/Math.PI+180;for(let a=0;a<s.length;++a){const c=s[a];if(c&&(c.start==null||o>=c.start)&&(c.end==null||o<=c.end))return!0}return!1}const Ud={Left:1},qd={Left:0};function hn(r){return r.button===void 0||r.button===qd.Left}function Hd(r){return r.buttons===void 0||(r.buttons&Ud.Left)===0}function $o(r){return!!r.targetTouches}const zd=1;function Wd(r){const e=r.nodeType===zd?r:r.parentElement;if(!e)return;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function Kd(r,e){if(r.targetTouches.length===1)return Or(r.targetTouches[0]);if(e&&r.touches.length===1&&r.touches[0].target===e.target)return Or(r.touches[0])}function Or(r,e){return $o(r)?Kd(r,e):{x:r.clientX,y:r.clientY}}const gi=(()=>{let r=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return r=!0,!0}}))}catch{}return r})(),jt={[Ye.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Ye.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Ye.keyboard]:{keydown:"keydown"}};class Kt{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(U(!Kt.isSetUp,"Cannot have two Touch backends at the same time."),Kt.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Kt.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,n,s=!1){const o=gi?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(a){const c=jt[a][t];c&&e.addEventListener(c,n,o)})}removeEventListener(e,t,n,s=!1){const o=gi?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(a){const c=jt[a][t];c&&e.removeEventListener(c,n,o)})}connectDragSource(e,t){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",n)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const s=o=>{if(!this.document||!n||!this.monitor.isDragging())return;let a;switch(o.type){case jt.mouse.move:a={x:o.clientX,y:o.clientY};break;case jt.touch.move:var c,l;a={x:((c=o.touches[0])===null||c===void 0?void 0:c.clientX)||0,y:((l=o.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const u=a!=null?this.document.elementFromPoint(a.x,a.y):void 0,f=u&&t.contains(u);if(u===t||f)return this.handleMove(o,e)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,n){this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&Wd(o)},this.handleTopMoveStartCapture=s=>{hn(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!hn(s))return;const o=Or(s);o&&($o(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=o),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!hn(s))return;const o=s.type===jt.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),o),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,o)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(o)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:o,dragOverTargetIds:a}=this,c=this.options.enableHoverOutsideTarget,l=Or(s,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&Fd(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&o&&Bd(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(o,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const f=(a||[]).map(g=>this.targetNodes.get(g)).filter(g=>!!g),d=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,f):this.document.elementsFromPoint(l.x,l.y),h=[];for(const g in d){if(!d.hasOwnProperty(g))continue;let v=d[g];for(v!=null&&h.push(v);v;)v=v.parentElement,v&&h.indexOf(v)===-1&&h.push(v)}const p=h.filter(g=>f.indexOf(g)>-1).map(g=>this._getDropTargetId(g)).filter(g=>!!g).filter((g,v,S)=>S.indexOf(g)===v);if(c)for(const g in this.targetNodes){const v=this.targetNodes.get(g);if(u&&v&&v.contains(u)&&p.indexOf(g)===-1){p.unshift(g);break}}p.reverse(),this.actions.hover(p,{clientOffset:l})},this._getDropTargetId=s=>{const o=this.targetNodes.keys();let a=o.next();for(;a.done===!1;){const c=a.value;if(s===this.targetNodes.get(c))return c;a=o.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Hd(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new $d(n,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Ye.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Ye.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Ye.keyboard)}}const Vd=function(e,t={},n={}){return new Kt(e,t,n)},Gd=Ot({isCustomDndProviderSet:!1}),Qd=({children:r})=>i($,{children:r}),Yd=({customDndBackend:r,customDndBackendOptions:e,children:t})=>{const[n,s]=N(),[o,a]=N(!1),[c,l]=N(!1),{isCustomDndProviderSet:u}=lt(Gd);q(()=>{l("ontouchstart"in window),a(!0),s(window)},[]);const f=u?Qd:Iu;return o?n?i(f,Object.assign({backend:r||(c?Vd:Ed),context:n,options:r?e:void 0},{children:t})):i($,{children:t}):null};function Xd({boardContainer:r}){const{boardWidth:e,chessPieces:t,id:n,snapToCursor:s,allowDragOutsideBoard:o}=He(),a=sd(h=>({item:h.getItem(),clientOffset:h.getClientOffset(),sourceClientOffset:h.getSourceClientOffset(),isDragging:h.isDragging()})),{isDragging:c,item:l,clientOffset:u,sourceClientOffset:f}=a,d=Er((h,p)=>{if(!h||!p)return{display:"none"};let{x:g,y:v}=s?h:p;const S=e/8/2;if(s&&(g-=S,v-=S),!o){const{left:x,top:E}=r,w=x-S,k=E-S,T=x+e-S,D=E+e-S;g=Math.max(w,Math.min(g,T)),v=Math.max(k,Math.min(v,D))}const C=`translate(${g}px, ${v}px)`;return{transform:C,WebkitTransform:C,touchAction:"none"}},[e,o,s,r]);return c&&l.id===n?i("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:i("div",Object.assign({style:d(u,f)},{children:typeof t[l.piece]=="function"?t[l.piece]({squareWidth:e/8,isDragging:!0}):i("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:i("g",{children:t[l.piece]})}))}))})):null}const Jd=Yn((r,e)=>{const{customDndBackend:t,customDndBackendOptions:n,onBoardWidthChange:s}=r,o=ol(r,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[a,c]=N(r.boardWidth),l=ge(null),u=ge(null),[f,d]=N({left:0,top:0}),h=oe(()=>{var p;return(p=l.current)===null||p===void 0?void 0:p.getBoundingClientRect()},[l.current]);return q(()=>{a&&s?.(a)},[a]),q(()=>{d({left:h?.left?h?.left:0,top:h?.top?h?.top:0})},[h]),q(()=>{var p;if(r.boardWidth===void 0&&(!((p=l.current)===null||p===void 0)&&p.offsetWidth)){const g=new ResizeObserver(()=>{var v;c((v=l.current)===null||v===void 0?void 0:v.offsetWidth)});return g.observe(l.current),()=>{g.disconnect()}}},[l.current]),i(Id,{children:i("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[i("div",{ref:l,style:{width:"100%"}}),i(Yd,Object.assign({customDndBackend:t,customDndBackendOptions:n},{children:a&&i(vl,Object.assign({boardWidth:a},o,{ref:e},{children:[i(Xd,{boardContainer:f}),i(Md,{})]}))}))]}))})});function Zd(r){return r!==null?{comment:r,variations:[]}:{variations:[]}}function eh(r,e,t,n,s){const o={move:r,variations:s};return e&&(o.suffix=e),t&&(o.nag=t),n!==null&&(o.comment=n),o}function th(...r){const[e,...t]=r;let n=e;for(const s of t)s!==null&&(n.variations=[s,...s.variations],s.variations=[],n=s);return e}function rh(r,e){if(e.marker&&e.marker.comment){let t=e.root;for(;;){const n=t.variations[0];if(!n){t.comment=e.marker.comment;break}t=n}}return{headers:r,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function nh(r,e){function t(){this.constructor=r}t.prototype=e.prototype,r.prototype=new t}function Nt(r,e,t,n){var s=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(s,Nt.prototype),s.expected=e,s.found=t,s.location=n,s.name="SyntaxError",s}nh(Nt,Error);function fn(r,e,t){return t=t||" ",r.length>e?r:(e-=r.length,t+=t.repeat(e),r+t.slice(0,e))}Nt.prototype.format=function(r){var e="Error: "+this.message;if(this.location){var t=null,n;for(n=0;n<r.length;n++)if(r[n].source===this.location.source){t=r[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+o.line+":"+o.column;if(t){var c=this.location.end,l=fn("",o.line.toString().length," "),u=t[s.line-1],f=s.line===c.line?c.column:u.length+1,d=f-s.column||1;e+=`
 --> `+a+`
`+l+` |
`+o.line+" | "+u+`
`+l+" | "+fn("",s.column-1," ")+fn("",d,"^")}else e+=`
 at `+a}return e};Nt.buildMessage=function(r,e){var t={literal:function(u){return'"'+s(u.text)+'"'},class:function(u){var f=u.parts.map(function(d){return Array.isArray(d)?o(d[0])+"-"+o(d[1]):o(d)});return"["+(u.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function n(u){return u.charCodeAt(0).toString(16).toUpperCase()}function s(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+n(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+n(f)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+n(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+n(f)})}function a(u){return t[u.type](u)}function c(u){var f=u.map(a),d,h;if(f.sort(),f.length>0){for(d=1,h=1;d<f.length;d++)f[d-1]!==f[d]&&(f[h]=f[d],h++);f.length=h}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function l(u){return u?'"'+s(u)+'"':"end of input"}return"Expected "+c(r)+" but "+l(e)+" found."};function sh(r,e){e=e!==void 0?e:{};var t={},n=e.grammarSource,s={pgn:ds},o=ds,a="[",c='"',l="]",u=".",f="O-O-O",d="O-O",h="0-0-0",p="0-0",g="$",v="{",S="}",C=";",x="(",E=")",w="1-0",k="0-1",T="1/2-1/2",D="*",I=/^[a-zA-Z]/,B=/^[^"]/,J=/^[0-9]/,Y=/^[.]/,V=/^[a-zA-Z1-8\-=]/,ne=/^[+#]/,ae=/^[!?]/,Ce=/^[^}]/,P=/^[^\r\n]/,K=/^[ \t\r\n]/,re=xe("tag pair"),ue=z("[",!1),be=z('"',!1),De=z("]",!1),Ne=xe("tag name"),Oe=ce([["a","z"],["A","Z"]],!1,!1),Ze=xe("tag value"),dt=ce(['"'],!0,!1),et=xe("move number"),H=ce([["0","9"]],!1,!1),Ae=z(".",!1),qe=ce(["."],!1,!1),tt=xe("standard algebraic notation"),me=z("O-O-O",!1),Se=z("O-O",!1),ht=z("0-0-0",!1),jr=z("0-0",!1),ft=ce([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),ze=ce(["+","#"],!1,!1),$r=xe("suffix annotation"),pt=ce(["!","?"],!1,!1),Br=xe("NAG"),tr=z("$",!1),Fr=xe("brace comment"),Tt=z("{",!1),Dt=ce(["}"],!0,!1),Pt=z("}",!1),Me=xe("rest of line comment"),Lt=z(";",!1),rt=ce(["\r",`
`],!0,!1),Ur=xe("variation"),qr=z("(",!1),Hr=z(")",!1),gt=xe("game termination marker"),mt=z("1-0",!1),vt=z("0-1",!1),_t=z("1/2-1/2",!1),zr=z("*",!1),Wr=xe("whitespace"),rr=ce([" ","	","\r",`
`],!1,!1),Kr=function(m,b){return rh(m,b)},Rt=function(m){return Object.fromEntries(m)},Vr=function(m,b){return[m,b]},Gr=function(m,b){return{root:m,marker:b}},Qr=function(m,b){return th(Zd(m),...b.flat())},Yr=function(m,b,y,R,A){return eh(m,b,y,R,A)},At=function(m){return m},Xr=function(m){return m.replace(/[\r\n]+/g," ")},bt=function(m){return m.trim()},It=function(m){return m},Jr=function(m,b){return{result:m,comment:b}},_=e.peg$currPos|0,We=[{line:1,column:1}],Ee=_,G=e.peg$maxFailExpected||[],O=e.peg$silentFails|0,de;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');o=s[e.startRule]}function z(m,b){return{type:"literal",text:m,ignoreCase:b}}function ce(m,b,y){return{type:"class",parts:m,inverted:b,ignoreCase:y}}function ke(){return{type:"end"}}function xe(m){return{type:"other",description:m}}function ls(m){var b=We[m],y;if(b)return b;if(m>=We.length)y=We.length-1;else for(y=m;!We[--y];);for(b=We[y],b={line:b.line,column:b.column};y<m;)r.charCodeAt(y)===10?(b.line++,b.column=1):b.column++,y++;return We[m]=b,b}function us(m,b,y){var R=ls(m),A=ls(b),Q={source:n,start:{offset:m,line:R.line,column:R.column},end:{offset:b,line:A.line,column:A.column}};return Q}function L(m){_<Ee||(_>Ee&&(Ee=_,G=[]),G.push(m))}function Fo(m,b,y){return new Nt(Nt.buildMessage(m,b),m,b,y)}function ds(){var m,b,y;return m=_,b=Uo(),y=zo(),m=Kr(b,y),m}function Uo(){var m,b,y;for(m=_,b=[],y=hs();y!==t;)b.push(y),y=hs();return y=ye(),m=Rt(b),m}function hs(){var m,b,y,R,A,Q,nt;return O++,m=_,ye(),r.charCodeAt(_)===91?(b=a,_++):(b=t,O===0&&L(ue)),b!==t?(ye(),y=qo(),y!==t?(ye(),r.charCodeAt(_)===34?(R=c,_++):(R=t,O===0&&L(be)),R!==t?(A=Ho(),r.charCodeAt(_)===34?(Q=c,_++):(Q=t,O===0&&L(be)),Q!==t?(ye(),r.charCodeAt(_)===93?(nt=l,_++):(nt=t,O===0&&L(De)),nt!==t?m=Vr(y,A):(_=m,m=t)):(_=m,m=t)):(_=m,m=t)):(_=m,m=t)):(_=m,m=t),O--,m===t&&O===0&&L(re),m}function qo(){var m,b,y;if(O++,m=_,b=[],y=r.charAt(_),I.test(y)?_++:(y=t,O===0&&L(Oe)),y!==t)for(;y!==t;)b.push(y),y=r.charAt(_),I.test(y)?_++:(y=t,O===0&&L(Oe));else b=t;return b!==t?m=r.substring(m,_):m=b,O--,m===t&&(b=t,O===0&&L(Ne)),m}function Ho(){var m,b,y;for(O++,m=_,b=[],y=r.charAt(_),B.test(y)?_++:(y=t,O===0&&L(dt));y!==t;)b.push(y),y=r.charAt(_),B.test(y)?_++:(y=t,O===0&&L(dt));return m=r.substring(m,_),O--,b=t,O===0&&L(Ze),m}function zo(){var m,b,y;return m=_,b=fs(),ye(),y=Yo(),y===t&&(y=null),ye(),m=Gr(b,y),m}function fs(){var m,b,y,R;for(m=_,b=Zr(),b===t&&(b=null),y=[],R=ps();R!==t;)y.push(R),R=ps();return m=Qr(b,y),m}function ps(){var m,b,y,R,A,Q,nt,nr;if(m=_,ye(),Wo(),ye(),b=Ko(),b!==t){for(y=Vo(),y===t&&(y=null),R=[],A=gs();A!==t;)R.push(A),A=gs();for(A=ye(),Q=Zr(),Q===t&&(Q=null),nt=[],nr=ms();nr!==t;)nt.push(nr),nr=ms();m=Yr(b,y,R,Q,nt)}else _=m,m=t;return m}function Wo(){var m,b,y,R,A,Q;for(O++,m=_,b=[],y=r.charAt(_),J.test(y)?_++:(y=t,O===0&&L(H));y!==t;)b.push(y),y=r.charAt(_),J.test(y)?_++:(y=t,O===0&&L(H));if(r.charCodeAt(_)===46?(y=u,_++):(y=t,O===0&&L(Ae)),y!==t){for(R=ye(),A=[],Q=r.charAt(_),Y.test(Q)?_++:(Q=t,O===0&&L(qe));Q!==t;)A.push(Q),Q=r.charAt(_),Y.test(Q)?_++:(Q=t,O===0&&L(qe));b=[b,y,R,A],m=b}else _=m,m=t;return O--,m===t&&(b=t,O===0&&L(et)),m}function Ko(){var m,b,y,R,A,Q;if(O++,m=_,b=_,r.substr(_,5)===f?(y=f,_+=5):(y=t,O===0&&L(me)),y===t&&(r.substr(_,3)===d?(y=d,_+=3):(y=t,O===0&&L(Se)),y===t&&(r.substr(_,5)===h?(y=h,_+=5):(y=t,O===0&&L(ht)),y===t&&(r.substr(_,3)===p?(y=p,_+=3):(y=t,O===0&&L(jr)),y===t))))if(y=_,R=r.charAt(_),I.test(R)?_++:(R=t,O===0&&L(Oe)),R!==t){if(A=[],Q=r.charAt(_),V.test(Q)?_++:(Q=t,O===0&&L(ft)),Q!==t)for(;Q!==t;)A.push(Q),Q=r.charAt(_),V.test(Q)?_++:(Q=t,O===0&&L(ft));else A=t;A!==t?(R=[R,A],y=R):(_=y,y=t)}else _=y,y=t;return y!==t?(R=r.charAt(_),ne.test(R)?_++:(R=t,O===0&&L(ze)),R===t&&(R=null),y=[y,R],b=y):(_=b,b=t),b!==t?m=r.substring(m,_):m=b,O--,m===t&&(b=t,O===0&&L(tt)),m}function Vo(){var m,b,y;for(O++,m=_,b=[],y=r.charAt(_),ae.test(y)?_++:(y=t,O===0&&L(pt));y!==t;)b.push(y),b.length>=2?y=t:(y=r.charAt(_),ae.test(y)?_++:(y=t,O===0&&L(pt)));return b.length<1?(_=m,m=t):m=b,O--,m===t&&(b=t,O===0&&L($r)),m}function gs(){var m,b,y,R,A;if(O++,m=_,ye(),r.charCodeAt(_)===36?(b=g,_++):(b=t,O===0&&L(tr)),b!==t){if(y=_,R=[],A=r.charAt(_),J.test(A)?_++:(A=t,O===0&&L(H)),A!==t)for(;A!==t;)R.push(A),A=r.charAt(_),J.test(A)?_++:(A=t,O===0&&L(H));else R=t;R!==t?y=r.substring(y,_):y=R,y!==t?m=At(y):(_=m,m=t)}else _=m,m=t;return O--,m===t&&O===0&&L(Br),m}function Zr(){var m;return m=Go(),m===t&&(m=Qo()),m}function Go(){var m,b,y,R,A;if(O++,m=_,r.charCodeAt(_)===123?(b=v,_++):(b=t,O===0&&L(Tt)),b!==t){for(y=_,R=[],A=r.charAt(_),Ce.test(A)?_++:(A=t,O===0&&L(Dt));A!==t;)R.push(A),A=r.charAt(_),Ce.test(A)?_++:(A=t,O===0&&L(Dt));y=r.substring(y,_),r.charCodeAt(_)===125?(R=S,_++):(R=t,O===0&&L(Pt)),R!==t?m=Xr(y):(_=m,m=t)}else _=m,m=t;return O--,m===t&&(b=t,O===0&&L(Fr)),m}function Qo(){var m,b,y,R,A;if(O++,m=_,r.charCodeAt(_)===59?(b=C,_++):(b=t,O===0&&L(Lt)),b!==t){for(y=_,R=[],A=r.charAt(_),P.test(A)?_++:(A=t,O===0&&L(rt));A!==t;)R.push(A),A=r.charAt(_),P.test(A)?_++:(A=t,O===0&&L(rt));y=r.substring(y,_),m=bt(y)}else _=m,m=t;return O--,m===t&&(b=t,O===0&&L(Me)),m}function ms(){var m,b,y,R;return O++,m=_,ye(),r.charCodeAt(_)===40?(b=x,_++):(b=t,O===0&&L(qr)),b!==t?(y=fs(),y!==t?(ye(),r.charCodeAt(_)===41?(R=E,_++):(R=t,O===0&&L(Hr)),R!==t?m=It(y):(_=m,m=t)):(_=m,m=t)):(_=m,m=t),O--,m===t&&O===0&&L(Ur),m}function Yo(){var m,b,y;return O++,m=_,r.substr(_,3)===w?(b=w,_+=3):(b=t,O===0&&L(mt)),b===t&&(r.substr(_,3)===k?(b=k,_+=3):(b=t,O===0&&L(vt)),b===t&&(r.substr(_,7)===T?(b=T,_+=7):(b=t,O===0&&L(_t)),b===t&&(r.charCodeAt(_)===42?(b=D,_++):(b=t,O===0&&L(zr))))),b!==t?(ye(),y=Zr(),y===t&&(y=null),m=Jr(b,y)):(_=m,m=t),O--,m===t&&(b=t,O===0&&L(gt)),m}function ye(){var m,b;for(O++,m=[],b=r.charAt(_),K.test(b)?_++:(b=t,O===0&&L(rr));b!==t;)m.push(b),b=r.charAt(_),K.test(b)?_++:(b=t,O===0&&L(rr));return O--,b=t,O===0&&L(Wr),m}if(de=o(),e.peg$library)return{peg$result:de,peg$currPos:_,peg$FAILED:t,peg$maxFailExpected:G,peg$maxFailPos:Ee};if(de!==t&&_===r.length)return de;throw de!==t&&_<r.length&&L(ke()),Fo(G,Ee<r.length?r.charAt(Ee):null,Ee<r.length?us(Ee,Ee+1):us(Ee,Ee))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const wr=0xffffffffffffffffn;function pn(r,e){return(r<<e|r>>64n-e)&0xffffffffffffffffn}function mi(r,e){return r*e&wr}function ih(r){return function(){let e=BigInt(r&wr),t=BigInt(r>>64n&wr);const n=mi(pn(mi(e,5n),7n),9n);return t^=e,e=(pn(e,24n)^t^t<<16n)&wr,t=pn(t,37n),r=t<<64n|e,n}}const Mr=ih(0xa187eb39cdcaed8f31c4b365b102e01en),oh=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Mr()))),ah=Array.from({length:8},()=>Mr()),ch=Array.from({length:16},()=>Mr()),gn=Mr(),ve="w",Te="b",se="p",qn="n",Cr="b",Ht="r",Ge="q",le="k",mn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class dr{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(e,t){const{color:n,piece:s,from:o,to:a,flags:c,captured:l,promotion:u}=t,f=he(o),d=he(a);this.color=n,this.piece=s,this.from=f,this.to=d,this.san=e._moveToSan(t,e._moves({legal:!0})),this.lan=f+d,this.before=e.fen(),e._makeMove(t),this.after=e.fen(),e._undoMove(),this.flags="";for(const h in j)j[h]&c&&(this.flags+=st[h]);l&&(this.captured=l),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(st.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(st.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(st.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(st.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(st.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(st.BIG_PAWN)>-1}}const pe=-1,st={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},j={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Hn={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},lh={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},uh={...Hn,...lh},M={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},vn={b:[16,32,17,15],w:[-16,-32,-17,-15]},vi={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},dh=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],hh=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],fh={p:1,n:2,b:4,r:8,q:16,k:32},ph="pnbrqkPNBRQK",_i=[qn,Cr,Ht,Ge],gh=7,mh=6,vh=1,_h=0,hr={[le]:j.KSIDE_CASTLE,[Ge]:j.QSIDE_CASTLE},Ke={w:[{square:M.a1,flag:j.QSIDE_CASTLE},{square:M.h1,flag:j.KSIDE_CASTLE}],b:[{square:M.a8,flag:j.QSIDE_CASTLE},{square:M.h8,flag:j.KSIDE_CASTLE}]},bh={b:vh,w:mh},_n="--";function at(r){return r>>4}function Qt(r){return r&15}function Bo(r){return"0123456789".indexOf(r)!==-1}function he(r){const e=Qt(r),t=at(r);return"abcdefgh".substring(e,e+1)+"87654321".substring(t,t+1)}function $t(r){return r===ve?Te:ve}function yh(r){const e=r.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const t=parseInt(e[5],10);if(isNaN(t)||t<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=e[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let a=0;a<s.length;a++){let c=0,l=!1;for(let u=0;u<s[a].length;u++)if(Bo(s[a][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};c+=parseInt(s[a][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[a][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};c+=1,l=!1}if(c!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const o=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:a,regex:c}of o){if(!c.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${a} king`};if((e[0].match(c)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${a} kings`}}return Array.from(s[0]+s[7]).some(a=>a.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function wh(r,e){const t=r.from,n=r.to,s=r.piece;let o=0,a=0,c=0;for(let l=0,u=e.length;l<u;l++){const f=e[l].from,d=e[l].to,h=e[l].piece;s===h&&t!==f&&n===d&&(o++,at(t)===at(f)&&a++,Qt(t)===Qt(f)&&c++)}return o>0?a>0&&c>0?he(t):c>0?he(t).charAt(1):he(t).charAt(0):""}function Ve(r,e,t,n,s,o=void 0,a=j.NORMAL){const c=at(n);if(s===se&&(c===gh||c===_h))for(let l=0;l<_i.length;l++){const u=_i[l];r.push({color:e,from:t,to:n,piece:s,captured:o,promotion:u,flags:a|j.PROMOTION})}else r.push({color:e,from:t,to:n,piece:s,captured:o,flags:a})}function bi(r){let e=r.charAt(0);return e>="a"&&e<="h"?r.match(/[a-h]\d.*[a-h]\d/)?void 0:se:(e=e.toLowerCase(),e==="o"?le:e)}function bn(r){return r.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Ch{_board=new Array(128);_turn=ve;_header={};_kings={w:pe,b:pe};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(e=mn,{skipValidation:t=!1}={}){this.load(e,{skipValidation:t})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:pe,b:pe},this._turn=ve,this._castling={w:0,b:0},this._epSquare=pe,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...uh},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:t=!1,preserveHeaders:n=!1}={}){let s=e.split(/\s+/);if(s.length>=2&&s.length<6){const c=["-","-","0","1"];e=s.concat(c.slice(-(6-s.length))).join(" ")}if(s=e.split(/\s+/),!t){const{ok:c,error:l}=yh(e);if(!c)throw new Error(l)}const o=s[0];let a=0;this.clear({preserveHeaders:n});for(let c=0;c<o.length;c++){const l=o.charAt(c);if(l==="/")a+=8;else if(Bo(l))a+=parseInt(l,10);else{const u=l<"a"?ve:Te;this._put({type:l.toLowerCase(),color:u},he(a)),a++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=j.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=j.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=j.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=j.QSIDE_CASTLE),this._epSquare=s[3]==="-"?pe:M[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){let t=0,n="";for(let a=M.a8;a<=M.h1;a++){if(this._board[a]){t>0&&(n+=t,t=0);const{color:c,type:l}=this._board[a];n+=c===ve?l.toUpperCase():l.toLowerCase()}else t++;a+1&136&&(t>0&&(n+=t),a!==M.h1&&(n+="/"),t=0,a+=8)}let s="";this._castling[ve]&j.KSIDE_CASTLE&&(s+="K"),this._castling[ve]&j.QSIDE_CASTLE&&(s+="Q"),this._castling[Te]&j.KSIDE_CASTLE&&(s+="k"),this._castling[Te]&j.QSIDE_CASTLE&&(s+="q"),s=s||"-";let o="-";if(this._epSquare!==pe)if(e)o=he(this._epSquare);else{const a=this._epSquare+(this._turn===ve?16:-16),c=[a+1,a-1];for(const l of c){if(l&136)continue;const u=this._turn;if(this._board[l]?.color===u&&this._board[l]?.type===se){this._makeMove({color:u,from:l,to:this._epSquare,piece:se,captured:se,flags:j.EP_CAPTURE});const f=!this._isKingAttacked(u);if(this._undoMove(),f){o=he(this._epSquare);break}}}}return[n,this._turn,s,o,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:t,type:n}=this._board[e],s={w:0,b:1}[t],o={p:0,n:1,b:2,r:3,q:4,k:5}[n];return oh[s][o][e]}_epKey(){return this._epSquare===pe?0n:ah[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return ch[e]}_computeHash(){let e=0n;for(let t=M.a8;t<=M.h1;t++){if(t&136){t+=7;continue}this._board[t]&&(e^=this._pieceKey(t))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=gn),e}_updateSetup(e){this._history.length>0||(e!==mn?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(mn)}get(e){return this._board[M[e]]}findPiece(e){const t=[];for(let n=M.a8;n<=M.h1;n++){if(n&136){n+=7;continue}!this._board[n]||this._board[n]?.color!==e.color||this._board[n].color===e.color&&this._board[n].type===e.type&&t.push(he(n))}return t}put({type:e,color:t},n){return this._put({type:e,color:t},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,t){this._hash^=this._pieceKey(e),this._board[e]=t,this._hash^=this._pieceKey(e)}_put({type:e,color:t},n){if(ph.indexOf(e.toLowerCase())===-1||!(n in M))return!1;const s=M[n];if(e==le&&!(this._kings[t]==pe||this._kings[t]==s))return!1;const o=this._board[s];return o&&o.type===le&&(this._kings[o.color]=pe),this._set(s,{type:e,color:t}),e===le&&(this._kings[t]=s),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const t=this.get(e);return this._clear(M[e]),t&&t.type===le&&(this._kings[t.color]=pe),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){this._hash^=this._castlingKey();const e=this._board[M.e1]?.type===le&&this._board[M.e1]?.color===ve,t=this._board[M.e8]?.type===le&&this._board[M.e8]?.color===Te;(!e||this._board[M.a1]?.type!==Ht||this._board[M.a1]?.color!==ve)&&(this._castling.w&=-65),(!e||this._board[M.h1]?.type!==Ht||this._board[M.h1]?.color!==ve)&&(this._castling.w&=-33),(!t||this._board[M.a8]?.type!==Ht||this._board[M.a8]?.color!==Te)&&(this._castling.b&=-65),(!t||this._board[M.h8]?.type!==Ht||this._board[M.h8]?.color!==Te)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===pe)return;const e=this._epSquare+(this._turn===ve?-16:16),t=this._epSquare+(this._turn===ve?16:-16),n=[t+1,t-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||this._board[t]?.color!==$t(this._turn)||this._board[t]?.type!==se){this._hash^=this._epKey(),this._epSquare=pe;return}const s=o=>!(o&136)&&this._board[o]?.color===this._turn&&this._board[o]?.type===se;n.some(s)||(this._hash^=this._epKey(),this._epSquare=pe)}_attacked(e,t,n){const s=[];for(let o=M.a8;o<=M.h1;o++){if(o&136){o+=7;continue}if(this._board[o]===void 0||this._board[o].color!==e)continue;const a=this._board[o],c=o-t;if(c===0)continue;const l=c+119;if(dh[l]&fh[a.type]){if(a.type===se){if(c>0&&a.color===ve||c<=0&&a.color===Te)if(n)s.push(he(o));else return!0;continue}if(a.type==="n"||a.type==="k")if(n){s.push(he(o));continue}else return!0;const u=hh[l];let f=o+u,d=!1;for(;f!==t;){if(this._board[f]!=null){d=!0;break}f+=u}if(!d)if(n){s.push(he(o));continue}else return!0}}return n?s:!1}attackers(e,t){return t?this._attacked(t,M[e],!0):this._attacked(this._turn,M[e],!0)}_isKingAttacked(e){const t=this._kings[e];return t===-1?!1:this._attacked($t(e),t)}hash(){return this._hash.toString(16)}isAttacked(e,t){return this._attacked(t,M[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let n=0,s=0;for(let o=M.a8;o<=M.h1;o++){if(s=(s+1)%2,o&136){o+=7;continue}const a=this._board[o];a&&(e[a.type]=a.type in e?e[a.type]+1:1,a.type===Cr&&t.push(s),n++)}if(n===2)return!0;if(n===3&&(e[Cr]===1||e[qn]===1))return!0;if(n===e[Cr]+2){let o=0;const a=t.length;for(let c=0;c<a;c++)o+=t[c];if(o===0||o===a)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:t=void 0,piece:n=void 0}={}){const s=this._moves({square:t,piece:n});return e?s.map(o=>new dr(this,o)):s.map(o=>this._moveToSan(o,s))}_moves({legal:e=!0,piece:t=void 0,square:n=void 0}={}){const s=n?n.toLowerCase():void 0,o=t?.toLowerCase(),a=[],c=this._turn,l=$t(c);let u=M.a8,f=M.h1,d=!1;if(s)if(s in M)u=f=M[s],d=!0;else return[];for(let p=u;p<=f;p++){if(p&136){p+=7;continue}if(!this._board[p]||this._board[p].color===l)continue;const{type:g}=this._board[p];let v;if(g===se){if(o&&o!==g)continue;v=p+vn[c][0],this._board[v]||(Ve(a,c,p,v,se),v=p+vn[c][1],bh[c]===at(p)&&!this._board[v]&&Ve(a,c,p,v,se,void 0,j.BIG_PAWN));for(let S=2;S<4;S++)v=p+vn[c][S],!(v&136)&&(this._board[v]?.color===l?Ve(a,c,p,v,se,this._board[v].type,j.CAPTURE):v===this._epSquare&&Ve(a,c,p,v,se,se,j.EP_CAPTURE))}else{if(o&&o!==g)continue;for(let S=0,C=vi[g].length;S<C;S++){const x=vi[g][S];for(v=p;v+=x,!(v&136);){if(!this._board[v])Ve(a,c,p,v,g);else{if(this._board[v].color===c)break;Ve(a,c,p,v,g,this._board[v].type,j.CAPTURE);break}if(g===qn||g===le)break}}}}if((o===void 0||o===le)&&(!d||f===this._kings[c])){if(this._castling[c]&j.KSIDE_CASTLE){const p=this._kings[c],g=p+2;!this._board[p+1]&&!this._board[g]&&!this._attacked(l,this._kings[c])&&!this._attacked(l,p+1)&&!this._attacked(l,g)&&Ve(a,c,this._kings[c],g,le,void 0,j.KSIDE_CASTLE)}if(this._castling[c]&j.QSIDE_CASTLE){const p=this._kings[c],g=p-2;!this._board[p-1]&&!this._board[p-2]&&!this._board[p-3]&&!this._attacked(l,this._kings[c])&&!this._attacked(l,p-1)&&!this._attacked(l,g)&&Ve(a,c,this._kings[c],g,le,void 0,j.QSIDE_CASTLE)}}if(!e||this._kings[c]===-1)return a;const h=[];for(let p=0,g=a.length;p<g;p++)this._makeMove(a[p]),this._isKingAttacked(c)||h.push(a[p]),this._undoMove();return h}move(e,{strict:t=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,t);else if(e===null)n=this._moveFromSan(_n,t);else if(typeof e=="object"){const o=this._moves();for(let a=0,c=o.length;a<c;a++)if(e.from===he(o[a].from)&&e.to===he(o[a].to)&&(!("promotion"in o[a])||e.promotion===o[a].promotion)){n=o[a];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&n.flags&j.NULL_MOVE)throw new Error("Null move not allowed when in check");const s=new dr(this,n);return this._makeMove(n),this._incPositionCount(),s}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,t){this._hash^=this._pieceKey(e),this._board[t]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(t)}_makeMove(e){const t=this._turn,n=$t(t);if(this._push(e),e.flags&j.NULL_MOVE){t===Te&&this._moveNumber++,this._halfMoves++,this._turn=n,this._epSquare=pe;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&j.EP_CAPTURE&&(this._turn===Te?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:t})),this._board[e.to].type===le){if(this._kings[t]=e.to,e.flags&j.KSIDE_CASTLE){const s=e.to-1,o=e.to+1;this._movePiece(o,s)}else if(e.flags&j.QSIDE_CASTLE){const s=e.to+1,o=e.to-2;this._movePiece(o,s)}this._castling[t]=0}if(this._castling[t]){for(let s=0,o=Ke[t].length;s<o;s++)if(e.from===Ke[t][s].square&&this._castling[t]&Ke[t][s].flag){this._castling[t]^=Ke[t][s].flag;break}}if(this._castling[n]){for(let s=0,o=Ke[n].length;s<o;s++)if(e.to===Ke[n][s].square&&this._castling[n]&Ke[n][s].flag){this._castling[n]^=Ke[n][s].flag;break}}if(this._hash^=this._castlingKey(),e.flags&j.BIG_PAWN){let s;t===Te?s=e.to-16:s=e.to+16,!(e.to-1&136)&&this._board[e.to-1]?.type===se&&this._board[e.to-1]?.color===n||!(e.to+1&136)&&this._board[e.to+1]?.type===se&&this._board[e.to+1]?.color===n?(this._epSquare=s,this._hash^=this._epKey()):this._epSquare=pe}else this._epSquare=pe;e.piece===se?this._halfMoves=0:e.flags&(j.CAPTURE|j.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===Te&&this._moveNumber++,this._turn=n,this._hash^=gn}undo(){const e=this._hash,t=this._undoMove();if(t){const n=new dr(this,t);return this._decPositionCount(e),n}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=gn;const n=this._turn,s=$t(n);if(t.flags&j.NULL_MOVE)return t;if(this._movePiece(t.to,t.from),t.piece&&(this._clear(t.from),this._set(t.from,{type:t.piece,color:n})),t.captured)if(t.flags&j.EP_CAPTURE){let o;n===Te?o=t.to-16:o=t.to+16,this._set(o,{type:se,color:s})}else this._set(t.to,{type:t.captured,color:s});if(t.flags&(j.KSIDE_CASTLE|j.QSIDE_CASTLE)){let o,a;t.flags&j.KSIDE_CASTLE?(o=t.to+1,a=t.to-1):(o=t.to-2,a=t.to+1),this._movePiece(a,o)}return t}pgn({newline:e=`
`,maxWidth:t=0}={}){const n=[];let s=!1;for(const h in this._header)this._header[h]&&n.push(`[${h} "${this._header[h]}"]`+e),s=!0;s&&this._history.length&&n.push(e);const o=h=>{const p=this._comments[this.fen()];if(typeof p<"u"){const g=h.length>0?" ":"";h=`${h}${g}{${p}}`}return h},a=[];for(;this._history.length>0;)a.push(this._undoMove());const c=[];let l="";for(a.length===0&&c.push(o(""));a.length>0;){l=o(l);const h=a.pop();if(!h)break;if(!this._history.length&&h.color==="b"){const p=`${this._moveNumber}. ...`;l=l?`${l} ${p}`:p}else h.color==="w"&&(l.length&&c.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(h,this._moves({legal:!0})),this._makeMove(h)}if(l.length&&c.push(o(l)),c.push(this._header.Result||"*"),t===0)return n.join("")+c.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},f=function(h,p){for(const g of p.split(" "))if(g){if(h+g.length>t){for(;u();)h--;n.push(e),h=0}n.push(g),h+=g.length,n.push(" "),h++}return u()&&h--,h};let d=0;for(let h=0;h<c.length;h++){if(d+c[h].length>t&&c[h].includes("{")){d=f(d,c[h]);continue}d+c[h].length>t&&h!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),d=0):h!==0&&(n.push(" "),d++),n.push(c[h]),d+=c[h].length}return n.join("")}header(...e){for(let t=0;t<e.length;t+=2)typeof e[t]=="string"&&typeof e[t+1]=="string"&&(this._header[e[t]]=e[t+1]);return this._header}setHeader(e,t){return this._header[e]=t??Hn[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Hn[e]||null,!0):!1}getHeaders(){const e={};for(const[t,n]of Object.entries(this._header))n!==null&&(e[t]=n);return e}loadPgn(e,{strict:t=!1,newlineChar:n=`\r?
`}={}){n!==`\r?
`&&(e=e.replace(new RegExp(n,"g"),`
`));const s=sh(e);this.reset();const o=s.headers;let a="";for(const u in o)u.toLowerCase()==="fen"&&(a=o[u]),this.header(u,o[u]);if(!t)a&&this.load(a,{preserveHeaders:!0});else if(o.SetUp==="1"){if(!("FEN"in o))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(o.FEN,{preserveHeaders:!0})}let c=s.root;for(;c;){if(c.move){const u=this._moveFromSan(c.move,t);if(u==null)throw new Error(`Invalid move in PGN: ${c.move}`);this._makeMove(u),this._incPositionCount()}c.comment!==void 0&&(this._comments[this.fen()]=c.comment),c=c.variations[0]}const l=s.result;l&&Object.keys(this._header).length&&this._header.Result!==l&&this.setHeader("Result",l)}_moveToSan(e,t){let n="";if(e.flags&j.KSIDE_CASTLE)n="O-O";else if(e.flags&j.QSIDE_CASTLE)n="O-O-O";else{if(e.flags&j.NULL_MOVE)return _n;if(e.piece!==se){const s=wh(e,t);n+=e.piece.toUpperCase()+s}e.flags&(j.CAPTURE|j.EP_CAPTURE)&&(e.piece===se&&(n+=he(e.from)[0]),n+="x"),n+=he(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,t=!1){let n=bn(e);if(t||(n==="0-0"?n="O-O":n==="0-0-0"&&(n="O-O-O")),n==_n)return{color:this._turn,from:0,to:0,piece:"k",flags:j.NULL_MOVE};let s=bi(n),o=this._moves({legal:!0,piece:s});for(let h=0,p=o.length;h<p;h++)if(n===bn(this._moveToSan(o[h],o)))return o[h];if(t)return null;let a,c,l,u,f,d=!1;if(c=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),c?(a=c[1],l=c[2],u=c[3],f=c[4],l.length==1&&(d=!0)):(c=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),c&&(a=c[1],l=c[2],u=c[3],f=c[4],l.length==1&&(d=!0))),s=bi(n),o=this._moves({legal:!0,piece:a||s}),!u)return null;for(let h=0,p=o.length;h<p;h++)if(l){if((!a||a.toLowerCase()==o[h].piece)&&M[l]==o[h].from&&M[u]==o[h].to&&(!f||f.toLowerCase()==o[h].promotion))return o[h];if(d){const g=he(o[h].from);if((!a||a.toLowerCase()==o[h].piece)&&M[u]==o[h].to&&(l==g[0]||l==g[1])&&(!f||f.toLowerCase()==o[h].promotion))return o[h]}}else if(n===bn(this._moveToSan(o[h],o)).replace("x",""))return o[h];return null}ascii(){let e=`   +------------------------+
`;for(let t=M.a8;t<=M.h1;t++){if(Qt(t)===0&&(e+=" "+"87654321"[at(t)]+" |"),this._board[t]){const n=this._board[t].type,o=this._board[t].color===ve?n.toUpperCase():n.toLowerCase();e+=" "+o+" "}else e+=" . ";t+1&136&&(e+=`|
`,t+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let n=0;const s=this._turn;for(let o=0,a=t.length;o<a;o++)this._makeMove(t[o]),this._isKingAttacked(s)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let t=[];for(let n=M.a8;n<=M.h1;n++)this._board[n]==null?t.push(null):t.push({square:he(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}squareColor(e){if(e in M){const t=M[e];return(at(t)+Qt(t))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],n=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const s=t.pop();if(!s)break;e?n.push(new dr(this,s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const t=this._positionCount.get(e)??0;t===1?this._positionCount.delete(e):this._positionCount.set(e,t-1)}_pruneComments(){const e=[],t={},n=s=>{s in this._comments&&(t[s]=this._comments[s])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const s=e.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}})}setCastlingRights(e,t){for(const s of[le,Ge])t[s]!==void 0&&(t[s]?this._castling[e]|=hr[s]:this._castling[e]&=~hr[s]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(t[le]===void 0||t[le]===n[le])&&(t[Ge]===void 0||t[Ge]===n[Ge])}getCastlingRights(e){return{[le]:(this._castling[e]&hr[le])!==0,[Ge]:(this._castling[e]&hr[Ge])!==0}}moveNumber(){return this._moveNumber}}function Sh(){const[r]=N(new Ch),[e,t]=N(r.fen()),[n,s]=N(null),[o,a]=N(null),[c,l]=N("Connecting..."),[u,f]=N(!1),[d,h]=N(!1),[p,g]=N(null);q(()=>{async function x(){try{const E=await(await Z.auth.apiGetSessionList()).json();if(console.log("Session check response:",E),!E){console.log("No active session: redirecting to /login"),window.location.href="/login";return}const k=_r("wss://my-website.space/backend",{path:"/socket.io/",transports:["websocket","polling"],withCredentials:!0});g(k),k.on("connect",()=>{console.log("Socket connected"),l("Connected, joining game...")}),k.on("init",T=>{console.log("Received init:",T),r.load(T.fen),t(T.fen),s(T.your_color),a(T.opponent),T.opponent===null?(l("Waiting for opponent..."),f(!1)):(l(`Playing against ${T.opponent}`),f(!0))}),k.on("opponent_joined",T=>{console.log("Received opponent_joined:",T),a(T.opponent),l(`Playing against ${T.opponent}`),f(!0)}),k.on("update",T=>{console.log("Received update:",T),r.load(T.fen),t(T.fen),h(!1)}),k.on("win",T=>{console.log("Received win:",T),f(!1);const I=o&&T.winner!==o?"You win!":`${T.winner||n} wins!`,B=T.reason?` (${T.reason})`:"";l(`Game over: ${I}${B}`)}),k.on("draw",()=>{console.log("Received draw"),f(!1),l("Game over: Draw!")}),k.on("error",T=>{console.log("Received error:",T),d&&(r.undo(),t(r.fen()),h(!1)),l(`Error: ${T.message}`)}),k.on("connect_error",T=>{console.error("Socket connect error:",T),l("Connection error: "+T.message)}),k.on("disconnect",T=>{console.log("Socket disconnected:",T),l("Connection closed: "+T)}),k.onAny((T,...D)=>{console.log("Socket event:",T,D)})}catch(E){console.error("Init error:",E),l("Init error")}}return x(),()=>{p&&p.disconnect()}},[]);const v=()=>n?r.turn()==="w"&&n==="white"||r.turn()==="b"&&n==="black":!1;q(()=>{f(o!==null&&v())},[e,n,o]);function S(x){p&&(console.log("Sending move:",x),p.emit("move",{move:x}))}return i($,{children:[i(X,{}),i("h1",{class:"text-3xl mx-4 my-8",children:"Multiplayer Chess:"}),i("div",{class:"mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full",children:[i("div",{role:"alert",className:"justify-center my-4 alert bg-neutral text-neutral-content",children:i("span",{children:c})}),i(Jd,{position:e,onPieceDrop:(x,E)=>{if(!v()||d)return!1;try{const w=r.move({from:x,to:E,promotion:"q"});return w?(t(r.fen()),S(w.san),h(!0),!0):!1}catch{return console.log("Invalid move"),!1}},arePiecesDraggable:u,isDraggablePiece:({piece:x})=>n&&x[0]==n[0]?v():!1,boardOrientation:n||"white",showPromotionDialog:!1})]})]})}const Bt=(r,e)=>Math.floor(Math.random()*(e-r+1))+r,xh=["add","sub","mult","div"];function Nh(){const e=new URLSearchParams(window.location.search).get("config");let t={min1:0,max1:100,min2:0,max2:100},n={min1:2,max1:20,min2:2,max2:20},s=120,o={add:!0,sub:!0,mult:!0,div:!0},a=!1;if(e)try{const P=JSON.parse(atob(e));t=P.addRange,n=P.multRange,s=P.duration,o=P.selectedOps,a=!0}catch{}const[c,l]=N(t),[u,f]=N(n),[d,h]=N(s),[p,g]=N(o),[v,S]=N("start"),[C,x]=N(0),[E,w]=N(0),[k,T]=N(null),[D,I]=N(""),B=ge(null),J=()=>{const P=xh.filter(Ne=>p[Ne]);if(P.length===0)return;const K=P[Bt(0,P.length-1)];let re,ue,be,De;if(K==="add"||K==="sub"?(re=Bt(c.min1,c.max1),ue=Bt(c.min2,c.max2)):(re=Bt(u.min1,u.max1),ue=Bt(u.min2,u.max2)),K==="add")be=`${re} + ${ue} = `,De=re+ue;else if(K==="sub"){const Ne=re+ue,Oe=Math.random()>.5?re:ue;be=`${Ne} - ${Oe} = `,De=Ne-Oe}else if(K==="mult")be=`${re} Ã ${ue} = `,De=re*ue;else{const Ne=re*ue,Oe=Math.random()>.5?re:ue;be=`${Ne} Ã· ${Oe} = `,De=Ne/Oe}T({question:be,answer:De}),I("")},Y=()=>{if(!Object.values(p).some(K=>K)){alert("Please select at least one operation.");return}x(0),w(d),S("playing"),J()};q(()=>{a&&Y()},[]),q(()=>{if(v!=="playing")return;if(E<=0){S("ended");return}const P=setInterval(()=>{w(K=>K-1)},1e3);return()=>clearInterval(P)},[v,E]),q(()=>{v==="playing"&&B.current&&B.current.focus()},[v,k]),q(()=>{v==="ended"&&console.log(JSON.stringify({additionRange:c,multiplicationRange:u,duration:d,finalScore:C},null,2))},[v,c,u,d,C]);const V=()=>{if(!k)return;const P=parseFloat(D);if(isNaN(P)){I("");return}Math.abs(P-k.answer)<1e-4?(x(K=>K+1),J()):I("")},ne=P=>{P.key==="Enter"&&V()},ae=(P,K,re,ue)=>{const be=parseInt(ue,10);isNaN(be)||P({...K,[re]:be})},Ce=()=>{const K=btoa(JSON.stringify({addRange:c,multRange:u,duration:d,selectedOps:p})),re=`${window.location.origin}${window.location.pathname}?config=${K}`;navigator.clipboard.writeText(re).then(()=>{alert("Shareable link copied to clipboard!")})};return v==="start"?i($,{children:[i(X,{}),i("div",{className:"bg-base-100 mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full p-4",children:[i("h1",{className:"text-2xl font-bold mb-4",children:"Arithmetic Game"}),i("p",{className:"mb-4",children:"The Arithmetic Game is a fast-paced speed drill where you are given two minutes to solve as many arithmetic problems as you can."}),i("p",{className:"mb-4",children:"If you have any questions, please contact me."}),i("h2",{className:"text-xl font-semibold mb-2",children:"Addition"}),i("p",{className:"mb-4",children:[i("input",{type:"checkbox",checked:p.add,onChange:()=>g(P=>({...P,add:!P.add}))})," ","Range: (",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.min1,onChange:P=>ae(l,c,"min1",P.currentTarget.value)}),"to",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.max1,onChange:P=>ae(l,c,"max1",P.currentTarget.value)}),") + (",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.min2,onChange:P=>ae(l,c,"min2",P.currentTarget.value)}),"to",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:c.max2,onChange:P=>ae(l,c,"max2",P.currentTarget.value)}),")"]}),i("h2",{className:"text-xl font-semibold mb-2",children:"Subtraction"}),i("p",{className:"mb-4",children:[i("input",{type:"checkbox",checked:p.sub,onChange:()=>g(P=>({...P,sub:!P.sub}))})," ","Addition problems in reverse."]}),i("h2",{className:"text-xl font-semibold mb-2",children:"Multiplication"}),i("p",{className:"mb-4",children:[i("input",{type:"checkbox",checked:p.mult,onChange:()=>g(P=>({...P,mult:!P.mult}))})," ","Range: (",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:u.min1,onChange:P=>ae(f,u,"min1",P.currentTarget.value)}),"to",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:u.max1,onChange:P=>ae(f,u,"max1",P.currentTarget.value)}),") Ã (",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:u.min2,onChange:P=>ae(f,u,"min2",P.currentTarget.value)}),"to",i("input",{type:"number",className:"border p-1 w-16 mx-1",value:u.max2,onChange:P=>ae(f,u,"max2",P.currentTarget.value)}),")"]}),i("h2",{className:"text-xl font-semibold mb-2",children:"Division"}),i("p",{className:"mb-4",children:[i("input",{type:"checkbox",checked:p.div,onChange:()=>g(P=>({...P,div:!P.div}))})," ","Multiplication problems in reverse."]}),i("h2",{className:"text-xl font-semibold mb-2",children:"Duration:"}),i("input",{type:"number",className:"border p-1 w-20",value:d,onChange:P=>{const K=parseInt(P.currentTarget.value,10);isNaN(K)||h(K)}}),i("button",{className:"bg-blue-500 text-white p-2 rounded mt-4 mr-4",onClick:Y,children:"Start"}),i("button",{className:"bg-green-500 text-white p-2 rounded",onClick:Ce,children:"Share Config"})]})]}):v==="playing"?i($,{children:[i(X,{}),i("div",{className:"flex flex-col items-center justify-center h-screen",children:[i("div",{className:"flex justify-between w-full max-w-md mb-4",children:[i("p",{children:["Time: ",E," s"]}),i("p",{children:["Score: ",C]})]}),k&&i("h1",{className:"text-4xl mb-4",children:k.question}),i("input",{type:"number",className:"border p-2 text-2xl w-32 text-center",value:D,onChange:P=>I(P.currentTarget.value),onKeyDown:ne,ref:B})]})]}):i($,{children:[i(X,{}),i("div",{className:"flex flex-col items-center justify-center h-screen",children:[i("h1",{className:"text-3xl font-bold mb-4",children:"Game Over"}),i("p",{className:"text-2xl mb-4",children:["Score: ",C]}),i("button",{className:"bg-blue-500 text-white p-2 rounded",onClick:()=>S("start"),children:"Play Again"})]})]})}function Oh(){const[r,e]=N(""),[t,n]=N(""),[s,o]=N(""),[a,c]=N(""),[l,u]=N(!1),[f,d]=N(""),{route:h}=kr(),p=w=>{e(w.target.value)},g=w=>{n(w.target.value)},v=w=>{o(w.target.value)},S=w=>{c(w.target.value)};async function C(){if(u(!0),s!=a){d("Passwords must match"),u(!1);return}try{await Z.auth.apiSignUpEmailCreate({name:r,email:t,password:s,rememberMe:!0}),h("/")}catch(w){console.log(w);const k=w?.error?.message||"ERROR: REGISTER FAILED";d(k),console.log("ERROR:",w?.error?.message||w),u(!1)}}async function x(w){u(!0);try{const k=(await Z.auth.socialSignIn({provider:w,callbackURL:new URL("/",window.location.origin).href})).data;window.location.href=k.url;return}catch(k){const T=k?.error?.message||"ERROR: REGISTER FAILED";d(T),console.log("ERROR:",k?.error?.message||k),u(!1)}}function E(w){w.preventDefault(),C()}return i($,{children:[i(X,{}),i("div",{className:"mx-auto w-1/4 max-lg:w-1/3 max-md:w-1/2 max-sm:w-full",children:i("div",{className:"card-body",children:[i("h1",{className:"text-center text-xl font-bold",children:"Create Your Account"}),i("form",{className:"fieldset",onSubmit:E,children:[i("label",{className:"label",children:"Name"}),i("label",{className:"input w-full",children:[i(Zi,{}),i("input",{type:"text",required:!0,placeholder:"Name",onInput:p})]}),i("label",{className:"label",children:"Email"}),i("label",{className:"input w-full",children:[i(Ji,{}),i("input",{type:"text",required:!0,placeholder:"Email",onInput:g})]}),i("label",{className:"label",children:"Password"}),i("label",{className:"input w-full",children:[i(Tn,{}),i("input",{type:"password",required:!0,placeholder:"Password",onInput:v})]}),i("label",{className:"label",children:"Confirm Password"}),i("label",{className:"input w-full",children:[i(Tn,{}),i("input",{type:"password",required:!0,placeholder:"Confirm Password",onInput:S})]}),i("button",{disabled:l,className:"btn btn-neutral mt-4",type:"submit",children:"Sign Up"}),i("div",{children:i("p",{className:"text-center",children:["Already have an account?"," ",i("a",{className:"link-accent",href:"/login",children:"Sign in here"})]})})]}),f&&i("p",{className:"text-error",children:f}),i("div",{className:"divider",children:"Sign Up With"}),i("button",{className:"btn text-black bg-white font-bold",onClick:()=>x("google"),children:[i(ro,{}),"Google"]}),i("button",{className:"btn text-white bg-black font-bold",onClick:()=>x("twitter"),children:[i(to,{}),"Twitter (X)"]})]})})]})}function Eh(){const[r,e]=N("");return q(()=>{(async()=>{try{if(!(await(await Z.hello.helloList()).json()).is_admin){console.log("Not admin: redirecting to /login"),window.location.href="/login";return}}catch(t){if(t?.status==401){console.log("401 error: redirecting to /login"),window.location.href="/login";return}const n=t instanceof Error?t.message:"Fetching blogs failed";e(n),console.error("Error:",t)}})()},[]),i($,{children:i(X,{})})}function kh(r){const[e,t]=N(null),[n,s]=N(null),[o,a]=N(!0),[c,l]=N(null);q(()=>{u()},[]);const u=async()=>{try{a(!0),l(null);const f=await Z.auth.apiGetSessionList();if(!f.data)throw new Error("No session data received");s(f.data),t(f.data.user)}catch(f){if(console.error("Settings user data load error:",f),f?.error?.status===401){l("Session expired. Please log in again.");return}l(f?.error?.message||f?.message||"Failed to load user data. Please try refreshing the page.")}finally{a(!1)}};return o?i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"flex justify-center",children:i("span",{className:"loading loading-spinner loading-lg"})})})]}):c||!e?i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"alert alert-error",children:i("span",{children:c||"User not authenticated"})})})]}):i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"max-w-4xl mx-auto",children:[i("h1",{className:"text-3xl font-bold mb-8",children:"Account Settings"}),i("div",{className:"card bg-base-100 shadow-xl mb-8",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title",children:"Profile Information"}),i("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i("div",{children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Name"})}),i("input",{type:"text",value:e.name,className:"input input-bordered w-full",readOnly:!0})]}),i("div",{children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Email"})}),i("input",{type:"email",value:e.email,className:"input input-bordered w-full",readOnly:!0})]}),i("div",{children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Email Verified"})}),i("div",{className:"flex items-center gap-2",children:e.emailVerified?i($,{children:[i("span",{className:"text-success",children:"â"}),i("span",{children:"Verified"})]}):i($,{children:[i("span",{className:"text-error",children:"â"}),i("span",{children:"Not verified"})]})})]}),i("div",{children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Joined"})}),i("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})]})}),i("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:i("div",{className:"card-body",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-12",children:i("span",{className:"text-xl",children:"ð¤"})})}),i("div",{children:[i("h3",{className:"card-title text-lg",children:"Change Name"}),i("p",{className:"text-sm opacity-70",children:"Update your display name"})]})]}),i("div",{className:"card-actions justify-end mt-4",children:i("a",{href:"/settings/name",className:"btn btn-primary btn-sm",children:"Change Name"})})]})}),i("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:i("div",{className:"card-body",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-12",children:i("span",{className:"text-xl",children:"ð"})})}),i("div",{children:[i("h3",{className:"card-title text-lg",children:"Change Password"}),i("p",{className:"text-sm opacity-70",children:"Update your password"})]})]}),i("div",{className:"card-actions justify-end mt-4",children:i("a",{href:"/settings/password",className:"btn btn-primary btn-sm",children:"Change Password"})})]})}),i("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:i("div",{className:"card-body",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-12",children:i("span",{className:"text-xl",children:"ð"})})}),i("div",{children:[i("h3",{className:"card-title text-lg",children:"Connected Accounts"}),i("p",{className:"text-sm opacity-70",children:"Manage social logins"})]})]}),i("div",{className:"card-actions justify-end mt-4",children:i("a",{href:"/settings/accounts",className:"btn btn-primary btn-sm",children:"Manage Accounts"})})]})}),i("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:i("div",{className:"card-body",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-12",children:i("span",{className:"text-xl",children:"ð±"})})}),i("div",{children:[i("h3",{className:"card-title text-lg",children:"Active Sessions"}),i("p",{className:"text-sm opacity-70",children:"View and manage sessions"})]})]}),i("div",{className:"card-actions justify-end mt-4",children:i("a",{href:"/settings/sessions",className:"btn btn-primary btn-sm",children:"View Sessions"})})]})}),i("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow border-red-500 border-2",children:i("div",{className:"card-body",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-error text-white rounded-full w-12",children:i("span",{className:"text-xl",children:"â ï¸"})})}),i("div",{children:[i("h3",{className:"card-title text-lg text-error",children:"Danger Zone"}),i("p",{className:"text-sm opacity-70",children:"Delete your account"})]})]}),i("div",{className:"card-actions justify-end mt-4",children:i("a",{href:"/settings/delete",className:"btn btn-error btn-outline btn-sm",children:"Delete Account"})})]})})]})]})})]})}function Th(r){const[e,t]=N(null),[n,s]=N(""),[o,a]=N(!0),[c,l]=N(!1),[u,f]=N(null),[d,h]=N(!1);q(()=>{p()},[]);const p=async()=>{try{a(!0),f(null);const S=await Z.auth.apiGetSessionList();if(!S.data)throw new Error("No session data received");t(S.data.user),s(S.data.user.name)}catch(S){if(console.error("Name settings user data load error:",S),S?.error?.status===401){f("Session expired. Please log in again.");return}f(S?.error?.message||S?.message||"Failed to load user data. Please try refreshing the page.")}finally{a(!1)}},g=async()=>{if(!(!n.trim()||n.trim()===e?.name))try{l(!0),f(null),h(!1),await Z.auth.apiUpdateUserCreate({name:n.trim()}),await p(),h(!0),setTimeout(()=>h(!1),3e3)}catch(S){console.error("Name update error:",S),f(S?.error?.message||S?.message||"Failed to update name")}finally{l(!1)}};if(o)return i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"flex justify-center",children:i("span",{className:"loading loading-spinner loading-lg"})})})]});if(u&&!e)return i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"alert alert-error",children:i("span",{children:u})})})]});const v=n.trim()!==e?.name&&n.trim()!=="";return i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"max-w-2xl mx-auto",children:[i("div",{className:"flex items-center gap-4 mb-8",children:[i("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),i("h1",{className:"text-3xl font-bold",children:"Change Name"})]}),i("div",{className:"card bg-base-100 shadow-xl",children:i("div",{className:"card-body",children:[i("div",{className:"form-control",children:[i("label",{className:"label",children:[i("span",{className:"label-text",children:"Display Name"}),i("span",{className:"label-text-alt",children:"Visible to other users"})]}),i("input",{type:"text",placeholder:"Enter your name",className:"input input-bordered w-full",value:n,onInput:S=>s(S.target.value),maxLength:50}),i("label",{className:"label",children:i("span",{className:"label-text-alt",children:[n.length,"/50 characters"]})})]}),u&&i("div",{className:"alert alert-error mt-4",children:i("span",{children:u})}),d&&i("div",{className:"alert alert-success mt-4",children:i("span",{children:"Name updated successfully!"})}),i("div",{className:"card-actions justify-between mt-6",children:[i("a",{href:"/settings",className:"btn btn-ghost",children:"Cancel"}),i("button",{className:`btn btn-primary ${c?"loading":""}`,onClick:g,disabled:!v||c,children:c?"Updating...":"Update Name"})]})]})}),i("div",{className:"alert alert-info mt-6",children:i("div",{children:[i("h3",{className:"font-bold",children:"Name Guidelines"}),i("div",{className:"text-sm",children:i("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[i("li",{children:"Your name should be appropriate and respectful"}),i("li",{children:"Maximum 50 characters allowed"}),i("li",{children:"This name will be visible to other users"})]})})]})})]})})]})}function Dh(r){const[e,t]=N(""),[n,s]=N(""),[o,a]=N(""),[c,l]=N(!1),[u,f]=N(null),[d,h]=N(!1),[p,g]=N(!1),v=()=>e.trim()?n.trim()?n.length<8?(f("New password must be at least 8 characters long"),!1):n!==o?(f("Passwords do not match"),!1):e===n?(f("New password must be different from current password"),!1):!0:(f("New password is required"),!1):(f("Current password is required"),!1),S=async()=>{if(v())try{l(!0),f(null),h(!1),await Z.auth.apiChangePasswordCreate({newPassword:n,currentPassword:e,revokeOtherSessions:p}),h(!0),t(""),s(""),a(""),setTimeout(()=>{h(!1),window.location.href="/settings"},5e3)}catch(w){console.error("Password update error:",w),f(w?.error?.message||w?.message||"Failed to update password")}finally{l(!1)}},C=w=>{let k=0;return w.length>=8&&k++,/[A-Z]/.test(w)&&k++,/[a-z]/.test(w)&&k++,/[0-9]/.test(w)&&k++,/[^A-Za-z0-9]/.test(w)&&k++,k},x=w=>["Very Weak","Weak","Fair","Good","Strong"][w-1]||"Very Weak",E=w=>["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"][w-1]||"bg-red-500";return i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"max-w-2xl mx-auto",children:[i("div",{className:"flex items-center gap-4 mb-8",children:[i("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),i("h1",{className:"text-3xl font-bold",children:"Change Password"})]}),i("div",{className:"card bg-base-100 shadow-xl",children:i("div",{className:"card-body",children:[i("div",{className:"form-control",children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Current Password"})}),i("input",{type:"password",placeholder:"Enter current password",className:"input input-bordered w-full",value:e,onInput:w=>t(w.target.value)})]}),i("div",{className:"form-control mt-4",children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"New Password"})}),i("input",{type:"password",placeholder:"Enter new password",className:"input input-bordered w-full",value:n,onInput:w=>s(w.target.value)}),n&&i("div",{className:"mt-2",children:[i("div",{className:"flex items-center justify-between text-sm",children:[i("span",{children:"Password strength:"}),i("span",{className:`font-medium ${E(C(n)).replace("bg-","text-")}`,children:x(C(n))})]}),i("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:i("div",{className:`h-2 rounded-full ${E(C(n))}`,style:{width:`${C(n)/5*100}%`}})})]})]}),i("div",{className:"form-control mt-4",children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Confirm New Password"})}),i("input",{type:"password",placeholder:"Confirm new password",className:"input input-bordered w-full",value:o,onInput:w=>a(w.target.value)}),o&&n&&i("div",{className:"mt-1",children:n===o?i("span",{className:"text-success text-sm",children:"â Passwords match"}):i("span",{className:"text-error text-sm",children:"â Passwords do not match"})})]}),i("div",{className:"form-control mt-4",children:i("label",{className:"label cursor-pointer",children:[i("span",{className:"label-text",children:["Revoke all other sessions",i("span",{className:"text-sm opacity-70 block",children:"Log out from all devices and browsers after password change"})]}),i("input",{type:"checkbox",className:"checkbox",checked:p,onChange:w=>g(w.target.checked)})]})}),u&&i("div",{className:"alert alert-error mt-4",children:i("span",{children:u})}),d&&i("div",{className:"alert alert-success mt-4",children:i("span",{children:"Password updated successfully! All other sessions have been revoked if selected."})}),i("div",{className:"card-actions justify-between mt-6",children:[i("a",{href:"/settings",className:"btn btn-ghost",children:"Cancel"}),i("button",{className:`btn btn-primary ${c?"loading":""}`,onClick:S,disabled:c||!e||!n||!o,children:c?"Updating...":"Update Password"})]})]})}),i("div",{className:"alert alert-info mt-6",children:i("div",{children:[i("h3",{className:"font-bold",children:"Password Requirements"}),i("div",{className:"text-sm",children:i("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[i("li",{children:"Minimum 8 characters long"}),i("li",{children:"Use a mix of uppercase and lowercase letters"}),i("li",{children:"Include at least one number"}),i("li",{children:"Add special characters for extra strength"}),i("li",{children:"Choose a password different from your current one"})]})})]})})]})})]})}function Ph(r){const[e,t]=N([]),[n,s]=N(!0),[o,a]=N(null),[c,l]=N(null),[u,f]=N(null),[d,h]=N(null);q(()=>{p()},[]);const p=async()=>{try{s(!0),f(null);const w=await Z.auth.apiListAccountsList();t(w.data||[])}catch(w){console.error("Connected accounts load error:",w),f(w?.error?.message||w?.message||"Failed to load accounts")}finally{s(!1)}},g=async(w,k)=>{try{a(w),f(null);const T=await fetch("/auth/api/unlink-account",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({providerId:w,accountId:k})});if(!T.ok){const D=await T.json();throw new Error(D.message||"Failed to unlink account")}h(`Successfully unlinked ${S(w)}`),await p(),setTimeout(()=>h(null),3e3)}catch(T){f(T.message||"Failed to unlink account")}finally{a(null)}},v=async w=>{try{l(w),f(null);const k=await fetch("/auth/api/link-social",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:w,callbackURL:`${window.location.origin}/settings/accounts`})});if(!k.ok){const D=await k.json();throw new Error(D.message||"Failed to initiate linking")}const T=await k.json();T.redirect&&T.url?window.location.href=T.url:(h(`Successfully linked ${S(w)}`),await p())}catch(k){f(k.message||"Failed to link account")}finally{l(null)}},S=w=>({google:"Google",twitter:"Twitter",github:"GitHub",discord:"Discord",facebook:"Facebook"})[w]||w,C=w=>({google:"ð",twitter:"ð¦",github:"ð",discord:"ð¬",facebook:"ð"})[w]||"ð",x=w=>e.some(k=>k.providerId===w),E=["google","twitter","github","discord"];return n?i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"flex justify-center",children:i("span",{className:"loading loading-spinner loading-lg"})})})]}):i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"max-w-3xl mx-auto",children:[i("div",{className:"flex items-center gap-4 mb-8",children:[i("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),i("h1",{className:"text-3xl font-bold",children:"Connected Accounts"})]}),i("div",{className:"card bg-base-100 shadow-xl mb-8",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title text-xl mb-4",children:"Linked Accounts"}),e.length===0?i("p",{className:"text-gray-500",children:"No accounts linked yet. Connect your social accounts below."}):i("div",{className:"space-y-4",children:e.map(w=>i("div",{className:"flex items-center justify-between p-4 border border-base-300 rounded-lg",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:i("span",{className:"text-lg",children:C(w.providerId)})})}),i("div",{children:[i("div",{className:"font-semibold",children:S(w.providerId)}),i("div",{className:"text-sm text-gray-500",children:["Connected on"," ",new Date(w.createdAt).toLocaleDateString()]}),w.scopes&&w.scopes.length>0&&i("div",{className:"text-xs text-gray-400",children:["Scopes: ",w.scopes.join(", ")]})]})]}),i("button",{className:`btn btn-sm btn-outline btn-error ${o===w.providerId?"loading":""}`,onClick:()=>g(w.providerId,w.accountId),disabled:o!==null,children:o===w.providerId?"Unlinking...":"Unlink"})]},w.id))})]})}),i("div",{className:"card bg-base-100 shadow-xl",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title text-xl mb-4",children:"Connect New Account"}),i("p",{className:"text-sm text-gray-600 mb-6",children:"Connect your social accounts to easily sign in and link your profiles."}),i("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(w=>{const k=x(w);return i("div",{className:`flex items-center justify-between p-4 border border-base-300 rounded-lg ${k?"bg-base-200":""}`,children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:i("span",{className:"text-lg",children:C(w)})})}),i("div",{children:[i("div",{className:"font-semibold",children:S(w)}),i("div",{className:"text-sm text-gray-500",children:k?"Already connected":"Available to connect"})]})]}),i("button",{className:`btn btn-sm ${k?"btn-disabled":"btn-primary"} ${c===w?"loading":""}`,onClick:()=>v(w),disabled:k||c!==null,children:k?"Connected":c===w?"Connecting...":"Connect"})]},w)})})]})}),u&&i("div",{className:"alert alert-error mt-6",children:i("span",{children:u})}),d&&i("div",{className:"alert alert-success mt-6",children:i("span",{children:d})}),i("div",{className:"alert alert-info mt-6",children:i("div",{children:[i("h3",{className:"font-bold",children:"About Connected Accounts"}),i("div",{className:"text-sm mt-2",children:[i("p",{className:"mb-2",children:"Connecting social accounts allows you to:"}),i("ul",{className:"list-disc list-inside space-y-1",children:[i("li",{children:"Sign in more easily using your social credentials"}),i("li",{children:"Link your profiles across different platforms"}),i("li",{children:"Import profile information and avatars"}),i("li",{children:"Maintain a unified account across services"})]}),i("p",{className:"mt-2 text-yellow-600",children:[i("strong",{children:"Note:"})," Unlinking an account will remove the connection but won't delete your account. Make sure you have other ways to sign in before unlinking your last connected account."]})]})]})})]})})]})}function Lh(r){const[e,t]=N([]),[n,s]=N(!0),[o,a]=N(null),[c,l]=N(!1),[u,f]=N(null),[d,h]=N(null),[p,g]=N(null);q(()=>{v()},[]);const v=async()=>{try{s(!0),f(null);const D=await Z.auth.apiGetSessionList();if(!D.data)throw new Error("No session data received");g(D.data.session.id);const I=await Z.auth.apiListSessionsList();t(I.data||[])}catch(D){if(console.error("Sessions load error:",D),D?.error?.status===401){f("Session expired. Please log in again.");return}f(D?.error?.message||D?.message||"Failed to load sessions. Please try refreshing the page.")}finally{s(!1)}},S=D=>{if(!D)return i(Us,{});const I=D.toLowerCase();return I.includes("mobile")||I.includes("android")||I.includes("iphone")?i(Ya,{}):I.includes("tablet")||I.includes("ipad")?i(Za,{}):i(Us,{})},C=D=>{if(!D)return"Desktop";const I=D.toLowerCase();return I.includes("mobile")?"Mobile":I.includes("tablet")?"Tablet":I.includes("android")?"Android":I.includes("iphone")||I.includes("ipad")?"iOS":I.includes("windows")?"Windows":I.includes("mac")?"macOS":I.includes("linux")?"Linux":"Desktop"},x=async(D,I=!1)=>{if(I){await E();return}try{a(D),f(null),await Z.auth.apiRevokeSessionCreate({token:D}),h("Session revoked successfully"),await v(),setTimeout(()=>h(null),3e3)}catch(B){console.error("Revoke session error:",B),f(B?.error?.message||B?.message||"Failed to revoke session")}finally{a(null)}},E=async()=>{try{l(!0),f(null),await Z.auth.apiRevokeOtherSessionsCreate({}),h("All other sessions revoked successfully"),await v(),setTimeout(()=>h(null),3e3)}catch(D){console.error("Revoke other sessions error:",D),f(D?.error?.message||D?.message||"Failed to revoke other sessions")}finally{l(!1)}},w=D=>{const I=new Date(D),J=new Date().getTime()-I.getTime(),Y=Math.floor(J/(1e3*60*60*24)),V=Math.floor(J/(1e3*60*60)),ne=Math.floor(J/(1e3*60));return ne<1?"Just now":ne<60?`${ne} minutes ago`:V<24?`${V} hours ago`:Y<7?`${Y} days ago`:I.toLocaleDateString()+" "+I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},k=e.filter(D=>D.id!==p),T=k.length>0;return n?i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"flex justify-center",children:i("span",{className:"loading loading-spinner loading-lg"})})})]}):i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"max-w-4xl mx-auto",children:[i("div",{className:"flex items-center gap-4 mb-8",children:[i("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),i("h1",{className:"text-3xl font-bold",children:"Active Sessions"})]}),T&&i("div",{className:"card bg-base-100 shadow-xl mb-8",children:i("div",{className:"card-body",children:i("div",{className:"flex items-center justify-between",children:[i("div",{children:[i("h3",{className:"card-title text-lg",children:"Active Sessions"}),i("p",{className:"text-sm opacity-70",children:[k.length," other session",k.length!==1?"s":""," active"]})]}),i("button",{className:`btn btn-outline btn-error ${c?"loading":""}`,onClick:E,disabled:c,children:c?"Revoking...":"Revoke All Others"})]})})}),p&&i("div",{className:"card bg-base-100 shadow-xl mb-8",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title text-xl mb-4",children:"Current Session"}),i("div",{className:"space-y-4",children:e.filter(D=>D.id===p).map(D=>i("div",{className:"flex items-center justify-between p-4 border border-base-300 rounded-lg bg-success bg-opacity-10 border-success border-opacity-30",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-success text-white rounded-full w-10",children:i("span",{className:"text-lg",children:"â"})})}),i("div",{children:[i("div",{className:"font-semibold flex items-center gap-2",children:[C(D.userAgent||""),i("span",{className:"badge badge-success badge-sm",children:"Current"})]}),i("div",{className:"text-sm text-gray-500",children:["IP: ",D.ipAddress||"Unknown"]}),i("div",{className:"text-sm text-gray-500",children:["Started: ",w(D.createdAt)]})]})]}),i("div",{className:"text-xs opacity-50",children:"Active now"})]},D.id))})]})}),i("div",{className:"card bg-base-100 shadow-xl",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title text-xl mb-4",children:"Other Sessions"}),T?i("div",{className:"space-y-4",children:k.map(D=>i("div",{className:"flex items-center justify-between p-4 border border-base-300 rounded-lg",children:[i("div",{className:"flex items-center gap-3",children:[i("div",{className:"avatar placeholder",children:i("div",{className:"bg-neutral text-neutral-content rounded-full w-10 flex items-center justify-center text-sm",children:S(D.userAgent||"")})}),i("div",{children:[i("div",{className:"font-semibold",children:C(D.userAgent||"")}),i("div",{className:"text-sm text-gray-500",children:["IP: ",D.ipAddress||"Unknown"]}),i("div",{className:"text-sm text-gray-500",children:["Started: ",w(D.createdAt)]}),i("div",{className:"text-sm text-gray-500",children:["Last active: ",w(D.updatedAt)]})]})]}),i("button",{className:`btn btn-sm btn-outline btn-error ${o===D.token?"loading":""}`,onClick:()=>x(D.token),disabled:o!==null||c,children:o===D.token?"Revoking...":"Revoke"})]},D.id))}):i("div",{className:"text-center py-8",children:[i("div",{className:"text-6xl mb-4",children:"ð"}),i("h3",{className:"font-bold text-lg mb-2",children:"No Other Active Sessions"}),i("p",{className:"text-gray-500 text-sm",children:"Other devices and browsers where you're signed in will appear here."})]})]})}),u&&i("div",{className:"alert alert-error mt-6",children:i("span",{children:u})}),d&&i("div",{className:"alert alert-success mt-6",children:i("span",{children:d})}),i("div",{className:"alert alert-info mt-6",children:i("div",{children:[i("h3",{className:"font-bold",children:"Session Security"}),i("div",{className:"text-sm mt-2",children:[i("p",{className:"mb-2",children:"Active sessions represent devices and browsers where you're currently signed in."}),i("ul",{className:"list-disc list-inside space-y-1",children:[i("li",{children:"Monitor and revoke access from suspicious or unused devices"}),i("li",{children:"Regularly review your active sessions for security"}),i("li",{children:"Revoking a session immediately logs it out"}),i("li",{children:"If you suspect unauthorized access, change your password immediately"})]})]})]})})]})})]})}function Rh(r){const[e,t]=N(""),[n,s]=N(""),[o,a]=N(!1),[c,l]=N(null),[u,f]=N(null);return i($,{children:[i(X,{}),i("div",{className:"container mx-auto px-4 py-8",children:i("div",{className:"max-w-2xl mx-auto",children:[i("div",{className:"flex items-center gap-4 mb-8",children:[i("a",{href:"/settings",className:"btn btn-ghost btn-sm",children:"â Back to Settings"}),i("h1",{className:"text-3xl font-bold text-error",children:"Delete Account"})]}),i("div",{className:"alert alert-error mb-8",children:i("div",{children:[i("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.268 16.5c-.77.833 0 2.5 1.732 2.5z"})}),i("div",{children:[i("h3",{className:"font-bold text-lg",children:"Danger Zone"}),i("div",{className:"text-sm",children:"Deleting your account is permanent and cannot be undone. All your data, posts, comments, and settings will be permanently removed."})]})]})}),i("div",{className:"card bg-base-100 shadow-xl mb-8",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title text-xl text-error",children:"What will be deleted?"}),i("div",{className:"space-y-3",children:[i("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[i("span",{className:"text-error text-xl",children:"ð¤"}),i("div",{className:"text-sm",children:[i("strong",{children:"Profile & Personal Data:"})," Your name, email, profile picture, and personal information"]})]}),i("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[i("span",{className:"text-error text-xl",children:"ð¬"}),i("div",{className:"text-sm",children:[i("strong",{children:"Content & Activity:"})," All posts, comments, likes, and any content you've created"]})]}),i("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[i("span",{className:"text-error text-xl",children:"ð"}),i("div",{className:"text-sm",children:[i("strong",{children:"Connected Accounts:"})," All social media links and connected services will be disconnected"]})]}),i("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[i("span",{className:"text-error text-xl",children:"ð"}),i("div",{className:"text-sm",children:[i("strong",{children:"Sessions:"})," All active sessions will be terminated"]})]}),i("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[i("span",{className:"text-error text-xl",children:"âï¸"}),i("div",{className:"text-sm",children:[i("strong",{children:"Settings & Preferences:"})," All personal settings, themes, and customizations"]})]})]}),i("div",{className:"mt-6 p-4 bg-warning bg-opacity-10 border border-warning rounded-lg",children:[i("h4",{className:"font-semibold text-warning mb-2",children:"â ï¸ Important Considerations"}),i("ul",{className:"text-sm list-disc list-inside space-y-1",children:[i("li",{children:[i("strong",{children:"Backup your data:"})," Download or save any important content before deleting"]}),i("li",{children:[i("strong",{children:"Connected services:"})," You may need to re-authorize with other services"]}),i("li",{children:[i("strong",{children:"Premium features:"})," Any paid features or subscriptions will be immediately canceled"]}),i("li",{children:[i("strong",{children:"No recovery:"})," Once deleted, accounts cannot be recovered"]})]})]})]})}),i("div",{className:"card bg-base-100 shadow-xl border-red-500 border-2",children:i("div",{className:"card-body",children:[i("h2",{className:"card-title text-xl text-error",children:"Confirm Account Deletion"}),i("div",{className:"form-control",children:[i("label",{className:"label",children:i("span",{className:"label-text",children:"Enter your password to confirm"})}),i("input",{type:"password",placeholder:"Enter your current password",className:"input input-bordered w-full",value:e,onInput:h=>t(h.target.value)})]}),i("div",{className:"form-control mt-4",children:[i("label",{className:"label",children:i("span",{className:"label-text",children:'Type "DELETE" to confirm permanent deletion'})}),i("input",{type:"text",placeholder:"Type DELETE here",className:"input input-bordered w-full",value:n,onInput:h=>s(h.target.value)}),i("label",{className:"label",children:i("span",{className:"label-text-alt",children:"This action cannot be undone"})})]}),c&&i("div",{className:"alert alert-error mt-4",children:i("span",{children:c})}),i("div",{className:"card-actions justify-between mt-8",children:[i("a",{href:"/settings",className:"btn btn-ghost",children:"Cancel"}),i("button",{className:`btn btn-error ${o?"loading":""}`,onClick:async()=>{if(!e.trim()){l("Password is required to delete your account");return}if(n!=="DELETE"){l("Please type 'DELETE' to confirm account deletion");return}try{a(!0),l(null);const h=await Z.auth.apiDeleteUserCreate({password:e.trim(),callbackURL:`${window.location.origin}/settings`});h.data?.message==="Verification email sent"?(alert("A confirmation email has been sent to your email address. Please check your email and click the confirmation link to complete the account deletion."),window.location.href="/settings"):h.data?.success&&(alert("Your account has been successfully deleted."),window.location.href="/")}catch(h){console.error("Delete account error:",h),l(h?.error?.message||h?.message||"Failed to delete account")}finally{a(!1)}},disabled:o||!e.trim()||n!=="DELETE",children:o?"Deleting Account...":"Delete My Account"})]})]})}),i("div",{className:"alert alert-warning mt-6",children:i("div",{children:[i("h3",{className:"font-bold",children:"Think twice before deleting"}),i("div",{className:"text-sm mt-2",children:[i("p",{className:"mb-2",children:"Before you proceed, consider these alternatives:"}),i("ul",{className:"list-disc list-inside space-y-1",children:[i("li",{children:[i("strong",{children:"Take a break:"})," Temporarily deactivate your account instead (contact support)"]}),i("li",{children:[i("strong",{children:"Download your data:"})," Export your content and data first"]}),i("li",{children:[i("strong",{children:"Think about recovery:"})," Consider if you might want to return in the future"]}),i("li",{children:[i("strong",{children:"Contact support:"})," Reach out to us if you're experiencing issues we can help resolve"]})]})]})]})})]})})]})}function Ah(){return i($,{children:[i(X,{}),i("section",{children:[i("h1",{children:"404: Not Found"}),i("p",{children:"It's gone :("})]})]})}function Ih(){return i(Zt,{children:i("div",{class:"flex min-h-screen flex-col",children:[i("main",{children:i(ji,{children:[i(fe,{path:"/",component:lc}),i(fe,{path:"/blog",component:oc}),i(fe,{path:"/blog/:id",component:ac}),i(fe,{path:"/about",component:uc}),i(fe,{path:"/login",component:dc}),i(fe,{path:"/projects",component:hc}),i(fe,{path:"/projects/chess",component:Sh}),i(fe,{path:"/projects/arithmetic",component:Nh}),i(fe,{path:"/signup",component:Oh}),i(fe,{path:"/admin",component:Eh}),i(fe,{path:"/settings",component:kh}),i(fe,{path:"/settings/name",component:Th}),i(fe,{path:"/settings/password",component:Dh}),i(fe,{path:"/settings/accounts",component:Ph}),i(fe,{path:"/settings/sessions",component:Lh}),i(fe,{path:"/settings/delete",component:Rh}),i(fe,{default:!0,component:Ah})]})}),i(ua,{})]})})}St(i(Ih,{}),document.getElementById("app"));
