<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/ico" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <title>My Website</title>

    <!-- Inline script for fallback logic (runs before DOM loads) -->
    <script>
      function loadFallback() {
        console.log("SCRIPT LOADING FAILED, FALLING BACK TO BASE64 SCRIPT");

        // Function to decode Base64 to UTF-8 string
        function base64ToUTF8(base64) {
          // Decode Base64 to binary string
          const binaryString = atob(base64.trim());
          // Convert binary string to UTF-8
          const bytes = new Uint8Array(binaryString.length);
          for (let i = 0; i < binaryString.length; i++) {
            bytes[i] = binaryString.charCodeAt(i);
          }
          return new TextDecoder("utf-8").decode(bytes);
        }

        // Avoid duplicate loads if already loading fallback
        if (window.loadingFallback) return;
        window.loadingFallback = true;

        // Fetch the base64-encoded script file
        // generated with base64 dist/assets/index-oUVihqYx.js > dist/assets/fallback.js.base64
        fetch("/assets/fallback.js.base64") // Replace with the actual path to your base64 file (e.g., a .txt or .b64 file containing the base64 string)
          .then((response) => {
            if (!response.ok) {
              throw new Error("Failed to load base64 fallback");
            }
            return response.text();
          })
          .then((base64) => {
            const decodedScript = base64ToUTF8(base64);

            // Create a new script element with the decoded content
            const fallbackScript = document.createElement("script");
            fallbackScript.type = "module";
            fallbackScript.crossOrigin = "anonymous";
            fallbackScript.textContent = decodedScript;

            // Append to head (or body if preferred)
            document.head.appendChild(fallbackScript);

            // Optional: Clean up the flag after successful load
            fallbackScript.addEventListener("load", () => {
              window.loadingFallback = false;
            });
          });
      }
    </script>
    <script
      type="module"
      crossorigin
      src="/assets/index-D0wMmyJG.js"
      onerror="loadFallback()"
    ></script>
    <link rel="stylesheet" crossorigin href="/assets/index-DUKffx3B.css" />
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
